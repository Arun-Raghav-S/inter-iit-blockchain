import{c as w}from"./chunk-F52GIFKT.mjs";import{a as O,b as f,c as A,d as T,e as p,f as C,g as V,h as g,i as _,k as G,l as j,m as k,n as H,o as z,p as L,r,s as q}from"./chunk-7QJYTQSU.mjs";import{n as M}from"./chunk-C3Y52GHM.mjs";import{c as I}from"./chunk-Y5RQOXZH.mjs";import{b as l}from"./chunk-UR5E2UDO.mjs";import{a as o,b as x,c as y}from"./chunk-7B3VSBCX.mjs";import{a as E,b as B,c as S,d as b,e as v,f as $,g as F}from"./chunk-VMCFN5CT.mjs";import{b as h}from"./chunk-NL72WE3E.mjs";function Z(e){return e?.map(n=>f(n)?w(n):n)??[]}async function P(e,n,t,i){let s=(await I({aptosConfig:i,accountAddress:e,moduleName:n})).abi?.exposed_functions.find(c=>c.name===t);if(!s)throw new Error(`Could not find entry function ABI for '${e}::${n}::${t}'`);if(!s.is_entry)throw new Error(`'${e}::${n}::${t}' is not an entry function`);let D=q(s),m=[];for(let c=D;c<s.params.length;c+=1)m.push(w(s.params[c],{allowGenerics:!0}));return{typeParameters:s.generic_type_params,parameters:m}}function a(e,n,t,i,u){if(i>=n.parameters.length)throw new Error(`Too many arguments for '${e}', expected ${n.parameters.length}`);let s=n.parameters[i];return U(t,s,i,u)}function U(e,n,t,i){return C(e)?(d(n,e,t),e):J(e,n,t,i)}function J(e,n,t,i){if(n.isBool()){if(O(e))return new E(e);r("boolean",t)}if(n.isAddress()){if(f(e))return l.fromString(e);r("string | AccountAddress",t)}if(n.isU8()){if(A(e))return new B(e);r("number",t)}if(n.isU16()){if(A(e))return new S(e);r("number",t)}if(n.isU32()){if(A(e))return new b(e);r("number",t)}if(n.isU64()){if(T(e))return new v(BigInt(e));r("bigint | number | string",t)}if(n.isU128()){if(T(e))return new $(BigInt(e));r("bigint | number | string",t)}if(n.isU256()){if(T(e))return new F(BigInt(e));r("bigint | number | string",t)}if(n.isGeneric()){let u=n.value;if(u<0||u>=i.length)throw new Error(`Generic argument ${n.toString()} is invalid for argument ${t}`);return U(e,i[u],t,i)}if(n.isVector()){if(n.value.isU8()){if(f(e))try{return o.U8(h.fromHexInput(e).toUint8Array())}catch{throw new Error(`vector<u8> must be passed in as a hex string or a Uint8array, type '${n.toString()}'`)}if(e instanceof Uint8Array)return o.U8(e)}if(Array.isArray(e))return new o(e.map(u=>U(u,n.value,t,i)));throw new Error(`Type mismatch for argument ${t}, type '${n.toString()}'`)}if(n.isStruct()){if(n.isString()){if(f(e))return new x(e);r("string",t)}if(n.isObject()){if(f(e))return l.fromString(e);r("string | AccountAddress",t)}if(n.isOption())return p(e)?new y(null):new y(U(e,n.value.typeArgs[0],t,i));throw new Error(`Unsupported struct input type for argument ${t}, type '${n.toString()}'`)}throw new Error(`Type mismatch for argument ${t}, type '${n.toString()}'`)}function d(e,n,t){if(e.isBool()){if(V(n))return;r("Bool",t)}if(e.isAddress()){if(g(n))return;r("AccountAddress",t)}if(e.isU8()){if(G(n))return;r("U8",t)}if(e.isU16()){if(j(n))return;r("U16",t)}if(e.isU32()){if(k(n))return;r("U32",t)}if(e.isU64()){if(H(n))return;r("U64",t)}if(e.isU128()){if(z(n))return;r("U128",t)}if(e.isU256()){if(L(n))return;r("U256",t)}if(e.isVector()){if(n instanceof o){n.values.length>0&&d(e.value,n.values[0],t);return}r("MoveVector",t)}if(e instanceof M){if(e.isString()){if(_(n))return;r("MoveString",t)}if(e.isObject()){if(g(n))return;r("AccountAddress",t)}if(e.isOption()){if(n instanceof y){n.value!==void 0&&d(e.value.typeArgs[0],n.value,t);return}r("MoveOption",t)}}throw new Error(`Type mismatch for argument ${t}, expected '${e.toString()}'`)}export{Z as a,P as b,a as c,U as d};
//# sourceMappingURL=chunk-4FDIPWVB.mjs.map