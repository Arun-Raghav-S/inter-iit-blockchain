"use strict";var aptosSDK=(()=>{var Cl=Object.create;var fo=Object.defineProperty;var Cc=Object.getOwnPropertyDescriptor;var Ul=Object.getOwnPropertyNames;var Il=Object.getPrototypeOf,Pl=Object.prototype.hasOwnProperty;var Uc=(r=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(r,{get:(t,e)=>(typeof require<"u"?require:t)[e]}):r)(function(r){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+r+'" is not supported')});var Te=(r,t)=>()=>(t||r((t={exports:{}}).exports,t),t.exports),Ic=(r,t)=>{for(var e in t)fo(r,e,{get:t[e],enumerable:!0})},Pc=(r,t,e,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of Ul(t))!Pl.call(r,o)&&o!==e&&fo(r,o,{get:()=>t[o],enumerable:!(n=Cc(t,o))||n.enumerable});return r};var Rc=(r,t,e)=>(e=r!=null?Cl(Il(r)):{},Pc(t||!r||!r.__esModule?fo(e,"default",{value:r,enumerable:!0}):e,r)),Rl=r=>Pc(fo({},"__esModule",{value:!0}),r),mt=(r,t,e,n)=>{for(var o=n>1?void 0:n?Cc(t,e):t,s=r.length-1,a;s>=0;s--)(a=r[s])&&(o=(n?a(t,e,o):a(o))||o);return n&&o&&fo(t,e,o),o};var Jc=Te(()=>{"use strict"});var eu=Te((Jh,wi)=>{"use strict";(function(r){"use strict";var t=function(c){var d,f=new Float64Array(16);if(c)for(d=0;d<c.length;d++)f[d]=c[d];return f},e=function(){throw new Error("no PRNG")},n=new Uint8Array(16),o=new Uint8Array(32);o[0]=9;var s=t(),a=t([1]),u=t([56129,1]),p=t([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),y=t([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),h=t([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),A=t([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),_=t([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function T(c,d,f,i){c[d]=f>>24&255,c[d+1]=f>>16&255,c[d+2]=f>>8&255,c[d+3]=f&255,c[d+4]=i>>24&255,c[d+5]=i>>16&255,c[d+6]=i>>8&255,c[d+7]=i&255}function z(c,d,f,i,l){var m,x=0;for(m=0;m<l;m++)x|=c[d+m]^f[i+m];return(1&x-1>>>8)-1}function S(c,d,f,i){return z(c,d,f,i,16)}function P(c,d,f,i){return z(c,d,f,i,32)}function B(c,d,f,i){for(var l=i[0]&255|(i[1]&255)<<8|(i[2]&255)<<16|(i[3]&255)<<24,m=f[0]&255|(f[1]&255)<<8|(f[2]&255)<<16|(f[3]&255)<<24,x=f[4]&255|(f[5]&255)<<8|(f[6]&255)<<16|(f[7]&255)<<24,E=f[8]&255|(f[9]&255)<<8|(f[10]&255)<<16|(f[11]&255)<<24,R=f[12]&255|(f[13]&255)<<8|(f[14]&255)<<16|(f[15]&255)<<24,Q=i[4]&255|(i[5]&255)<<8|(i[6]&255)<<16|(i[7]&255)<<24,q=d[0]&255|(d[1]&255)<<8|(d[2]&255)<<16|(d[3]&255)<<24,_e=d[4]&255|(d[5]&255)<<8|(d[6]&255)<<16|(d[7]&255)<<24,G=d[8]&255|(d[9]&255)<<8|(d[10]&255)<<16|(d[11]&255)<<24,te=d[12]&255|(d[13]&255)<<8|(d[14]&255)<<16|(d[15]&255)<<24,re=i[8]&255|(i[9]&255)<<8|(i[10]&255)<<16|(i[11]&255)<<24,ue=f[16]&255|(f[17]&255)<<8|(f[18]&255)<<16|(f[19]&255)<<24,ce=f[20]&255|(f[21]&255)<<8|(f[22]&255)<<16|(f[23]&255)<<24,ne=f[24]&255|(f[25]&255)<<8|(f[26]&255)<<16|(f[27]&255)<<24,ie=f[28]&255|(f[29]&255)<<8|(f[30]&255)<<16|(f[31]&255)<<24,oe=i[12]&255|(i[13]&255)<<8|(i[14]&255)<<16|(i[15]&255)<<24,F=l,j=m,D=x,$=E,V=R,M=Q,b=q,w=_e,U=G,v=te,C=re,I=ue,Y=ce,fe=ne,le=ie,de=oe,g,ye=0;ye<20;ye+=2)g=F+Y|0,V^=g<<7|g>>>32-7,g=V+F|0,U^=g<<9|g>>>32-9,g=U+V|0,Y^=g<<13|g>>>32-13,g=Y+U|0,F^=g<<18|g>>>32-18,g=M+j|0,v^=g<<7|g>>>32-7,g=v+M|0,fe^=g<<9|g>>>32-9,g=fe+v|0,j^=g<<13|g>>>32-13,g=j+fe|0,M^=g<<18|g>>>32-18,g=C+b|0,le^=g<<7|g>>>32-7,g=le+C|0,D^=g<<9|g>>>32-9,g=D+le|0,b^=g<<13|g>>>32-13,g=b+D|0,C^=g<<18|g>>>32-18,g=de+I|0,$^=g<<7|g>>>32-7,g=$+de|0,w^=g<<9|g>>>32-9,g=w+$|0,I^=g<<13|g>>>32-13,g=I+w|0,de^=g<<18|g>>>32-18,g=F+$|0,j^=g<<7|g>>>32-7,g=j+F|0,D^=g<<9|g>>>32-9,g=D+j|0,$^=g<<13|g>>>32-13,g=$+D|0,F^=g<<18|g>>>32-18,g=M+V|0,b^=g<<7|g>>>32-7,g=b+M|0,w^=g<<9|g>>>32-9,g=w+b|0,V^=g<<13|g>>>32-13,g=V+w|0,M^=g<<18|g>>>32-18,g=C+v|0,I^=g<<7|g>>>32-7,g=I+C|0,U^=g<<9|g>>>32-9,g=U+I|0,v^=g<<13|g>>>32-13,g=v+U|0,C^=g<<18|g>>>32-18,g=de+le|0,Y^=g<<7|g>>>32-7,g=Y+de|0,fe^=g<<9|g>>>32-9,g=fe+Y|0,le^=g<<13|g>>>32-13,g=le+fe|0,de^=g<<18|g>>>32-18;F=F+l|0,j=j+m|0,D=D+x|0,$=$+E|0,V=V+R|0,M=M+Q|0,b=b+q|0,w=w+_e|0,U=U+G|0,v=v+te|0,C=C+re|0,I=I+ue|0,Y=Y+ce|0,fe=fe+ne|0,le=le+ie|0,de=de+oe|0,c[0]=F>>>0&255,c[1]=F>>>8&255,c[2]=F>>>16&255,c[3]=F>>>24&255,c[4]=j>>>0&255,c[5]=j>>>8&255,c[6]=j>>>16&255,c[7]=j>>>24&255,c[8]=D>>>0&255,c[9]=D>>>8&255,c[10]=D>>>16&255,c[11]=D>>>24&255,c[12]=$>>>0&255,c[13]=$>>>8&255,c[14]=$>>>16&255,c[15]=$>>>24&255,c[16]=V>>>0&255,c[17]=V>>>8&255,c[18]=V>>>16&255,c[19]=V>>>24&255,c[20]=M>>>0&255,c[21]=M>>>8&255,c[22]=M>>>16&255,c[23]=M>>>24&255,c[24]=b>>>0&255,c[25]=b>>>8&255,c[26]=b>>>16&255,c[27]=b>>>24&255,c[28]=w>>>0&255,c[29]=w>>>8&255,c[30]=w>>>16&255,c[31]=w>>>24&255,c[32]=U>>>0&255,c[33]=U>>>8&255,c[34]=U>>>16&255,c[35]=U>>>24&255,c[36]=v>>>0&255,c[37]=v>>>8&255,c[38]=v>>>16&255,c[39]=v>>>24&255,c[40]=C>>>0&255,c[41]=C>>>8&255,c[42]=C>>>16&255,c[43]=C>>>24&255,c[44]=I>>>0&255,c[45]=I>>>8&255,c[46]=I>>>16&255,c[47]=I>>>24&255,c[48]=Y>>>0&255,c[49]=Y>>>8&255,c[50]=Y>>>16&255,c[51]=Y>>>24&255,c[52]=fe>>>0&255,c[53]=fe>>>8&255,c[54]=fe>>>16&255,c[55]=fe>>>24&255,c[56]=le>>>0&255,c[57]=le>>>8&255,c[58]=le>>>16&255,c[59]=le>>>24&255,c[60]=de>>>0&255,c[61]=de>>>8&255,c[62]=de>>>16&255,c[63]=de>>>24&255}function H(c,d,f,i){for(var l=i[0]&255|(i[1]&255)<<8|(i[2]&255)<<16|(i[3]&255)<<24,m=f[0]&255|(f[1]&255)<<8|(f[2]&255)<<16|(f[3]&255)<<24,x=f[4]&255|(f[5]&255)<<8|(f[6]&255)<<16|(f[7]&255)<<24,E=f[8]&255|(f[9]&255)<<8|(f[10]&255)<<16|(f[11]&255)<<24,R=f[12]&255|(f[13]&255)<<8|(f[14]&255)<<16|(f[15]&255)<<24,Q=i[4]&255|(i[5]&255)<<8|(i[6]&255)<<16|(i[7]&255)<<24,q=d[0]&255|(d[1]&255)<<8|(d[2]&255)<<16|(d[3]&255)<<24,_e=d[4]&255|(d[5]&255)<<8|(d[6]&255)<<16|(d[7]&255)<<24,G=d[8]&255|(d[9]&255)<<8|(d[10]&255)<<16|(d[11]&255)<<24,te=d[12]&255|(d[13]&255)<<8|(d[14]&255)<<16|(d[15]&255)<<24,re=i[8]&255|(i[9]&255)<<8|(i[10]&255)<<16|(i[11]&255)<<24,ue=f[16]&255|(f[17]&255)<<8|(f[18]&255)<<16|(f[19]&255)<<24,ce=f[20]&255|(f[21]&255)<<8|(f[22]&255)<<16|(f[23]&255)<<24,ne=f[24]&255|(f[25]&255)<<8|(f[26]&255)<<16|(f[27]&255)<<24,ie=f[28]&255|(f[29]&255)<<8|(f[30]&255)<<16|(f[31]&255)<<24,oe=i[12]&255|(i[13]&255)<<8|(i[14]&255)<<16|(i[15]&255)<<24,F=l,j=m,D=x,$=E,V=R,M=Q,b=q,w=_e,U=G,v=te,C=re,I=ue,Y=ce,fe=ne,le=ie,de=oe,g,ye=0;ye<20;ye+=2)g=F+Y|0,V^=g<<7|g>>>32-7,g=V+F|0,U^=g<<9|g>>>32-9,g=U+V|0,Y^=g<<13|g>>>32-13,g=Y+U|0,F^=g<<18|g>>>32-18,g=M+j|0,v^=g<<7|g>>>32-7,g=v+M|0,fe^=g<<9|g>>>32-9,g=fe+v|0,j^=g<<13|g>>>32-13,g=j+fe|0,M^=g<<18|g>>>32-18,g=C+b|0,le^=g<<7|g>>>32-7,g=le+C|0,D^=g<<9|g>>>32-9,g=D+le|0,b^=g<<13|g>>>32-13,g=b+D|0,C^=g<<18|g>>>32-18,g=de+I|0,$^=g<<7|g>>>32-7,g=$+de|0,w^=g<<9|g>>>32-9,g=w+$|0,I^=g<<13|g>>>32-13,g=I+w|0,de^=g<<18|g>>>32-18,g=F+$|0,j^=g<<7|g>>>32-7,g=j+F|0,D^=g<<9|g>>>32-9,g=D+j|0,$^=g<<13|g>>>32-13,g=$+D|0,F^=g<<18|g>>>32-18,g=M+V|0,b^=g<<7|g>>>32-7,g=b+M|0,w^=g<<9|g>>>32-9,g=w+b|0,V^=g<<13|g>>>32-13,g=V+w|0,M^=g<<18|g>>>32-18,g=C+v|0,I^=g<<7|g>>>32-7,g=I+C|0,U^=g<<9|g>>>32-9,g=U+I|0,v^=g<<13|g>>>32-13,g=v+U|0,C^=g<<18|g>>>32-18,g=de+le|0,Y^=g<<7|g>>>32-7,g=Y+de|0,fe^=g<<9|g>>>32-9,g=fe+Y|0,le^=g<<13|g>>>32-13,g=le+fe|0,de^=g<<18|g>>>32-18;c[0]=F>>>0&255,c[1]=F>>>8&255,c[2]=F>>>16&255,c[3]=F>>>24&255,c[4]=M>>>0&255,c[5]=M>>>8&255,c[6]=M>>>16&255,c[7]=M>>>24&255,c[8]=C>>>0&255,c[9]=C>>>8&255,c[10]=C>>>16&255,c[11]=C>>>24&255,c[12]=de>>>0&255,c[13]=de>>>8&255,c[14]=de>>>16&255,c[15]=de>>>24&255,c[16]=b>>>0&255,c[17]=b>>>8&255,c[18]=b>>>16&255,c[19]=b>>>24&255,c[20]=w>>>0&255,c[21]=w>>>8&255,c[22]=w>>>16&255,c[23]=w>>>24&255,c[24]=U>>>0&255,c[25]=U>>>8&255,c[26]=U>>>16&255,c[27]=U>>>24&255,c[28]=v>>>0&255,c[29]=v>>>8&255,c[30]=v>>>16&255,c[31]=v>>>24&255}function k(c,d,f,i){B(c,d,f,i)}function ee(c,d,f,i){H(c,d,f,i)}var L=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function W(c,d,f,i,l,m,x){var E=new Uint8Array(16),R=new Uint8Array(64),Q,q;for(q=0;q<16;q++)E[q]=0;for(q=0;q<8;q++)E[q]=m[q];for(;l>=64;){for(k(R,E,x,L),q=0;q<64;q++)c[d+q]=f[i+q]^R[q];for(Q=1,q=8;q<16;q++)Q=Q+(E[q]&255)|0,E[q]=Q&255,Q>>>=8;l-=64,d+=64,i+=64}if(l>0)for(k(R,E,x,L),q=0;q<l;q++)c[d+q]=f[i+q]^R[q];return 0}function J(c,d,f,i,l){var m=new Uint8Array(16),x=new Uint8Array(64),E,R;for(R=0;R<16;R++)m[R]=0;for(R=0;R<8;R++)m[R]=i[R];for(;f>=64;){for(k(x,m,l,L),R=0;R<64;R++)c[d+R]=x[R];for(E=1,R=8;R<16;R++)E=E+(m[R]&255)|0,m[R]=E&255,E>>>=8;f-=64,d+=64}if(f>0)for(k(x,m,l,L),R=0;R<f;R++)c[d+R]=x[R];return 0}function X(c,d,f,i,l){var m=new Uint8Array(32);ee(m,i,l,L);for(var x=new Uint8Array(8),E=0;E<8;E++)x[E]=i[E+16];return J(c,d,f,x,m)}function Oe(c,d,f,i,l,m,x){var E=new Uint8Array(32);ee(E,m,x,L);for(var R=new Uint8Array(8),Q=0;Q<8;Q++)R[Q]=m[Q+16];return W(c,d,f,i,l,R,E)}var xe=function(c){this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0;var d,f,i,l,m,x,E,R;d=c[0]&255|(c[1]&255)<<8,this.r[0]=d&8191,f=c[2]&255|(c[3]&255)<<8,this.r[1]=(d>>>13|f<<3)&8191,i=c[4]&255|(c[5]&255)<<8,this.r[2]=(f>>>10|i<<6)&7939,l=c[6]&255|(c[7]&255)<<8,this.r[3]=(i>>>7|l<<9)&8191,m=c[8]&255|(c[9]&255)<<8,this.r[4]=(l>>>4|m<<12)&255,this.r[5]=m>>>1&8190,x=c[10]&255|(c[11]&255)<<8,this.r[6]=(m>>>14|x<<2)&8191,E=c[12]&255|(c[13]&255)<<8,this.r[7]=(x>>>11|E<<5)&8065,R=c[14]&255|(c[15]&255)<<8,this.r[8]=(E>>>8|R<<8)&8191,this.r[9]=R>>>5&127,this.pad[0]=c[16]&255|(c[17]&255)<<8,this.pad[1]=c[18]&255|(c[19]&255)<<8,this.pad[2]=c[20]&255|(c[21]&255)<<8,this.pad[3]=c[22]&255|(c[23]&255)<<8,this.pad[4]=c[24]&255|(c[25]&255)<<8,this.pad[5]=c[26]&255|(c[27]&255)<<8,this.pad[6]=c[28]&255|(c[29]&255)<<8,this.pad[7]=c[30]&255|(c[31]&255)<<8};xe.prototype.blocks=function(c,d,f){for(var i=this.fin?0:2048,l,m,x,E,R,Q,q,_e,G,te,re,ue,ce,ne,ie,oe,F,j,D,$=this.h[0],V=this.h[1],M=this.h[2],b=this.h[3],w=this.h[4],U=this.h[5],v=this.h[6],C=this.h[7],I=this.h[8],Y=this.h[9],fe=this.r[0],le=this.r[1],de=this.r[2],g=this.r[3],ye=this.r[4],ve=this.r[5],Se=this.r[6],ge=this.r[7],be=this.r[8],we=this.r[9];f>=16;)l=c[d+0]&255|(c[d+1]&255)<<8,$+=l&8191,m=c[d+2]&255|(c[d+3]&255)<<8,V+=(l>>>13|m<<3)&8191,x=c[d+4]&255|(c[d+5]&255)<<8,M+=(m>>>10|x<<6)&8191,E=c[d+6]&255|(c[d+7]&255)<<8,b+=(x>>>7|E<<9)&8191,R=c[d+8]&255|(c[d+9]&255)<<8,w+=(E>>>4|R<<12)&8191,U+=R>>>1&8191,Q=c[d+10]&255|(c[d+11]&255)<<8,v+=(R>>>14|Q<<2)&8191,q=c[d+12]&255|(c[d+13]&255)<<8,C+=(Q>>>11|q<<5)&8191,_e=c[d+14]&255|(c[d+15]&255)<<8,I+=(q>>>8|_e<<8)&8191,Y+=_e>>>5|i,G=0,te=G,te+=$*fe,te+=V*(5*we),te+=M*(5*be),te+=b*(5*ge),te+=w*(5*Se),G=te>>>13,te&=8191,te+=U*(5*ve),te+=v*(5*ye),te+=C*(5*g),te+=I*(5*de),te+=Y*(5*le),G+=te>>>13,te&=8191,re=G,re+=$*le,re+=V*fe,re+=M*(5*we),re+=b*(5*be),re+=w*(5*ge),G=re>>>13,re&=8191,re+=U*(5*Se),re+=v*(5*ve),re+=C*(5*ye),re+=I*(5*g),re+=Y*(5*de),G+=re>>>13,re&=8191,ue=G,ue+=$*de,ue+=V*le,ue+=M*fe,ue+=b*(5*we),ue+=w*(5*be),G=ue>>>13,ue&=8191,ue+=U*(5*ge),ue+=v*(5*Se),ue+=C*(5*ve),ue+=I*(5*ye),ue+=Y*(5*g),G+=ue>>>13,ue&=8191,ce=G,ce+=$*g,ce+=V*de,ce+=M*le,ce+=b*fe,ce+=w*(5*we),G=ce>>>13,ce&=8191,ce+=U*(5*be),ce+=v*(5*ge),ce+=C*(5*Se),ce+=I*(5*ve),ce+=Y*(5*ye),G+=ce>>>13,ce&=8191,ne=G,ne+=$*ye,ne+=V*g,ne+=M*de,ne+=b*le,ne+=w*fe,G=ne>>>13,ne&=8191,ne+=U*(5*we),ne+=v*(5*be),ne+=C*(5*ge),ne+=I*(5*Se),ne+=Y*(5*ve),G+=ne>>>13,ne&=8191,ie=G,ie+=$*ve,ie+=V*ye,ie+=M*g,ie+=b*de,ie+=w*le,G=ie>>>13,ie&=8191,ie+=U*fe,ie+=v*(5*we),ie+=C*(5*be),ie+=I*(5*ge),ie+=Y*(5*Se),G+=ie>>>13,ie&=8191,oe=G,oe+=$*Se,oe+=V*ve,oe+=M*ye,oe+=b*g,oe+=w*de,G=oe>>>13,oe&=8191,oe+=U*le,oe+=v*fe,oe+=C*(5*we),oe+=I*(5*be),oe+=Y*(5*ge),G+=oe>>>13,oe&=8191,F=G,F+=$*ge,F+=V*Se,F+=M*ve,F+=b*ye,F+=w*g,G=F>>>13,F&=8191,F+=U*de,F+=v*le,F+=C*fe,F+=I*(5*we),F+=Y*(5*be),G+=F>>>13,F&=8191,j=G,j+=$*be,j+=V*ge,j+=M*Se,j+=b*ve,j+=w*ye,G=j>>>13,j&=8191,j+=U*g,j+=v*de,j+=C*le,j+=I*fe,j+=Y*(5*we),G+=j>>>13,j&=8191,D=G,D+=$*we,D+=V*be,D+=M*ge,D+=b*Se,D+=w*ve,G=D>>>13,D&=8191,D+=U*ye,D+=v*g,D+=C*de,D+=I*le,D+=Y*fe,G+=D>>>13,D&=8191,G=(G<<2)+G|0,G=G+te|0,te=G&8191,G=G>>>13,re+=G,$=te,V=re,M=ue,b=ce,w=ne,U=ie,v=oe,C=F,I=j,Y=D,d+=16,f-=16;this.h[0]=$,this.h[1]=V,this.h[2]=M,this.h[3]=b,this.h[4]=w,this.h[5]=U,this.h[6]=v,this.h[7]=C,this.h[8]=I,this.h[9]=Y},xe.prototype.finish=function(c,d){var f=new Uint16Array(10),i,l,m,x;if(this.leftover){for(x=this.leftover,this.buffer[x++]=1;x<16;x++)this.buffer[x]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(i=this.h[1]>>>13,this.h[1]&=8191,x=2;x<10;x++)this.h[x]+=i,i=this.h[x]>>>13,this.h[x]&=8191;for(this.h[0]+=i*5,i=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=i,i=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=i,f[0]=this.h[0]+5,i=f[0]>>>13,f[0]&=8191,x=1;x<10;x++)f[x]=this.h[x]+i,i=f[x]>>>13,f[x]&=8191;for(f[9]-=8192,l=(i^1)-1,x=0;x<10;x++)f[x]&=l;for(l=~l,x=0;x<10;x++)this.h[x]=this.h[x]&l|f[x];for(this.h[0]=(this.h[0]|this.h[1]<<13)&65535,this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535,this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535,this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535,this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535,this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535,this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535,this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535,m=this.h[0]+this.pad[0],this.h[0]=m&65535,x=1;x<8;x++)m=(this.h[x]+this.pad[x]|0)+(m>>>16)|0,this.h[x]=m&65535;c[d+0]=this.h[0]>>>0&255,c[d+1]=this.h[0]>>>8&255,c[d+2]=this.h[1]>>>0&255,c[d+3]=this.h[1]>>>8&255,c[d+4]=this.h[2]>>>0&255,c[d+5]=this.h[2]>>>8&255,c[d+6]=this.h[3]>>>0&255,c[d+7]=this.h[3]>>>8&255,c[d+8]=this.h[4]>>>0&255,c[d+9]=this.h[4]>>>8&255,c[d+10]=this.h[5]>>>0&255,c[d+11]=this.h[5]>>>8&255,c[d+12]=this.h[6]>>>0&255,c[d+13]=this.h[6]>>>8&255,c[d+14]=this.h[7]>>>0&255,c[d+15]=this.h[7]>>>8&255},xe.prototype.update=function(c,d,f){var i,l;if(this.leftover){for(l=16-this.leftover,l>f&&(l=f),i=0;i<l;i++)this.buffer[this.leftover+i]=c[d+i];if(f-=l,d+=l,this.leftover+=l,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(f>=16&&(l=f-f%16,this.blocks(c,d,l),d+=l,f-=l),f){for(i=0;i<f;i++)this.buffer[this.leftover+i]=c[d+i];this.leftover+=f}};function he(c,d,f,i,l,m){var x=new xe(m);return x.update(f,i,l),x.finish(c,d),0}function Qe(c,d,f,i,l,m){var x=new Uint8Array(16);return he(x,0,f,i,l,m),S(c,d,x,0)}function We(c,d,f,i,l){var m;if(f<32)return-1;for(Oe(c,0,d,0,f,i,l),he(c,16,c,32,f-32,c),m=0;m<16;m++)c[m]=0;return 0}function ht(c,d,f,i,l){var m,x=new Uint8Array(32);if(f<32||(X(x,0,32,i,l),Qe(d,16,d,32,f-32,x)!==0))return-1;for(Oe(c,0,d,0,f,i,l),m=0;m<32;m++)c[m]=0;return 0}function O(c,d){var f;for(f=0;f<16;f++)c[f]=d[f]|0}function K(c){var d,f,i=1;for(d=0;d<16;d++)f=c[d]+i+65535,i=Math.floor(f/65536),c[d]=f-i*65536;c[0]+=i-1+37*(i-1)}function se(c,d,f){for(var i,l=~(f-1),m=0;m<16;m++)i=l&(c[m]^d[m]),c[m]^=i,d[m]^=i}function Ee(c,d){var f,i,l,m=t(),x=t();for(f=0;f<16;f++)x[f]=d[f];for(K(x),K(x),K(x),i=0;i<2;i++){for(m[0]=x[0]-65517,f=1;f<15;f++)m[f]=x[f]-65535-(m[f-1]>>16&1),m[f-1]&=65535;m[15]=x[15]-32767-(m[14]>>16&1),l=m[15]>>16&1,m[14]&=65535,se(x,m,1-l)}for(f=0;f<16;f++)c[2*f]=x[f]&255,c[2*f+1]=x[f]>>8}function Ue(c,d){var f=new Uint8Array(32),i=new Uint8Array(32);return Ee(f,c),Ee(i,d),P(f,0,i,0)}function je(c){var d=new Uint8Array(32);return Ee(d,c),d[0]&1}function at(c,d){var f;for(f=0;f<16;f++)c[f]=d[2*f]+(d[2*f+1]<<8);c[15]&=32767}function Ne(c,d,f){for(var i=0;i<16;i++)c[i]=d[i]+f[i]}function Xe(c,d,f){for(var i=0;i<16;i++)c[i]=d[i]-f[i]}function ae(c,d,f){var i,l,m=0,x=0,E=0,R=0,Q=0,q=0,_e=0,G=0,te=0,re=0,ue=0,ce=0,ne=0,ie=0,oe=0,F=0,j=0,D=0,$=0,V=0,M=0,b=0,w=0,U=0,v=0,C=0,I=0,Y=0,fe=0,le=0,de=0,g=f[0],ye=f[1],ve=f[2],Se=f[3],ge=f[4],be=f[5],we=f[6],Ye=f[7],Pe=f[8],De=f[9],Ge=f[10],Le=f[11],et=f[12],ut=f[13],ft=f[14],dt=f[15];i=d[0],m+=i*g,x+=i*ye,E+=i*ve,R+=i*Se,Q+=i*ge,q+=i*be,_e+=i*we,G+=i*Ye,te+=i*Pe,re+=i*De,ue+=i*Ge,ce+=i*Le,ne+=i*et,ie+=i*ut,oe+=i*ft,F+=i*dt,i=d[1],x+=i*g,E+=i*ye,R+=i*ve,Q+=i*Se,q+=i*ge,_e+=i*be,G+=i*we,te+=i*Ye,re+=i*Pe,ue+=i*De,ce+=i*Ge,ne+=i*Le,ie+=i*et,oe+=i*ut,F+=i*ft,j+=i*dt,i=d[2],E+=i*g,R+=i*ye,Q+=i*ve,q+=i*Se,_e+=i*ge,G+=i*be,te+=i*we,re+=i*Ye,ue+=i*Pe,ce+=i*De,ne+=i*Ge,ie+=i*Le,oe+=i*et,F+=i*ut,j+=i*ft,D+=i*dt,i=d[3],R+=i*g,Q+=i*ye,q+=i*ve,_e+=i*Se,G+=i*ge,te+=i*be,re+=i*we,ue+=i*Ye,ce+=i*Pe,ne+=i*De,ie+=i*Ge,oe+=i*Le,F+=i*et,j+=i*ut,D+=i*ft,$+=i*dt,i=d[4],Q+=i*g,q+=i*ye,_e+=i*ve,G+=i*Se,te+=i*ge,re+=i*be,ue+=i*we,ce+=i*Ye,ne+=i*Pe,ie+=i*De,oe+=i*Ge,F+=i*Le,j+=i*et,D+=i*ut,$+=i*ft,V+=i*dt,i=d[5],q+=i*g,_e+=i*ye,G+=i*ve,te+=i*Se,re+=i*ge,ue+=i*be,ce+=i*we,ne+=i*Ye,ie+=i*Pe,oe+=i*De,F+=i*Ge,j+=i*Le,D+=i*et,$+=i*ut,V+=i*ft,M+=i*dt,i=d[6],_e+=i*g,G+=i*ye,te+=i*ve,re+=i*Se,ue+=i*ge,ce+=i*be,ne+=i*we,ie+=i*Ye,oe+=i*Pe,F+=i*De,j+=i*Ge,D+=i*Le,$+=i*et,V+=i*ut,M+=i*ft,b+=i*dt,i=d[7],G+=i*g,te+=i*ye,re+=i*ve,ue+=i*Se,ce+=i*ge,ne+=i*be,ie+=i*we,oe+=i*Ye,F+=i*Pe,j+=i*De,D+=i*Ge,$+=i*Le,V+=i*et,M+=i*ut,b+=i*ft,w+=i*dt,i=d[8],te+=i*g,re+=i*ye,ue+=i*ve,ce+=i*Se,ne+=i*ge,ie+=i*be,oe+=i*we,F+=i*Ye,j+=i*Pe,D+=i*De,$+=i*Ge,V+=i*Le,M+=i*et,b+=i*ut,w+=i*ft,U+=i*dt,i=d[9],re+=i*g,ue+=i*ye,ce+=i*ve,ne+=i*Se,ie+=i*ge,oe+=i*be,F+=i*we,j+=i*Ye,D+=i*Pe,$+=i*De,V+=i*Ge,M+=i*Le,b+=i*et,w+=i*ut,U+=i*ft,v+=i*dt,i=d[10],ue+=i*g,ce+=i*ye,ne+=i*ve,ie+=i*Se,oe+=i*ge,F+=i*be,j+=i*we,D+=i*Ye,$+=i*Pe,V+=i*De,M+=i*Ge,b+=i*Le,w+=i*et,U+=i*ut,v+=i*ft,C+=i*dt,i=d[11],ce+=i*g,ne+=i*ye,ie+=i*ve,oe+=i*Se,F+=i*ge,j+=i*be,D+=i*we,$+=i*Ye,V+=i*Pe,M+=i*De,b+=i*Ge,w+=i*Le,U+=i*et,v+=i*ut,C+=i*ft,I+=i*dt,i=d[12],ne+=i*g,ie+=i*ye,oe+=i*ve,F+=i*Se,j+=i*ge,D+=i*be,$+=i*we,V+=i*Ye,M+=i*Pe,b+=i*De,w+=i*Ge,U+=i*Le,v+=i*et,C+=i*ut,I+=i*ft,Y+=i*dt,i=d[13],ie+=i*g,oe+=i*ye,F+=i*ve,j+=i*Se,D+=i*ge,$+=i*be,V+=i*we,M+=i*Ye,b+=i*Pe,w+=i*De,U+=i*Ge,v+=i*Le,C+=i*et,I+=i*ut,Y+=i*ft,fe+=i*dt,i=d[14],oe+=i*g,F+=i*ye,j+=i*ve,D+=i*Se,$+=i*ge,V+=i*be,M+=i*we,b+=i*Ye,w+=i*Pe,U+=i*De,v+=i*Ge,C+=i*Le,I+=i*et,Y+=i*ut,fe+=i*ft,le+=i*dt,i=d[15],F+=i*g,j+=i*ye,D+=i*ve,$+=i*Se,V+=i*ge,M+=i*be,b+=i*we,w+=i*Ye,U+=i*Pe,v+=i*De,C+=i*Ge,I+=i*Le,Y+=i*et,fe+=i*ut,le+=i*ft,de+=i*dt,m+=38*j,x+=38*D,E+=38*$,R+=38*V,Q+=38*M,q+=38*b,_e+=38*w,G+=38*U,te+=38*v,re+=38*C,ue+=38*I,ce+=38*Y,ne+=38*fe,ie+=38*le,oe+=38*de,l=1,i=m+l+65535,l=Math.floor(i/65536),m=i-l*65536,i=x+l+65535,l=Math.floor(i/65536),x=i-l*65536,i=E+l+65535,l=Math.floor(i/65536),E=i-l*65536,i=R+l+65535,l=Math.floor(i/65536),R=i-l*65536,i=Q+l+65535,l=Math.floor(i/65536),Q=i-l*65536,i=q+l+65535,l=Math.floor(i/65536),q=i-l*65536,i=_e+l+65535,l=Math.floor(i/65536),_e=i-l*65536,i=G+l+65535,l=Math.floor(i/65536),G=i-l*65536,i=te+l+65535,l=Math.floor(i/65536),te=i-l*65536,i=re+l+65535,l=Math.floor(i/65536),re=i-l*65536,i=ue+l+65535,l=Math.floor(i/65536),ue=i-l*65536,i=ce+l+65535,l=Math.floor(i/65536),ce=i-l*65536,i=ne+l+65535,l=Math.floor(i/65536),ne=i-l*65536,i=ie+l+65535,l=Math.floor(i/65536),ie=i-l*65536,i=oe+l+65535,l=Math.floor(i/65536),oe=i-l*65536,i=F+l+65535,l=Math.floor(i/65536),F=i-l*65536,m+=l-1+37*(l-1),l=1,i=m+l+65535,l=Math.floor(i/65536),m=i-l*65536,i=x+l+65535,l=Math.floor(i/65536),x=i-l*65536,i=E+l+65535,l=Math.floor(i/65536),E=i-l*65536,i=R+l+65535,l=Math.floor(i/65536),R=i-l*65536,i=Q+l+65535,l=Math.floor(i/65536),Q=i-l*65536,i=q+l+65535,l=Math.floor(i/65536),q=i-l*65536,i=_e+l+65535,l=Math.floor(i/65536),_e=i-l*65536,i=G+l+65535,l=Math.floor(i/65536),G=i-l*65536,i=te+l+65535,l=Math.floor(i/65536),te=i-l*65536,i=re+l+65535,l=Math.floor(i/65536),re=i-l*65536,i=ue+l+65535,l=Math.floor(i/65536),ue=i-l*65536,i=ce+l+65535,l=Math.floor(i/65536),ce=i-l*65536,i=ne+l+65535,l=Math.floor(i/65536),ne=i-l*65536,i=ie+l+65535,l=Math.floor(i/65536),ie=i-l*65536,i=oe+l+65535,l=Math.floor(i/65536),oe=i-l*65536,i=F+l+65535,l=Math.floor(i/65536),F=i-l*65536,m+=l-1+37*(l-1),c[0]=m,c[1]=x,c[2]=E,c[3]=R,c[4]=Q,c[5]=q,c[6]=_e,c[7]=G,c[8]=te,c[9]=re,c[10]=ue,c[11]=ce,c[12]=ne,c[13]=ie,c[14]=oe,c[15]=F}function Je(c,d){ae(c,d,d)}function Tr(c,d){var f=t(),i;for(i=0;i<16;i++)f[i]=d[i];for(i=253;i>=0;i--)Je(f,f),i!==2&&i!==4&&ae(f,f,d);for(i=0;i<16;i++)c[i]=f[i]}function Mt(c,d){var f=t(),i;for(i=0;i<16;i++)f[i]=d[i];for(i=250;i>=0;i--)Je(f,f),i!==1&&ae(f,f,d);for(i=0;i<16;i++)c[i]=f[i]}function _r(c,d,f){var i=new Uint8Array(32),l=new Float64Array(80),m,x,E=t(),R=t(),Q=t(),q=t(),_e=t(),G=t();for(x=0;x<31;x++)i[x]=d[x];for(i[31]=d[31]&127|64,i[0]&=248,at(l,f),x=0;x<16;x++)R[x]=l[x],q[x]=E[x]=Q[x]=0;for(E[0]=q[0]=1,x=254;x>=0;--x)m=i[x>>>3]>>>(x&7)&1,se(E,R,m),se(Q,q,m),Ne(_e,E,Q),Xe(E,E,Q),Ne(Q,R,q),Xe(R,R,q),Je(q,_e),Je(G,E),ae(E,Q,E),ae(Q,R,_e),Ne(_e,E,Q),Xe(E,E,Q),Je(R,E),Xe(Q,q,G),ae(E,Q,u),Ne(E,E,q),ae(Q,Q,E),ae(E,q,G),ae(q,R,l),Je(R,_e),se(E,R,m),se(Q,q,m);for(x=0;x<16;x++)l[x+16]=E[x],l[x+32]=Q[x],l[x+48]=R[x],l[x+64]=q[x];var te=l.subarray(32),re=l.subarray(16);return Tr(te,te),ae(re,re,te),Ee(c,re),0}function Ct(c,d){return _r(c,d,o)}function ir(c,d){return e(d,32),Ct(c,d)}function Vr(c,d,f){var i=new Uint8Array(32);return _r(i,f,d),ee(c,n,i,L)}var bt=We,vr=ht;function Nn(c,d,f,i,l,m){var x=new Uint8Array(32);return Vr(x,l,m),bt(c,d,f,i,x)}function ei(c,d,f,i,l,m){var x=new Uint8Array(32);return Vr(x,l,m),vr(c,d,f,i,x)}var io=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function wc(c,d,f,i){for(var l=new Int32Array(16),m=new Int32Array(16),x,E,R,Q,q,_e,G,te,re,ue,ce,ne,ie,oe,F,j,D,$,V,M,b,w,U,v,C,I,Y=c[0],fe=c[1],le=c[2],de=c[3],g=c[4],ye=c[5],ve=c[6],Se=c[7],ge=d[0],be=d[1],we=d[2],Ye=d[3],Pe=d[4],De=d[5],Ge=d[6],Le=d[7],et=0;i>=128;){for(V=0;V<16;V++)M=8*V+et,l[V]=f[M+0]<<24|f[M+1]<<16|f[M+2]<<8|f[M+3],m[V]=f[M+4]<<24|f[M+5]<<16|f[M+6]<<8|f[M+7];for(V=0;V<80;V++)if(x=Y,E=fe,R=le,Q=de,q=g,_e=ye,G=ve,te=Se,re=ge,ue=be,ce=we,ne=Ye,ie=Pe,oe=De,F=Ge,j=Le,b=Se,w=Le,U=w&65535,v=w>>>16,C=b&65535,I=b>>>16,b=(g>>>14|Pe<<32-14)^(g>>>18|Pe<<32-18)^(Pe>>>41-32|g<<32-(41-32)),w=(Pe>>>14|g<<32-14)^(Pe>>>18|g<<32-18)^(g>>>41-32|Pe<<32-(41-32)),U+=w&65535,v+=w>>>16,C+=b&65535,I+=b>>>16,b=g&ye^~g&ve,w=Pe&De^~Pe&Ge,U+=w&65535,v+=w>>>16,C+=b&65535,I+=b>>>16,b=io[V*2],w=io[V*2+1],U+=w&65535,v+=w>>>16,C+=b&65535,I+=b>>>16,b=l[V%16],w=m[V%16],U+=w&65535,v+=w>>>16,C+=b&65535,I+=b>>>16,v+=U>>>16,C+=v>>>16,I+=C>>>16,D=C&65535|I<<16,$=U&65535|v<<16,b=D,w=$,U=w&65535,v=w>>>16,C=b&65535,I=b>>>16,b=(Y>>>28|ge<<32-28)^(ge>>>34-32|Y<<32-(34-32))^(ge>>>39-32|Y<<32-(39-32)),w=(ge>>>28|Y<<32-28)^(Y>>>34-32|ge<<32-(34-32))^(Y>>>39-32|ge<<32-(39-32)),U+=w&65535,v+=w>>>16,C+=b&65535,I+=b>>>16,b=Y&fe^Y&le^fe&le,w=ge&be^ge&we^be&we,U+=w&65535,v+=w>>>16,C+=b&65535,I+=b>>>16,v+=U>>>16,C+=v>>>16,I+=C>>>16,te=C&65535|I<<16,j=U&65535|v<<16,b=Q,w=ne,U=w&65535,v=w>>>16,C=b&65535,I=b>>>16,b=D,w=$,U+=w&65535,v+=w>>>16,C+=b&65535,I+=b>>>16,v+=U>>>16,C+=v>>>16,I+=C>>>16,Q=C&65535|I<<16,ne=U&65535|v<<16,fe=x,le=E,de=R,g=Q,ye=q,ve=_e,Se=G,Y=te,be=re,we=ue,Ye=ce,Pe=ne,De=ie,Ge=oe,Le=F,ge=j,V%16===15)for(M=0;M<16;M++)b=l[M],w=m[M],U=w&65535,v=w>>>16,C=b&65535,I=b>>>16,b=l[(M+9)%16],w=m[(M+9)%16],U+=w&65535,v+=w>>>16,C+=b&65535,I+=b>>>16,D=l[(M+1)%16],$=m[(M+1)%16],b=(D>>>1|$<<32-1)^(D>>>8|$<<32-8)^D>>>7,w=($>>>1|D<<32-1)^($>>>8|D<<32-8)^($>>>7|D<<32-7),U+=w&65535,v+=w>>>16,C+=b&65535,I+=b>>>16,D=l[(M+14)%16],$=m[(M+14)%16],b=(D>>>19|$<<32-19)^($>>>61-32|D<<32-(61-32))^D>>>6,w=($>>>19|D<<32-19)^(D>>>61-32|$<<32-(61-32))^($>>>6|D<<32-6),U+=w&65535,v+=w>>>16,C+=b&65535,I+=b>>>16,v+=U>>>16,C+=v>>>16,I+=C>>>16,l[M]=C&65535|I<<16,m[M]=U&65535|v<<16;b=Y,w=ge,U=w&65535,v=w>>>16,C=b&65535,I=b>>>16,b=c[0],w=d[0],U+=w&65535,v+=w>>>16,C+=b&65535,I+=b>>>16,v+=U>>>16,C+=v>>>16,I+=C>>>16,c[0]=Y=C&65535|I<<16,d[0]=ge=U&65535|v<<16,b=fe,w=be,U=w&65535,v=w>>>16,C=b&65535,I=b>>>16,b=c[1],w=d[1],U+=w&65535,v+=w>>>16,C+=b&65535,I+=b>>>16,v+=U>>>16,C+=v>>>16,I+=C>>>16,c[1]=fe=C&65535|I<<16,d[1]=be=U&65535|v<<16,b=le,w=we,U=w&65535,v=w>>>16,C=b&65535,I=b>>>16,b=c[2],w=d[2],U+=w&65535,v+=w>>>16,C+=b&65535,I+=b>>>16,v+=U>>>16,C+=v>>>16,I+=C>>>16,c[2]=le=C&65535|I<<16,d[2]=we=U&65535|v<<16,b=de,w=Ye,U=w&65535,v=w>>>16,C=b&65535,I=b>>>16,b=c[3],w=d[3],U+=w&65535,v+=w>>>16,C+=b&65535,I+=b>>>16,v+=U>>>16,C+=v>>>16,I+=C>>>16,c[3]=de=C&65535|I<<16,d[3]=Ye=U&65535|v<<16,b=g,w=Pe,U=w&65535,v=w>>>16,C=b&65535,I=b>>>16,b=c[4],w=d[4],U+=w&65535,v+=w>>>16,C+=b&65535,I+=b>>>16,v+=U>>>16,C+=v>>>16,I+=C>>>16,c[4]=g=C&65535|I<<16,d[4]=Pe=U&65535|v<<16,b=ye,w=De,U=w&65535,v=w>>>16,C=b&65535,I=b>>>16,b=c[5],w=d[5],U+=w&65535,v+=w>>>16,C+=b&65535,I+=b>>>16,v+=U>>>16,C+=v>>>16,I+=C>>>16,c[5]=ye=C&65535|I<<16,d[5]=De=U&65535|v<<16,b=ve,w=Ge,U=w&65535,v=w>>>16,C=b&65535,I=b>>>16,b=c[6],w=d[6],U+=w&65535,v+=w>>>16,C+=b&65535,I+=b>>>16,v+=U>>>16,C+=v>>>16,I+=C>>>16,c[6]=ve=C&65535|I<<16,d[6]=Ge=U&65535|v<<16,b=Se,w=Le,U=w&65535,v=w>>>16,C=b&65535,I=b>>>16,b=c[7],w=d[7],U+=w&65535,v+=w>>>16,C+=b&65535,I+=b>>>16,v+=U>>>16,C+=v>>>16,I+=C>>>16,c[7]=Se=C&65535|I<<16,d[7]=Le=U&65535|v<<16,et+=128,i-=128}return i}function Qr(c,d,f){var i=new Int32Array(8),l=new Int32Array(8),m=new Uint8Array(256),x,E=f;for(i[0]=1779033703,i[1]=3144134277,i[2]=1013904242,i[3]=2773480762,i[4]=1359893119,i[5]=2600822924,i[6]=528734635,i[7]=1541459225,l[0]=4089235720,l[1]=2227873595,l[2]=4271175723,l[3]=1595750129,l[4]=2917565137,l[5]=725511199,l[6]=4215389547,l[7]=327033209,wc(i,l,d,f),f%=128,x=0;x<f;x++)m[x]=d[E-f+x];for(m[f]=128,f=256-128*(f<112?1:0),m[f-9]=0,T(m,f-8,E/536870912|0,E<<3),wc(i,l,m,f),x=0;x<8;x++)T(c,8*x,i[x],l[x]);return 0}function ti(c,d){var f=t(),i=t(),l=t(),m=t(),x=t(),E=t(),R=t(),Q=t(),q=t();Xe(f,c[1],c[0]),Xe(q,d[1],d[0]),ae(f,f,q),Ne(i,c[0],c[1]),Ne(q,d[0],d[1]),ae(i,i,q),ae(l,c[3],d[3]),ae(l,l,y),ae(m,c[2],d[2]),Ne(m,m,m),Xe(x,i,f),Xe(E,m,l),Ne(R,m,l),Ne(Q,i,f),ae(c[0],x,E),ae(c[1],Q,R),ae(c[2],R,E),ae(c[3],x,Q)}function Tc(c,d,f){var i;for(i=0;i<4;i++)se(c[i],d[i],f)}function xs(c,d){var f=t(),i=t(),l=t();Tr(l,d[2]),ae(f,d[0],l),ae(i,d[1],l),Ee(c,i),c[31]^=je(f)<<7}function bs(c,d,f){var i,l;for(O(c[0],s),O(c[1],a),O(c[2],a),O(c[3],s),l=255;l>=0;--l)i=f[l/8|0]>>(l&7)&1,Tc(c,d,i),ti(d,c),ti(c,c),Tc(c,d,i)}function ri(c,d){var f=[t(),t(),t(),t()];O(f[0],h),O(f[1],A),O(f[2],a),ae(f[3],h,A),bs(c,f,d)}function ws(c,d,f){var i=new Uint8Array(64),l=[t(),t(),t(),t()],m;for(f||e(d,32),Qr(i,d,32),i[0]&=248,i[31]&=127,i[31]|=64,ri(l,i),xs(c,l),m=0;m<32;m++)d[m+32]=c[m];return 0}var ni=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function Ts(c,d){var f,i,l,m;for(i=63;i>=32;--i){for(f=0,l=i-32,m=i-12;l<m;++l)d[l]+=f-16*d[i]*ni[l-(i-32)],f=Math.floor((d[l]+128)/256),d[l]-=f*256;d[l]+=f,d[i]=0}for(f=0,l=0;l<32;l++)d[l]+=f-(d[31]>>4)*ni[l],f=d[l]>>8,d[l]&=255;for(l=0;l<32;l++)d[l]-=f*ni[l];for(i=0;i<32;i++)d[i+1]+=d[i]>>8,c[i]=d[i]&255}function _s(c){var d=new Float64Array(64),f;for(f=0;f<64;f++)d[f]=c[f];for(f=0;f<64;f++)c[f]=0;Ts(c,d)}function _c(c,d,f,i){var l=new Uint8Array(64),m=new Uint8Array(64),x=new Uint8Array(64),E,R,Q=new Float64Array(64),q=[t(),t(),t(),t()];Qr(l,i,32),l[0]&=248,l[31]&=127,l[31]|=64;var _e=f+64;for(E=0;E<f;E++)c[64+E]=d[E];for(E=0;E<32;E++)c[32+E]=l[32+E];for(Qr(x,c.subarray(32),f+32),_s(x),ri(q,x),xs(c,q),E=32;E<64;E++)c[E]=i[E];for(Qr(m,c,f+64),_s(m),E=0;E<64;E++)Q[E]=0;for(E=0;E<32;E++)Q[E]=x[E];for(E=0;E<32;E++)for(R=0;R<32;R++)Q[E+R]+=m[E]*l[R];return Ts(c.subarray(32),Q),_e}function _l(c,d){var f=t(),i=t(),l=t(),m=t(),x=t(),E=t(),R=t();return O(c[2],a),at(c[1],d),Je(l,c[1]),ae(m,l,p),Xe(l,l,c[2]),Ne(m,c[2],m),Je(x,m),Je(E,x),ae(R,E,x),ae(f,R,l),ae(f,f,m),Mt(f,f),ae(f,f,l),ae(f,f,m),ae(f,f,m),ae(c[0],f,m),Je(i,c[0]),ae(i,i,m),Ue(i,l)&&ae(c[0],c[0],_),Je(i,c[0]),ae(i,i,m),Ue(i,l)?-1:(je(c[0])===d[31]>>7&&Xe(c[0],s,c[0]),ae(c[3],c[0],c[1]),0)}function vs(c,d,f,i){var l,m=new Uint8Array(32),x=new Uint8Array(64),E=[t(),t(),t(),t()],R=[t(),t(),t(),t()];if(f<64||_l(R,i))return-1;for(l=0;l<f;l++)c[l]=d[l];for(l=0;l<32;l++)c[l+32]=i[l];if(Qr(x,c,f),_s(x),bs(E,R,x),ri(R,d.subarray(32)),ti(E,R),xs(m,E),f-=64,P(d,0,m,0)){for(l=0;l<f;l++)c[l]=0;return-1}for(l=0;l<f;l++)c[l]=d[l+64];return f}var Ss=32,oi=24,so=32,kn=16,ao=32,ii=32,co=32,uo=32,Es=32,vc=oi,vl=so,Sl=kn,sr=64,Wr=32,zn=64,Cs=32,Us=64;r.lowlevel={crypto_core_hsalsa20:ee,crypto_stream_xor:Oe,crypto_stream:X,crypto_stream_salsa20_xor:W,crypto_stream_salsa20:J,crypto_onetimeauth:he,crypto_onetimeauth_verify:Qe,crypto_verify_16:S,crypto_verify_32:P,crypto_secretbox:We,crypto_secretbox_open:ht,crypto_scalarmult:_r,crypto_scalarmult_base:Ct,crypto_box_beforenm:Vr,crypto_box_afternm:bt,crypto_box:Nn,crypto_box_open:ei,crypto_box_keypair:ir,crypto_hash:Qr,crypto_sign:_c,crypto_sign_keypair:ws,crypto_sign_open:vs,crypto_secretbox_KEYBYTES:Ss,crypto_secretbox_NONCEBYTES:oi,crypto_secretbox_ZEROBYTES:so,crypto_secretbox_BOXZEROBYTES:kn,crypto_scalarmult_BYTES:ao,crypto_scalarmult_SCALARBYTES:ii,crypto_box_PUBLICKEYBYTES:co,crypto_box_SECRETKEYBYTES:uo,crypto_box_BEFORENMBYTES:Es,crypto_box_NONCEBYTES:vc,crypto_box_ZEROBYTES:vl,crypto_box_BOXZEROBYTES:Sl,crypto_sign_BYTES:sr,crypto_sign_PUBLICKEYBYTES:Wr,crypto_sign_SECRETKEYBYTES:zn,crypto_sign_SEEDBYTES:Cs,crypto_hash_BYTES:Us,gf:t,D:p,L:ni,pack25519:Ee,unpack25519:at,M:ae,A:Ne,S:Je,Z:Xe,pow2523:Mt,add:ti,set25519:O,modL:Ts,scalarmult:bs,scalarbase:ri};function Sc(c,d){if(c.length!==Ss)throw new Error("bad key size");if(d.length!==oi)throw new Error("bad nonce size")}function El(c,d){if(c.length!==co)throw new Error("bad public key size");if(d.length!==uo)throw new Error("bad secret key size")}function wt(){for(var c=0;c<arguments.length;c++)if(!(arguments[c]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function Ec(c){for(var d=0;d<c.length;d++)c[d]=0}r.randomBytes=function(c){var d=new Uint8Array(c);return e(d,c),d},r.secretbox=function(c,d,f){wt(c,d,f),Sc(f,d);for(var i=new Uint8Array(so+c.length),l=new Uint8Array(i.length),m=0;m<c.length;m++)i[m+so]=c[m];return We(l,i,i.length,d,f),l.subarray(kn)},r.secretbox.open=function(c,d,f){wt(c,d,f),Sc(f,d);for(var i=new Uint8Array(kn+c.length),l=new Uint8Array(i.length),m=0;m<c.length;m++)i[m+kn]=c[m];return i.length<32||ht(l,i,i.length,d,f)!==0?null:l.subarray(so)},r.secretbox.keyLength=Ss,r.secretbox.nonceLength=oi,r.secretbox.overheadLength=kn,r.scalarMult=function(c,d){if(wt(c,d),c.length!==ii)throw new Error("bad n size");if(d.length!==ao)throw new Error("bad p size");var f=new Uint8Array(ao);return _r(f,c,d),f},r.scalarMult.base=function(c){if(wt(c),c.length!==ii)throw new Error("bad n size");var d=new Uint8Array(ao);return Ct(d,c),d},r.scalarMult.scalarLength=ii,r.scalarMult.groupElementLength=ao,r.box=function(c,d,f,i){var l=r.box.before(f,i);return r.secretbox(c,d,l)},r.box.before=function(c,d){wt(c,d),El(c,d);var f=new Uint8Array(Es);return Vr(f,c,d),f},r.box.after=r.secretbox,r.box.open=function(c,d,f,i){var l=r.box.before(f,i);return r.secretbox.open(c,d,l)},r.box.open.after=r.secretbox.open,r.box.keyPair=function(){var c=new Uint8Array(co),d=new Uint8Array(uo);return ir(c,d),{publicKey:c,secretKey:d}},r.box.keyPair.fromSecretKey=function(c){if(wt(c),c.length!==uo)throw new Error("bad secret key size");var d=new Uint8Array(co);return Ct(d,c),{publicKey:d,secretKey:new Uint8Array(c)}},r.box.publicKeyLength=co,r.box.secretKeyLength=uo,r.box.sharedKeyLength=Es,r.box.nonceLength=vc,r.box.overheadLength=r.secretbox.overheadLength,r.sign=function(c,d){if(wt(c,d),d.length!==zn)throw new Error("bad secret key size");var f=new Uint8Array(sr+c.length);return _c(f,c,c.length,d),f},r.sign.open=function(c,d){if(wt(c,d),d.length!==Wr)throw new Error("bad public key size");var f=new Uint8Array(c.length),i=vs(f,c,c.length,d);if(i<0)return null;for(var l=new Uint8Array(i),m=0;m<l.length;m++)l[m]=f[m];return l},r.sign.detached=function(c,d){for(var f=r.sign(c,d),i=new Uint8Array(sr),l=0;l<i.length;l++)i[l]=f[l];return i},r.sign.detached.verify=function(c,d,f){if(wt(c,d,f),d.length!==sr)throw new Error("bad signature size");if(f.length!==Wr)throw new Error("bad public key size");var i=new Uint8Array(sr+c.length),l=new Uint8Array(sr+c.length),m;for(m=0;m<sr;m++)i[m]=d[m];for(m=0;m<c.length;m++)i[m+sr]=c[m];return vs(l,i,i.length,f)>=0},r.sign.keyPair=function(){var c=new Uint8Array(Wr),d=new Uint8Array(zn);return ws(c,d),{publicKey:c,secretKey:d}},r.sign.keyPair.fromSecretKey=function(c){if(wt(c),c.length!==zn)throw new Error("bad secret key size");for(var d=new Uint8Array(Wr),f=0;f<d.length;f++)d[f]=c[32+f];return{publicKey:d,secretKey:new Uint8Array(c)}},r.sign.keyPair.fromSeed=function(c){if(wt(c),c.length!==Cs)throw new Error("bad seed size");for(var d=new Uint8Array(Wr),f=new Uint8Array(zn),i=0;i<32;i++)f[i]=c[i];return ws(d,f,!0),{publicKey:d,secretKey:f}},r.sign.publicKeyLength=Wr,r.sign.secretKeyLength=zn,r.sign.seedLength=Cs,r.sign.signatureLength=sr,r.hash=function(c){wt(c);var d=new Uint8Array(Us);return Qr(d,c,c.length),d},r.hash.hashLength=Us,r.verify=function(c,d){return wt(c,d),c.length===0||d.length===0||c.length!==d.length?!1:z(c,0,d,0,c.length)===0},r.setPRNG=function(c){e=c},function(){var c=typeof self<"u"?self.crypto||self.msCrypto:null;if(c&&c.getRandomValues){var d=65536;r.setPRNG(function(f,i){var l,m=new Uint8Array(i);for(l=0;l<i;l+=d)c.getRandomValues(m.subarray(l,l+Math.min(i-l,d)));for(l=0;l<i;l++)f[l]=m[l];Ec(m)})}else typeof Uc<"u"&&(c=Jc(),c&&c.randomBytes&&r.setPRNG(function(f,i){var l,m=c.randomBytes(i);for(l=0;l<i;l++)f[l]=m[l];Ec(m)}))}()})(typeof wi<"u"&&wi.exports?wi.exports:self.nacl=self.nacl||{})});var ka=Te((Zx,pf)=>{"use strict";pf.exports=function(t,e){return function(){for(var o=new Array(arguments.length),s=0;s<o.length;s++)o[s]=arguments[s];return t.apply(e,o)}}});var ot=Te((Jx,hf)=>{"use strict";var Tg=ka(),Ma=Object.prototype.toString,qa=function(r){return function(t){var e=Ma.call(t);return r[e]||(r[e]=e.slice(8,-1).toLowerCase())}}(Object.create(null));function ln(r){return r=r.toLowerCase(),function(e){return qa(e)===r}}function Da(r){return Array.isArray(r)}function Vi(r){return typeof r>"u"}function _g(r){return r!==null&&!Vi(r)&&r.constructor!==null&&!Vi(r.constructor)&&typeof r.constructor.isBuffer=="function"&&r.constructor.isBuffer(r)}var gf=ln("ArrayBuffer");function vg(r){var t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(r):t=r&&r.buffer&&gf(r.buffer),t}function Sg(r){return typeof r=="string"}function Eg(r){return typeof r=="number"}function yf(r){return r!==null&&typeof r=="object"}function Hi(r){if(qa(r)!=="object")return!1;var t=Object.getPrototypeOf(r);return t===null||t===Object.prototype}var Cg=ln("Date"),Ug=ln("File"),Ig=ln("Blob"),Pg=ln("FileList");function Ga(r){return Ma.call(r)==="[object Function]"}function Rg(r){return yf(r)&&Ga(r.pipe)}function Bg(r){var t="[object FormData]";return r&&(typeof FormData=="function"&&r instanceof FormData||Ma.call(r)===t||Ga(r.toString)&&r.toString()===t)}var Og=ln("URLSearchParams");function Ng(r){return r.trim?r.trim():r.replace(/^\s+|\s+$/g,"")}function kg(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function La(r,t){if(!(r===null||typeof r>"u"))if(typeof r!="object"&&(r=[r]),Da(r))for(var e=0,n=r.length;e<n;e++)t.call(null,r[e],e,r);else for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&t.call(null,r[o],o,r)}function za(){var r={};function t(o,s){Hi(r[s])&&Hi(o)?r[s]=za(r[s],o):Hi(o)?r[s]=za({},o):Da(o)?r[s]=o.slice():r[s]=o}for(var e=0,n=arguments.length;e<n;e++)La(arguments[e],t);return r}function zg(r,t,e){return La(t,function(o,s){e&&typeof o=="function"?r[s]=Tg(o,e):r[s]=o}),r}function Mg(r){return r.charCodeAt(0)===65279&&(r=r.slice(1)),r}function qg(r,t,e,n){r.prototype=Object.create(t.prototype,n),r.prototype.constructor=r,e&&Object.assign(r.prototype,e)}function Dg(r,t,e){var n,o,s,a={};t=t||{};do{for(n=Object.getOwnPropertyNames(r),o=n.length;o-- >0;)s=n[o],a[s]||(t[s]=r[s],a[s]=!0);r=Object.getPrototypeOf(r)}while(r&&(!e||e(r,t))&&r!==Object.prototype);return t}function Gg(r,t,e){r=String(r),(e===void 0||e>r.length)&&(e=r.length),e-=t.length;var n=r.indexOf(t,e);return n!==-1&&n===e}function Lg(r){if(!r)return null;var t=r.length;if(Vi(t))return null;for(var e=new Array(t);t-- >0;)e[t]=r[t];return e}var Fg=function(r){return function(t){return r&&t instanceof r}}(typeof Uint8Array<"u"&&Object.getPrototypeOf(Uint8Array));hf.exports={isArray:Da,isArrayBuffer:gf,isBuffer:_g,isFormData:Bg,isArrayBufferView:vg,isString:Sg,isNumber:Eg,isObject:yf,isPlainObject:Hi,isUndefined:Vi,isDate:Cg,isFile:Ug,isBlob:Ig,isFunction:Ga,isStream:Rg,isURLSearchParams:Og,isStandardBrowserEnv:kg,forEach:La,merge:za,extend:zg,trim:Ng,stripBOM:Mg,inherits:qg,toFlatObject:Dg,kindOf:qa,kindOfTest:ln,endsWith:Gg,toArray:Lg,isTypedArray:Fg,isFileList:Pg}});var Fa=Te((eb,Af)=>{"use strict";var $n=ot();function mf(r){return encodeURIComponent(r).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}Af.exports=function(t,e,n){if(!e)return t;var o;if(n)o=n(e);else if($n.isURLSearchParams(e))o=e.toString();else{var s=[];$n.forEach(e,function(p,y){p===null||typeof p>"u"||($n.isArray(p)?y=y+"[]":p=[p],$n.forEach(p,function(A){$n.isDate(A)?A=A.toISOString():$n.isObject(A)&&(A=JSON.stringify(A)),s.push(mf(y)+"="+mf(A))}))}),o=s.join("&")}if(o){var a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}});var bf=Te((tb,xf)=>{"use strict";var Kg=ot();function Qi(){this.handlers=[]}Qi.prototype.use=function(t,e,n){return this.handlers.push({fulfilled:t,rejected:e,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1};Qi.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)};Qi.prototype.forEach=function(t){Kg.forEach(this.handlers,function(n){n!==null&&t(n)})};xf.exports=Qi});var Tf=Te((rb,wf)=>{"use strict";var $g=ot();wf.exports=function(t,e){$g.forEach(t,function(o,s){s!==e&&s.toUpperCase()===e.toUpperCase()&&(t[e]=o,delete t[s])})}});var pn=Te((nb,Ef)=>{"use strict";var _f=ot();function Hn(r,t,e,n,o){Error.call(this),this.message=r,this.name="AxiosError",t&&(this.code=t),e&&(this.config=e),n&&(this.request=n),o&&(this.response=o)}_f.inherits(Hn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var vf=Hn.prototype,Sf={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach(function(r){Sf[r]={value:r}});Object.defineProperties(Hn,Sf);Object.defineProperty(vf,"isAxiosError",{value:!0});Hn.from=function(r,t,e,n,o,s){var a=Object.create(vf);return _f.toFlatObject(r,a,function(p){return p!==Error.prototype}),Hn.call(a,r.message,t,e,n,o),a.name=r.name,s&&Object.assign(a,s),a};Ef.exports=Hn});var Ka=Te((ob,Cf)=>{"use strict";Cf.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}});var $a=Te((ib,Uf)=>{"use strict";var Ht=ot();function Hg(r,t){t=t||new FormData;var e=[];function n(s){return s===null?"":Ht.isDate(s)?s.toISOString():Ht.isArrayBuffer(s)||Ht.isTypedArray(s)?typeof Blob=="function"?new Blob([s]):Buffer.from(s):s}function o(s,a){if(Ht.isPlainObject(s)||Ht.isArray(s)){if(e.indexOf(s)!==-1)throw Error("Circular reference detected in "+a);e.push(s),Ht.forEach(s,function(p,y){if(!Ht.isUndefined(p)){var h=a?a+"."+y:y,A;if(p&&!a&&typeof p=="object"){if(Ht.endsWith(y,"{}"))p=JSON.stringify(p);else if(Ht.endsWith(y,"[]")&&(A=Ht.toArray(p))){A.forEach(function(_){!Ht.isUndefined(_)&&t.append(h,n(_))});return}}o(p,h)}}),e.pop()}else t.append(a,n(s))}return o(r),t}Uf.exports=Hg});var Pf=Te((sb,If)=>{"use strict";var Ha=pn();If.exports=function(t,e,n){var o=n.config.validateStatus;!n.status||!o||o(n.status)?t(n):e(new Ha("Request failed with status code "+n.status,[Ha.ERR_BAD_REQUEST,Ha.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}});var Bf=Te((ab,Rf)=>{"use strict";var Wi=ot();Rf.exports=Wi.isStandardBrowserEnv()?function(){return{write:function(e,n,o,s,a,u){var p=[];p.push(e+"="+encodeURIComponent(n)),Wi.isNumber(o)&&p.push("expires="+new Date(o).toGMTString()),Wi.isString(s)&&p.push("path="+s),Wi.isString(a)&&p.push("domain="+a),u===!0&&p.push("secure"),document.cookie=p.join("; ")},read:function(e){var n=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()});var Nf=Te((cb,Of)=>{"use strict";Of.exports=function(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}});var zf=Te((ub,kf)=>{"use strict";kf.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}});var Va=Te((fb,Mf)=>{"use strict";var Vg=Nf(),Qg=zf();Mf.exports=function(t,e){return t&&!Vg(e)?Qg(t,e):e}});var Df=Te((db,qf)=>{"use strict";var Qa=ot(),Wg=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];qf.exports=function(t){var e={},n,o,s;return t&&Qa.forEach(t.split(`
`),function(u){if(s=u.indexOf(":"),n=Qa.trim(u.substr(0,s)).toLowerCase(),o=Qa.trim(u.substr(s+1)),n){if(e[n]&&Wg.indexOf(n)>=0)return;n==="set-cookie"?e[n]=(e[n]?e[n]:[]).concat([o]):e[n]=e[n]?e[n]+", "+o:o}}),e}});var Ff=Te((lb,Lf)=>{"use strict";var Gf=ot();Lf.exports=Gf.isStandardBrowserEnv()?function(){var t=/(msie|trident)/i.test(navigator.userAgent),e=document.createElement("a"),n;function o(s){var a=s;return t&&(e.setAttribute("href",a),a=e.href),e.setAttribute("href",a),{href:e.href,protocol:e.protocol?e.protocol.replace(/:$/,""):"",host:e.host,search:e.search?e.search.replace(/^\?/,""):"",hash:e.hash?e.hash.replace(/^#/,""):"",hostname:e.hostname,port:e.port,pathname:e.pathname.charAt(0)==="/"?e.pathname:"/"+e.pathname}}return n=o(window.location.href),function(a){var u=Gf.isString(a)?o(a):a;return u.protocol===n.protocol&&u.host===n.host}}():function(){return function(){return!0}}()});var So=Te((pb,$f)=>{"use strict";var Wa=pn(),jg=ot();function Kf(r){Wa.call(this,r??"canceled",Wa.ERR_CANCELED),this.name="CanceledError"}jg.inherits(Kf,Wa,{__CANCEL__:!0});$f.exports=Kf});var Vf=Te((gb,Hf)=>{"use strict";Hf.exports=function(t){var e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}});var ja=Te((yb,Qf)=>{"use strict";var Eo=ot(),Yg=Pf(),Xg=Bf(),Zg=Fa(),Jg=Va(),ey=Df(),ty=Ff(),ry=Ka(),xr=pn(),ny=So(),oy=Vf();Qf.exports=function(t){return new Promise(function(n,o){var s=t.data,a=t.headers,u=t.responseType,p;function y(){t.cancelToken&&t.cancelToken.unsubscribe(p),t.signal&&t.signal.removeEventListener("abort",p)}Eo.isFormData(s)&&Eo.isStandardBrowserEnv()&&delete a["Content-Type"];var h=new XMLHttpRequest;if(t.auth){var A=t.auth.username||"",_=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";a.Authorization="Basic "+btoa(A+":"+_)}var T=Jg(t.baseURL,t.url);h.open(t.method.toUpperCase(),Zg(T,t.params,t.paramsSerializer),!0),h.timeout=t.timeout;function z(){if(h){var B="getAllResponseHeaders"in h?ey(h.getAllResponseHeaders()):null,H=!u||u==="text"||u==="json"?h.responseText:h.response,k={data:H,status:h.status,statusText:h.statusText,headers:B,config:t,request:h};Yg(function(L){n(L),y()},function(L){o(L),y()},k),h=null}}if("onloadend"in h?h.onloadend=z:h.onreadystatechange=function(){!h||h.readyState!==4||h.status===0&&!(h.responseURL&&h.responseURL.indexOf("file:")===0)||setTimeout(z)},h.onabort=function(){h&&(o(new xr("Request aborted",xr.ECONNABORTED,t,h)),h=null)},h.onerror=function(){o(new xr("Network Error",xr.ERR_NETWORK,t,h,h)),h=null},h.ontimeout=function(){var H=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded",k=t.transitional||ry;t.timeoutErrorMessage&&(H=t.timeoutErrorMessage),o(new xr(H,k.clarifyTimeoutError?xr.ETIMEDOUT:xr.ECONNABORTED,t,h)),h=null},Eo.isStandardBrowserEnv()){var S=(t.withCredentials||ty(T))&&t.xsrfCookieName?Xg.read(t.xsrfCookieName):void 0;S&&(a[t.xsrfHeaderName]=S)}"setRequestHeader"in h&&Eo.forEach(a,function(H,k){typeof s>"u"&&k.toLowerCase()==="content-type"?delete a[k]:h.setRequestHeader(k,H)}),Eo.isUndefined(t.withCredentials)||(h.withCredentials=!!t.withCredentials),u&&u!=="json"&&(h.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&h.addEventListener("progress",t.onDownloadProgress),typeof t.onUploadProgress=="function"&&h.upload&&h.upload.addEventListener("progress",t.onUploadProgress),(t.cancelToken||t.signal)&&(p=function(B){h&&(o(!B||B&&B.type?new ny:B),h.abort(),h=null)},t.cancelToken&&t.cancelToken.subscribe(p),t.signal&&(t.signal.aborted?p():t.signal.addEventListener("abort",p))),s||(s=null);var P=oy(T);if(P&&["http","https","file"].indexOf(P)===-1){o(new xr("Unsupported protocol "+P+":",xr.ERR_BAD_REQUEST,t));return}h.send(s)})}});var jf=Te((hb,Wf)=>{"use strict";Wf.exports=null});var Yi=Te((mb,Jf)=>{"use strict";var it=ot(),Yf=Tf(),Xf=pn(),iy=Ka(),sy=$a(),ay={"Content-Type":"application/x-www-form-urlencoded"};function Zf(r,t){!it.isUndefined(r)&&it.isUndefined(r["Content-Type"])&&(r["Content-Type"]=t)}function cy(){var r;return typeof XMLHttpRequest<"u"?r=ja():typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]"&&(r=ja()),r}function uy(r,t,e){if(it.isString(r))try{return(t||JSON.parse)(r),it.trim(r)}catch(n){if(n.name!=="SyntaxError")throw n}return(e||JSON.stringify)(r)}var ji={transitional:iy,adapter:cy(),transformRequest:[function(t,e){if(Yf(e,"Accept"),Yf(e,"Content-Type"),it.isFormData(t)||it.isArrayBuffer(t)||it.isBuffer(t)||it.isStream(t)||it.isFile(t)||it.isBlob(t))return t;if(it.isArrayBufferView(t))return t.buffer;if(it.isURLSearchParams(t))return Zf(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString();var n=it.isObject(t),o=e&&e["Content-Type"],s;if((s=it.isFileList(t))||n&&o==="multipart/form-data"){var a=this.env&&this.env.FormData;return sy(s?{"files[]":t}:t,a&&new a)}else if(n||o==="application/json")return Zf(e,"application/json"),uy(t);return t}],transformResponse:[function(t){var e=this.transitional||ji.transitional,n=e&&e.silentJSONParsing,o=e&&e.forcedJSONParsing,s=!n&&this.responseType==="json";if(s||o&&it.isString(t)&&t.length)try{return JSON.parse(t)}catch(a){if(s)throw a.name==="SyntaxError"?Xf.from(a,Xf.ERR_BAD_RESPONSE,this,null,this.response):a}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:jf()},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};it.forEach(["delete","get","head"],function(t){ji.headers[t]={}});it.forEach(["post","put","patch"],function(t){ji.headers[t]=it.merge(ay)});Jf.exports=ji});var td=Te((Ab,ed)=>{"use strict";var fy=ot(),dy=Yi();ed.exports=function(t,e,n){var o=this||dy;return fy.forEach(n,function(a){t=a.call(o,t,e)}),t}});var Ya=Te((xb,rd)=>{"use strict";rd.exports=function(t){return!!(t&&t.__CANCEL__)}});var id=Te((bb,od)=>{"use strict";var nd=ot(),Xa=td(),ly=Ya(),py=Yi(),gy=So();function Za(r){if(r.cancelToken&&r.cancelToken.throwIfRequested(),r.signal&&r.signal.aborted)throw new gy}od.exports=function(t){Za(t),t.headers=t.headers||{},t.data=Xa.call(t,t.data,t.headers,t.transformRequest),t.headers=nd.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),nd.forEach(["delete","get","head","post","put","patch","common"],function(o){delete t.headers[o]});var e=t.adapter||py.adapter;return e(t).then(function(o){return Za(t),o.data=Xa.call(t,o.data,o.headers,t.transformResponse),o},function(o){return ly(o)||(Za(t),o&&o.response&&(o.response.data=Xa.call(t,o.response.data,o.response.headers,t.transformResponse))),Promise.reject(o)})}});var Ja=Te((wb,sd)=>{"use strict";var Et=ot();sd.exports=function(t,e){e=e||{};var n={};function o(h,A){return Et.isPlainObject(h)&&Et.isPlainObject(A)?Et.merge(h,A):Et.isPlainObject(A)?Et.merge({},A):Et.isArray(A)?A.slice():A}function s(h){if(Et.isUndefined(e[h])){if(!Et.isUndefined(t[h]))return o(void 0,t[h])}else return o(t[h],e[h])}function a(h){if(!Et.isUndefined(e[h]))return o(void 0,e[h])}function u(h){if(Et.isUndefined(e[h])){if(!Et.isUndefined(t[h]))return o(void 0,t[h])}else return o(void 0,e[h])}function p(h){if(h in e)return o(t[h],e[h]);if(h in t)return o(void 0,t[h])}var y={url:a,method:a,data:a,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,beforeRedirect:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:p};return Et.forEach(Object.keys(t).concat(Object.keys(e)),function(A){var _=y[A]||s,T=_(A);Et.isUndefined(T)&&_!==p||(n[A]=T)}),n}});var ec=Te((Tb,ad)=>{"use strict";ad.exports={version:"0.27.2"}});var fd=Te((_b,ud)=>{"use strict";var yy=ec().version,Fr=pn(),tc={};["object","boolean","number","function","string","symbol"].forEach(function(r,t){tc[r]=function(n){return typeof n===r||"a"+(t<1?"n ":" ")+r}});var cd={};tc.transitional=function(t,e,n){function o(s,a){return"[Axios v"+yy+"] Transitional option '"+s+"'"+a+(n?". "+n:"")}return function(s,a,u){if(t===!1)throw new Fr(o(a," has been removed"+(e?" in "+e:"")),Fr.ERR_DEPRECATED);return e&&!cd[a]&&(cd[a]=!0,console.warn(o(a," has been deprecated since v"+e+" and will be removed in the near future"))),t?t(s,a,u):!0}};function hy(r,t,e){if(typeof r!="object")throw new Fr("options must be an object",Fr.ERR_BAD_OPTION_VALUE);for(var n=Object.keys(r),o=n.length;o-- >0;){var s=n[o],a=t[s];if(a){var u=r[s],p=u===void 0||a(u,s,r);if(p!==!0)throw new Fr("option "+s+" must be "+p,Fr.ERR_BAD_OPTION_VALUE);continue}if(e!==!0)throw new Fr("Unknown option "+s,Fr.ERR_BAD_OPTION)}}ud.exports={assertOptions:hy,validators:tc}});var hd=Te((vb,yd)=>{"use strict";var pd=ot(),my=Fa(),dd=bf(),ld=id(),Xi=Ja(),Ay=Va(),gd=fd(),Vn=gd.validators;function Qn(r){this.defaults=r,this.interceptors={request:new dd,response:new dd}}Qn.prototype.request=function(t,e){typeof t=="string"?(e=e||{},e.url=t):e=t||{},e=Xi(this.defaults,e),e.method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var n=e.transitional;n!==void 0&&gd.assertOptions(n,{silentJSONParsing:Vn.transitional(Vn.boolean),forcedJSONParsing:Vn.transitional(Vn.boolean),clarifyTimeoutError:Vn.transitional(Vn.boolean)},!1);var o=[],s=!0;this.interceptors.request.forEach(function(T){typeof T.runWhen=="function"&&T.runWhen(e)===!1||(s=s&&T.synchronous,o.unshift(T.fulfilled,T.rejected))});var a=[];this.interceptors.response.forEach(function(T){a.push(T.fulfilled,T.rejected)});var u;if(!s){var p=[ld,void 0];for(Array.prototype.unshift.apply(p,o),p=p.concat(a),u=Promise.resolve(e);p.length;)u=u.then(p.shift(),p.shift());return u}for(var y=e;o.length;){var h=o.shift(),A=o.shift();try{y=h(y)}catch(_){A(_);break}}try{u=ld(y)}catch(_){return Promise.reject(_)}for(;a.length;)u=u.then(a.shift(),a.shift());return u};Qn.prototype.getUri=function(t){t=Xi(this.defaults,t);var e=Ay(t.baseURL,t.url);return my(e,t.params,t.paramsSerializer)};pd.forEach(["delete","get","head","options"],function(t){Qn.prototype[t]=function(e,n){return this.request(Xi(n||{},{method:t,url:e,data:(n||{}).data}))}});pd.forEach(["post","put","patch"],function(t){function e(n){return function(s,a,u){return this.request(Xi(u||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:a}))}}Qn.prototype[t]=e(),Qn.prototype[t+"Form"]=e(!0)});yd.exports=Qn});var Ad=Te((Sb,md)=>{"use strict";var xy=So();function Wn(r){if(typeof r!="function")throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(o){t=o});var e=this;this.promise.then(function(n){if(e._listeners){var o,s=e._listeners.length;for(o=0;o<s;o++)e._listeners[o](n);e._listeners=null}}),this.promise.then=function(n){var o,s=new Promise(function(a){e.subscribe(a),o=a}).then(n);return s.cancel=function(){e.unsubscribe(o)},s},r(function(o){e.reason||(e.reason=new xy(o),t(e.reason))})}Wn.prototype.throwIfRequested=function(){if(this.reason)throw this.reason};Wn.prototype.subscribe=function(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]};Wn.prototype.unsubscribe=function(t){if(this._listeners){var e=this._listeners.indexOf(t);e!==-1&&this._listeners.splice(e,1)}};Wn.source=function(){var t,e=new Wn(function(o){t=o});return{token:e,cancel:t}};md.exports=Wn});var bd=Te((Eb,xd)=>{"use strict";xd.exports=function(t){return function(n){return t.apply(null,n)}}});var Td=Te((Cb,wd)=>{"use strict";var by=ot();wd.exports=function(t){return by.isObject(t)&&t.isAxiosError===!0}});var Sd=Te((Ub,rc)=>{"use strict";var _d=ot(),wy=ka(),Zi=hd(),Ty=Ja(),_y=Yi();function vd(r){var t=new Zi(r),e=wy(Zi.prototype.request,t);return _d.extend(e,Zi.prototype,t),_d.extend(e,t),e.create=function(o){return vd(Ty(r,o))},e}var At=vd(_y);At.Axios=Zi;At.CanceledError=So();At.CancelToken=Ad();At.isCancel=Ya();At.VERSION=ec().version;At.toFormData=$a();At.AxiosError=pn();At.Cancel=At.CanceledError;At.all=function(t){return Promise.all(t)};At.spread=bd();At.isAxiosError=Td();rc.exports=At;rc.exports.default=At});var Cd=Te((Ib,Ed)=>{"use strict";Ed.exports=Sd()});var Dy={};Ic(Dy,{APTOS_BIP44_REGEX:()=>cu,APTOS_COIN:()=>ho,APTOS_HARDENED_REGEX:()=>au,Account:()=>Ar,AccountAddress:()=>N,AccountAuthenticator:()=>xt,AccountAuthenticatorEd25519:()=>er,AccountAuthenticatorMultiEd25519:()=>Io,AccountAuthenticatorMultiKey:()=>gn,AccountAuthenticatorSingleKey:()=>Vt,AccountAuthenticatorVariant:()=>Os,AccountSequenceNumber:()=>jo,AddressInvalidReason:()=>Hc,AnyPublicKey:()=>Me,AnyPublicKeyVariant:()=>Ns,AnySignature:()=>Zt,AnySignatureVariant:()=>ks,Aptos:()=>st,AptosApiError:()=>Wt,AptosApiType:()=>go,AptosConfig:()=>Co,AuthenticationKey:()=>$t,Bool:()=>Fe,CKDPriv:()=>sa,ChainId:()=>xn,DEFAULT_MAX_GAS_AMOUNT:()=>Gs,DEFAULT_NETWORK:()=>Ds,DEFAULT_TXN_EXP_SEC_FROM_NOW:()=>Ls,DEFAULT_TXN_TIMEOUT_SEC:()=>yo,DeriveScheme:()=>zc,Deserializer:()=>ea,Ed25519PrivateKey:()=>lr,Ed25519PublicKey:()=>Be,Ed25519Signature:()=>Ke,EntryFunction:()=>Pn,EntryFunctionBytes:()=>xo,FeePayerRawTransaction:()=>or,FixedBytes:()=>Ur,HARDENED_OFFSET:()=>na,Hex:()=>me,HexInvalidReason:()=>Kc,Identifier:()=>qe,KeyType:()=>uu,MimeType:()=>si,ModuleId:()=>jn,MoveAbility:()=>Nc,MoveFunctionVisibility:()=>Oc,MoveOption:()=>dr,MoveString:()=>Ze,MoveVector:()=>Ie,MultiAgentRawTransaction:()=>nr,MultiEd25519PublicKey:()=>Kt,MultiEd25519Signature:()=>sn,MultiKey:()=>dn,MultiSig:()=>eo,MultisigTransactionPayload:()=>to,Network:()=>po,NetworkToChainId:()=>ui,NetworkToFaucetAPI:()=>qs,NetworkToIndexerAPI:()=>ci,NetworkToNetworkName:()=>Fl,NetworkToNodeAPI:()=>Ms,ParsingError:()=>pt,PrivateKey:()=>nn,ProcessorType:()=>jr,PublicKey:()=>_t,RAW_TRANSACTION_SALT:()=>Fs,RAW_TRANSACTION_WITH_DATA_SALT:()=>fi,RawTransaction:()=>zt,RawTransactionWithData:()=>Ro,RoleType:()=>kc,RotationProofChallenge:()=>Uo,Script:()=>Jn,ScriptTransactionArgumentVariants:()=>Mn,Secp256k1PrivateKey:()=>yr,Secp256k1PublicKey:()=>kt,Secp256k1Signature:()=>hr,Serializable:()=>Z,Serializer:()=>Gt,Signature:()=>Ft,SignedTransaction:()=>Qt,SigningScheme:()=>qn,SigningSchemeInput:()=>zs,StructTag:()=>rr,TransactionAuthenticator:()=>tr,TransactionAuthenticatorEd25519:()=>yn,TransactionAuthenticatorFeePayer:()=>mn,TransactionAuthenticatorMultiAgent:()=>hn,TransactionAuthenticatorMultiEd25519:()=>Ji,TransactionAuthenticatorSingleSender:()=>An,TransactionAuthenticatorVariant:()=>Bs,TransactionPayload:()=>$r,TransactionPayloadEntryFunction:()=>Xn,TransactionPayloadMultisig:()=>Zn,TransactionPayloadScript:()=>Yn,TransactionPayloadVariants:()=>Ps,TransactionResponseType:()=>ai,TransactionVariants:()=>Rs,TransactionWorker:()=>Yo,TypeTag:()=>He,TypeTagAddress:()=>Cn,TypeTagBool:()=>bn,TypeTagGeneric:()=>Un,TypeTagParserError:()=>ke,TypeTagParserErrorType:()=>Od,TypeTagReference:()=>Po,TypeTagSigner:()=>Kr,TypeTagStruct:()=>br,TypeTagU128:()=>Sn,TypeTagU16:()=>Tn,TypeTagU256:()=>En,TypeTagU32:()=>_n,TypeTagU64:()=>vn,TypeTagU8:()=>wn,TypeTagVariants:()=>Is,TypeTagVector:()=>In,U128:()=>Pt,U16:()=>Ut,U256:()=>Rt,U32:()=>It,U64:()=>rt,U8:()=>ct,aptosCoinStructTag:()=>vy,aptosRequest:()=>lo,buildTransaction:()=>ls,checkOrConvertArgument:()=>ko,convertArgument:()=>fc,deriveKey:()=>vi,deriveTransactionType:()=>gc,deserializeFromScriptArgument:()=>Pd,ensureBoolean:()=>hi,fetchEntryFunctionAbi:()=>uc,findFirstNonSignerArg:()=>sc,generateMultiSignersSignedTransaction:()=>qd,generateRawTransaction:()=>Md,generateSignedTransaction:()=>pc,generateSignedTransactionForSimulation:()=>dc,generateSigningMessage:()=>ps,generateTransactionPayload:()=>Mo,generateTransactionPayloadWithABI:()=>kd,get:()=>Ks,getAptosFullNode:()=>Tt,getAuthenticatorForSimulation:()=>zo,getFunctionParts:()=>ds,isBcsAddress:()=>No,isBcsBool:()=>rs,isBcsFixedBytes:()=>Nd,isBcsString:()=>ns,isBcsU128:()=>cs,isBcsU16:()=>is,isBcsU256:()=>us,isBcsU32:()=>ss,isBcsU64:()=>as,isBcsU8:()=>os,isBlockMetadataTransactionResponse:()=>kl,isBool:()=>nc,isEd25519Signature:()=>Ml,isEncodedEntryFunctionArgument:()=>ic,isFeePayerSignature:()=>Gl,isGenesisTransactionResponse:()=>Nl,isLargeNumber:()=>Oo,isMultiAgentSignature:()=>Dl,isMultiEd25519Signature:()=>Ll,isNull:()=>oc,isNumber:()=>Bo,isPendingTransactionResponse:()=>Bl,isScriptDataInput:()=>fs,isSecp256k1Signature:()=>ql,isStateCheckpointTransactionResponse:()=>zl,isString:()=>Rn,isUserTransactionResponse:()=>Ol,isValidBIP44Path:()=>oa,isValidHardenedPath:()=>ia,mnemonicToSeed:()=>wo,objectStructTag:()=>Cy,optionStructTag:()=>Ey,outOfRangeErrorMessage:()=>$c,paginateWithCursor:()=>Yr,parseTypeTag:()=>ts,post:()=>di,postAptosFaucet:()=>Hs,postAptosFullNode:()=>Xr,postAptosIndexer:()=>$s,request:()=>qc,sign:()=>lc,splitPath:()=>aa,standardizeTypeTags:()=>cc,stringStructTag:()=>Sy,throwTypeMismatch:()=>ze,validateNumberInRange:()=>cr});var Wt=class extends Error{constructor(e,n,o){super(o);this.name="AptosApiError",this.url=n.url,this.status=n.status,this.statusText=n.statusText,this.data=n.data,this.request=e}};var Bc="1.0.0";var si=(n=>(n.JSON="application/json",n.BCS="application/x-bcs",n.BCS_SIGNED_TRANSACTION="application/x.aptos.signed_transaction+bcs",n))(si||{}),Is=(T=>(T[T.Bool=0]="Bool",T[T.U8=1]="U8",T[T.U64=2]="U64",T[T.U128=3]="U128",T[T.Address=4]="Address",T[T.Signer=5]="Signer",T[T.Vector=6]="Vector",T[T.Struct=7]="Struct",T[T.U16=8]="U16",T[T.U32=9]="U32",T[T.U256=10]="U256",T[T.Reference=254]="Reference",T[T.Generic=255]="Generic",T))(Is||{}),Mn=(y=>(y[y.U8=0]="U8",y[y.U64=1]="U64",y[y.U128=2]="U128",y[y.Address=3]="Address",y[y.U8Vector=4]="U8Vector",y[y.Bool=5]="Bool",y[y.U16=6]="U16",y[y.U32=7]="U32",y[y.U256=8]="U256",y))(Mn||{}),Ps=(n=>(n[n.Script=0]="Script",n[n.EntryFunction=2]="EntryFunction",n[n.Multisig=3]="Multisig",n))(Ps||{}),Rs=(e=>(e[e.MultiAgentTransaction=0]="MultiAgentTransaction",e[e.FeePayerTransaction=1]="FeePayerTransaction",e))(Rs||{}),Bs=(s=>(s[s.Ed25519=0]="Ed25519",s[s.MultiEd25519=1]="MultiEd25519",s[s.MultiAgent=2]="MultiAgent",s[s.FeePayer=3]="FeePayer",s[s.SingleSender=4]="SingleSender",s))(Bs||{}),Os=(o=>(o[o.Ed25519=0]="Ed25519",o[o.MultiEd25519=1]="MultiEd25519",o[o.SingleKey=2]="SingleKey",o[o.MultiKey=3]="MultiKey",o))(Os||{}),Ns=(e=>(e[e.Ed25519=0]="Ed25519",e[e.Secp256k1=1]="Secp256k1",e))(Ns||{}),ks=(e=>(e[e.Ed25519=0]="Ed25519",e[e.Secp256k1=1]="Secp256k1",e))(ks||{}),ai=(s=>(s.Pending="pending_transaction",s.User="user_transaction",s.Genesis="genesis_transaction",s.BlockMetadata="block_metadata_transaction",s.StateCheckpoint="state_checkpoint_transaction",s))(ai||{});function Bl(r){return r.type==="pending_transaction"}function Ol(r){return r.type==="user_transaction"}function Nl(r){return r.type==="genesis_transaction"}function kl(r){return r.type==="block_metadata_transaction"}function zl(r){return r.type==="state_checkpoint_transaction"}function Ml(r){return"signature"in r&&r.signature==="ed25519_signature"}function ql(r){return"signature"in r&&r.signature==="secp256k1_ecdsa_signature"}function Dl(r){return r.type==="multi_agent_signature"}function Gl(r){return r.type==="fee_payer_signature"}function Ll(r){return r.type==="multi_ed25519_signature"}var Oc=(n=>(n.PRIVATE="private",n.PUBLIC="public",n.FRIEND="friend",n))(Oc||{}),Nc=(o=>(o.STORE="store",o.DROP="drop",o.KEY="key",o.COPY="copy",o))(Nc||{}),kc=(e=>(e.VALIDATOR="validator",e.FULL_NODE="full_node",e))(kc||{}),qn=(o=>(o[o.Ed25519=0]="Ed25519",o[o.MultiEd25519=1]="MultiEd25519",o[o.SingleKey=2]="SingleKey",o[o.MultiKey=3]="MultiKey",o))(qn||{}),zs=(e=>(e[e.Ed25519=0]="Ed25519",e[e.Secp256k1Ecdsa=2]="Secp256k1Ecdsa",e))(zs||{}),zc=(s=>(s[s.DeriveAuid=251]="DeriveAuid",s[s.DeriveObjectAddressFromObject=252]="DeriveObjectAddressFromObject",s[s.DeriveObjectAddressFromGuid=253]="DeriveObjectAddressFromGuid",s[s.DeriveObjectAddressFromSeed=254]="DeriveObjectAddressFromSeed",s[s.DeriveResourceAccountAddress=255]="DeriveResourceAccountAddress",s))(zc||{});var Mc={400:"Bad Request",401:"Unauthorized",403:"Forbidden",404:"Not Found",429:"Too Many Requests",500:"Internal Server Error",502:"Bad Gateway",503:"Service Unavailable"};async function qc(r,t){let{url:e,method:n,body:o,contentType:s,params:a,overrides:u}=r,p={...u?.HEADERS,"x-aptos-client":`aptos-ts-sdk/${Bc}`,"content-type":s??"application/json"};return u?.AUTH_TOKEN&&e.includes("faucet")&&(p.Authorization=`Bearer ${u?.AUTH_TOKEN}`),u?.API_KEY&&!e.includes("faucet")&&(p.Authorization=`Bearer ${u?.API_KEY}`),t.provider({url:e,method:n,body:o,params:a,headers:p,overrides:u})}async function lo(r,t){let{url:e,path:n}=r,o=`${e}/${n??""}`,s=await qc({...r,url:o},t.client),a={status:s.status,statusText:s.statusText,data:s.data,headers:s.headers,config:s.config,request:s.request,url:o};if(t.isIndexerRequest(e)){let p=a.data;if(p.errors)throw new Wt(r,a,p.errors[0].message??`Unhandled Error ${s.status} : ${s.statusText}`);a.data=p.data}if(a.status>=200&&a.status<300)return a;let u;throw a&&a.data&&"message"in a.data&&"error_code"in a.data?u=JSON.stringify(a.data):a.status in Mc?u=Mc[a.status]:u=`Unhandled Error ${a.status} : ${a.statusText}`,new Wt(r,a,u)}var ci={mainnet:"https://indexer.mainnet.aptoslabs.com/v1/graphql",testnet:"https://indexer-testnet.staging.gcp.aptosdev.com/v1/graphql",devnet:"https://indexer-devnet.staging.gcp.aptosdev.com/v1/graphql",local:"http://127.0.0.1:8090/v1/graphql"},Ms={mainnet:"https://fullnode.mainnet.aptoslabs.com/v1",testnet:"https://fullnode.testnet.aptoslabs.com/v1",devnet:"https://fullnode.devnet.aptoslabs.com/v1",local:"http://127.0.0.1:8080/v1"},qs={mainnet:"https://faucet.mainnet.aptoslabs.com",testnet:"https://faucet.testnet.aptoslabs.com",devnet:"https://faucet.devnet.aptoslabs.com",local:"http://127.0.0.1:8081"},po=(s=>(s.MAINNET="mainnet",s.TESTNET="testnet",s.DEVNET="devnet",s.LOCAL="local",s.CUSTOM="custom",s))(po||{}),ui={mainnet:1,testnet:2},Fl={mainnet:"mainnet",testnet:"testnet",devnet:"devnet",local:"local",custom:"custom"};var go=(n=>(n[n.FULLNODE=0]="FULLNODE",n[n.INDEXER=1]="INDEXER",n[n.FAUCET=2]="FAUCET",n))(go||{}),Ds="devnet",Gs=2e5,Ls=20,yo=20,ho="0x1::aptos_coin::AptosCoin",Fs="APTOS::RawTransaction",fi="APTOS::RawTransactionWithData",jr=(y=>(y.ACCOUNT_TRANSACTION_PROCESSOR="account_transactions_processor",y.COIN_PROCESSOR="coin_processor",y.DEFAULT="default_processor",y.EVENTS_PROCESSOR="events_processor",y.FUNGIBLE_ASSET_PROCESSOR="fungible_asset_processor",y.STAKE_PROCESSOR="stake_processor",y.TOKEN_PROCESSOR="token_processor",y.TOKEN_V2_PROCESSOR="token_v2_processor",y.USER_TRANSACTION_PROCESSOR="user_transaction_processor",y))(jr||{});async function Ks(r){let{aptosConfig:t,overrides:e,params:n,contentType:o,acceptType:s,path:a,originMethod:u,type:p}=r,y=t.getRequestUrl(p);return lo({url:y,method:"GET",originMethod:u,path:a,contentType:o?.valueOf(),acceptType:s?.valueOf(),params:n,overrides:{...t.clientConfig,...e}},t)}async function Tt(r){return Ks({...r,type:0})}async function Yr(r){let t=[],e,n=r.params;for(;;){n.start=e;let o=await Ks({type:0,aptosConfig:r.aptosConfig,originMethod:r.originMethod,path:r.path,params:n,overrides:r.overrides});if(e=o.headers["x-aptos-cursor"],delete o.headers,t.push(...o.data),e==null)break}return t}async function di(r){let{type:t,originMethod:e,path:n,body:o,acceptType:s,contentType:a,params:u,aptosConfig:p,overrides:y}=r,h=p.getRequestUrl(t);return lo({url:h,method:"POST",originMethod:e,path:n,body:o,contentType:a?.valueOf(),acceptType:s?.valueOf(),params:u,overrides:{...p.clientConfig,...y}},p)}async function Xr(r){return di({...r,type:0})}async function $s(r){return di({...r,type:1})}async function Hs(r){return di({...r,type:2})}var li=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;var Vs=r=>r instanceof Uint8Array;var Dc=r=>new Uint32Array(r.buffer,r.byteOffset,Math.floor(r.byteLength/4)),jt=r=>new DataView(r.buffer,r.byteOffset,r.byteLength),qt=(r,t)=>r<<32-t|r>>>t,Kl=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Kl)throw new Error("Non little-endian hardware is not supported");var $l=Array.from({length:256},(r,t)=>t.toString(16).padStart(2,"0"));function Zr(r){if(!Vs(r))throw new Error("Uint8Array expected");let t="";for(let e=0;e<r.length;e++)t+=$l[r[e]];return t}function Dn(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);let t=r.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);let e=new Uint8Array(t/2);for(let n=0;n<e.length;n++){let o=n*2,s=r.slice(o,o+2),a=Number.parseInt(s,16);if(Number.isNaN(a)||a<0)throw new Error("Invalid byte sequence");e[n]=a}return e}function Qs(r){if(typeof r!="string")throw new Error(`utf8ToBytes expected string, got ${typeof r}`);return new Uint8Array(new TextEncoder().encode(r))}function Dt(r){if(typeof r=="string"&&(r=Qs(r)),!Vs(r))throw new Error(`expected Uint8Array, got ${typeof r}`);return r}function Jr(...r){let t=new Uint8Array(r.reduce((n,o)=>n+o.length,0)),e=0;return r.forEach(n=>{if(!Vs(n))throw new Error("Uint8Array expected");t.set(n,e),e+=n.length}),t}var Sr=class{clone(){return this._cloneInto()}},Hl={}.toString;function Gc(r,t){if(t!==void 0&&Hl.call(t)!=="[object Object]")throw new Error("Options should be object or undefined");return Object.assign(r,t)}function Er(r){let t=n=>r().update(Dt(n)).digest(),e=r();return t.outputLen=e.outputLen,t.blockLen=e.blockLen,t.create=()=>r(),t}function Lc(r){let t=(n,o)=>r(o).update(Dt(n)).digest(),e=r({});return t.outputLen=e.outputLen,t.blockLen=e.blockLen,t.create=n=>r(n),t}function Fc(r=32){if(li&&typeof li.getRandomValues=="function")return li.getRandomValues(new Uint8Array(r));throw new Error("crypto.getRandomValues must be defined")}var pi=2**8-1,gi=2**16-1,ar=2**32-1,en=BigInt(2)**BigInt(64)-BigInt(1),mo=BigInt(2)**BigInt(128)-BigInt(1),yi=BigInt(2)**BigInt(256)-BigInt(1);var pt=class extends Error{constructor(e,n){super(e);this.invalidReason=n}};var Kc=(n=>(n.TOO_SHORT="too_short",n.INVALID_LENGTH="invalid_length",n.INVALID_HEX_CHARS="invalid_hex_chars",n))(Kc||{}),me=class r{constructor(t){this.data=t}toUint8Array(){return this.data}toStringWithoutPrefix(){return Zr(this.data)}toString(){return`0x${this.toStringWithoutPrefix()}`}static fromString(t){let e=t;if(e.startsWith("0x")&&(e=e.slice(2)),e.length===0)throw new pt("Hex string is too short, must be at least 1 char long, excluding the optional leading 0x.","too_short");if(e.length%2!==0)throw new pt("Hex string must be an even number of hex characters.","invalid_length");try{return new r(Dn(e))}catch(n){throw new pt(`Hex string contains invalid hex characters: ${n?.message}`,"invalid_hex_chars")}}static fromHexInput(t){return t instanceof Uint8Array?new r(t):r.fromString(t)}static isValid(t){try{return r.fromString(t),{valid:!0}}catch(e){return{valid:!1,invalidReason:e?.invalidReason,invalidReasonMessage:e?.message}}}equals(t){return this.data.length!==t.data.length?!1:this.data.every((e,n)=>e===t.data[n])}};var Z=class{bcsToBytes(){let t=new Gt;return this.serialize(t),t.toUint8Array()}bcsToHex(){let t=this.bcsToBytes();return me.fromHexInput(t)}},Gt=class{constructor(t=64){if(t<=0)throw new Error("Length needs to be greater than 0");this.buffer=new ArrayBuffer(t),this.offset=0}ensureBufferWillHandleSize(t){for(;this.buffer.byteLength<this.offset+t;){let e=new ArrayBuffer(this.buffer.byteLength*2);new Uint8Array(e).set(new Uint8Array(this.buffer)),this.buffer=e}}appendToBuffer(t){this.ensureBufferWillHandleSize(t.length),new Uint8Array(this.buffer,this.offset).set(t),this.offset+=t.length}serializeWithFunction(t,e,n){this.ensureBufferWillHandleSize(e);let o=new DataView(this.buffer,this.offset);t.apply(o,[0,n,!0]),this.offset+=e}serializeStr(t){let e=new TextEncoder;this.serializeBytes(e.encode(t))}serializeBytes(t){this.serializeU32AsUleb128(t.length),this.appendToBuffer(t)}serializeFixedBytes(t){this.appendToBuffer(t)}serializeBool(t){hi(t);let e=t?1:0;this.appendToBuffer(new Uint8Array([e]))}serializeU8(t){this.appendToBuffer(new Uint8Array([t]))}serializeU16(t){this.serializeWithFunction(DataView.prototype.setUint16,2,t)}serializeU32(t){this.serializeWithFunction(DataView.prototype.setUint32,4,t)}serializeU64(t){let e=BigInt(t)&BigInt(ar),n=BigInt(t)>>BigInt(32);this.serializeU32(Number(e)),this.serializeU32(Number(n))}serializeU128(t){let e=BigInt(t)&en,n=BigInt(t)>>BigInt(64);this.serializeU64(e),this.serializeU64(n)}serializeU256(t){let e=BigInt(t)&mo,n=BigInt(t)>>BigInt(128);this.serializeU128(e),this.serializeU128(n)}serializeU32AsUleb128(t){let e=t,n=[];for(;e>>>7;)n.push(e&127|128),e>>>=7;n.push(e),this.appendToBuffer(new Uint8Array(n))}toUint8Array(){return new Uint8Array(this.buffer).slice(0,this.offset)}serialize(t){t.serialize(this)}serializeVector(t){this.serializeU32AsUleb128(t.length),t.forEach(e=>{e.serialize(this)})}};mt([tn(0,pi)],Gt.prototype,"serializeU8",1),mt([tn(0,gi)],Gt.prototype,"serializeU16",1),mt([tn(0,ar)],Gt.prototype,"serializeU32",1),mt([tn(BigInt(0),en)],Gt.prototype,"serializeU64",1),mt([tn(BigInt(0),mo)],Gt.prototype,"serializeU128",1),mt([tn(BigInt(0),yi)],Gt.prototype,"serializeU256",1),mt([tn(0,ar)],Gt.prototype,"serializeU32AsUleb128",1);function hi(r){if(typeof r!="boolean")throw new Error(`${r} is not a boolean value`)}var $c=(r,t,e)=>`${r} is out of range: [${t}, ${e}]`;function cr(r,t,e){let n=BigInt(r);if(n>BigInt(e)||n<BigInt(t))throw new Error($c(r,t,e))}function tn(r,t){return(e,n,o)=>{let s=o.value;return o.value=function(u){return cr(u,r,t),s.apply(this,[u])},o}}var Hc=(u=>(u.INCORRECT_NUMBER_OF_BYTES="incorrect_number_of_bytes",u.INVALID_HEX_CHARS="invalid_hex_chars",u.TOO_SHORT="too_short",u.TOO_LONG="too_long",u.LEADING_ZERO_X_REQUIRED="leading_zero_x_required",u.LONG_FORM_REQUIRED_UNLESS_SPECIAL="long_form_required_unless_special",u.INVALID_PADDING_ZEROES="INVALID_PADDING_ZEROES",u))(Hc||{}),Re=class Re extends Z{constructor(e){super();if(e.length!==Re.LENGTH)throw new pt("AccountAddress data should be exactly 32 bytes long","incorrect_number_of_bytes");this.data=e}isSpecial(){return this.data.slice(0,this.data.length-1).every(e=>e===0)&&this.data[this.data.length-1]<16}toString(){return`0x${this.toStringWithoutPrefix()}`}toStringWithoutPrefix(){let e=Zr(this.data);return this.isSpecial()&&(e=e[e.length-1]),e}toStringLong(){return`0x${this.toStringLongWithoutPrefix()}`}toStringLongWithoutPrefix(){return Zr(this.data)}toUint8Array(){return this.data}serialize(e){e.serializeFixedBytes(this.data)}serializeForEntryFunction(e){let n=this.bcsToBytes();e.serializeBytes(n)}serializeForScriptFunction(e){e.serializeU32AsUleb128(3),e.serialize(this)}static deserialize(e){let n=e.deserializeFixedBytes(Re.LENGTH);return new Re(n)}static fromStringStrict(e){if(!e.startsWith("0x"))throw new pt("Hex string must start with a leading 0x.","leading_zero_x_required");let n=Re.fromString(e);if(e.length!==Re.LONG_STRING_LENGTH+2)if(n.isSpecial()){if(e.length!==3)throw new pt(`The given hex string ${e} is a special address not in LONG form, it must be 0x0 to 0xf without padding zeroes.`,"INVALID_PADDING_ZEROES")}else throw new pt(`The given hex string ${e} is not a special address, it must be represented as 0x + 64 chars.`,"long_form_required_unless_special");return n}static fromString(e){let n=e;if(e.startsWith("0x")&&(n=e.slice(2)),n.length===0)throw new pt("Hex string is too short, must be 1 to 64 chars long, excluding the leading 0x.","too_short");if(n.length>64)throw new pt("Hex string is too long, must be 1 to 64 chars long, excluding the leading 0x.","too_long");let o;try{o=Dn(n.padStart(64,"0"))}catch(s){throw new pt(`Hex characters are invalid: ${s?.message}`,"invalid_hex_chars")}return new Re(o)}static from(e){return e instanceof Re?e:e instanceof Uint8Array?new Re(e):Re.fromString(e)}static fromStrict(e){return e instanceof Re?e:e instanceof Uint8Array?new Re(e):Re.fromStringStrict(e)}static isValid(e){try{return e.strict?Re.fromStrict(e.input):Re.from(e.input),{valid:!0}}catch(n){return{valid:!1,invalidReason:n?.invalidReason,invalidReasonMessage:n?.message}}}equals(e){return this.data.length!==e.data.length?!1:this.data.every((n,o)=>n===e.data[o])}};Re.LENGTH=32,Re.LONG_STRING_LENGTH=64,Re.ZERO=Re.from("0x0"),Re.ONE=Re.from("0x1"),Re.TWO=Re.from("0x2"),Re.THREE=Re.from("0x3"),Re.FOUR=Re.from("0x4");var N=Re;function ur(r){if(!Number.isSafeInteger(r)||r<0)throw new Error(`Wrong positive integer: ${r}`)}function Lt(r,...t){if(!(r instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(r.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${r.length}`)}function mi(r){if(typeof r!="function"||typeof r.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");ur(r.outputLen),ur(r.blockLen)}function fr(r,t=!0){if(r.destroyed)throw new Error("Hash instance has been destroyed");if(t&&r.finished)throw new Error("Hash#digest() has already been called")}function Ai(r,t){Lt(r);let e=t.outputLen;if(r.length<e)throw new Error(`digestInto() expects output buffer of length at least ${e}`)}var xi=BigInt(4294967295),Ws=BigInt(32);function Vc(r,t=!1){return t?{h:Number(r&xi),l:Number(r>>Ws&xi)}:{h:Number(r>>Ws&xi)|0,l:Number(r&xi)|0}}function js(r,t=!1){let e=new Uint32Array(r.length),n=new Uint32Array(r.length);for(let o=0;o<r.length;o++){let{h:s,l:a}=Vc(r[o],t);[e[o],n[o]]=[s,a]}return[e,n]}var Vl=(r,t)=>BigInt(r>>>0)<<Ws|BigInt(t>>>0),Ql=(r,t,e)=>r>>>e,Wl=(r,t,e)=>r<<32-e|t>>>e,jl=(r,t,e)=>r>>>e|t<<32-e,Yl=(r,t,e)=>r<<32-e|t>>>e,Xl=(r,t,e)=>r<<64-e|t>>>e-32,Zl=(r,t,e)=>r>>>e-32|t<<64-e,Jl=(r,t)=>t,ep=(r,t)=>r,Ys=(r,t,e)=>r<<e|t>>>32-e,Xs=(r,t,e)=>t<<e|r>>>32-e,Zs=(r,t,e)=>t<<e-32|r>>>64-e,Js=(r,t,e)=>r<<e-32|t>>>64-e;function tp(r,t,e,n){let o=(t>>>0)+(n>>>0);return{h:r+e+(o/2**32|0)|0,l:o|0}}var rp=(r,t,e)=>(r>>>0)+(t>>>0)+(e>>>0),np=(r,t,e,n)=>t+e+n+(r/2**32|0)|0,op=(r,t,e,n)=>(r>>>0)+(t>>>0)+(e>>>0)+(n>>>0),ip=(r,t,e,n,o)=>t+e+n+o+(r/2**32|0)|0,sp=(r,t,e,n,o)=>(r>>>0)+(t>>>0)+(e>>>0)+(n>>>0)+(o>>>0),ap=(r,t,e,n,o,s)=>t+e+n+o+s+(r/2**32|0)|0;var cp={fromBig:Vc,split:js,toBig:Vl,shrSH:Ql,shrSL:Wl,rotrSH:jl,rotrSL:Yl,rotrBH:Xl,rotrBL:Zl,rotr32H:Jl,rotr32L:ep,rotlSH:Ys,rotlSL:Xs,rotlBH:Zs,rotlBL:Js,add:tp,add3L:rp,add3H:np,add4L:op,add4H:ip,add5H:ap,add5L:sp},pe=cp;var[jc,Yc,Xc]=[[],[],[]],up=BigInt(0),Ao=BigInt(1),fp=BigInt(2),dp=BigInt(7),lp=BigInt(256),pp=BigInt(113);for(let r=0,t=Ao,e=1,n=0;r<24;r++){[e,n]=[n,(2*e+3*n)%5],jc.push(2*(5*n+e)),Yc.push((r+1)*(r+2)/2%64);let o=up;for(let s=0;s<7;s++)t=(t<<Ao^(t>>dp)*pp)%lp,t&fp&&(o^=Ao<<(Ao<<BigInt(s))-Ao);Xc.push(o)}var[gp,yp]=js(Xc,!0),Qc=(r,t,e)=>e>32?Zs(r,t,e):Ys(r,t,e),Wc=(r,t,e)=>e>32?Js(r,t,e):Xs(r,t,e);function hp(r,t=24){let e=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let a=0;a<10;a++)e[a]=r[a]^r[a+10]^r[a+20]^r[a+30]^r[a+40];for(let a=0;a<10;a+=2){let u=(a+8)%10,p=(a+2)%10,y=e[p],h=e[p+1],A=Qc(y,h,1)^e[u],_=Wc(y,h,1)^e[u+1];for(let T=0;T<50;T+=10)r[a+T]^=A,r[a+T+1]^=_}let o=r[2],s=r[3];for(let a=0;a<24;a++){let u=Yc[a],p=Qc(o,s,u),y=Wc(o,s,u),h=jc[a];o=r[h],s=r[h+1],r[h]=p,r[h+1]=y}for(let a=0;a<50;a+=10){for(let u=0;u<10;u++)e[u]=r[a+u];for(let u=0;u<10;u++)r[a+u]^=~e[(u+2)%10]&e[(u+4)%10]}r[0]^=gp[n],r[1]^=yp[n]}e.fill(0)}var bi=class r extends Sr{constructor(t,e,n,o=!1,s=24){if(super(),this.blockLen=t,this.suffix=e,this.outputLen=n,this.enableXOF=o,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,ur(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=Dc(this.state)}keccak(){hp(this.state32,this.rounds),this.posOut=0,this.pos=0}update(t){fr(this);let{blockLen:e,state:n}=this;t=Dt(t);let o=t.length;for(let s=0;s<o;){let a=Math.min(e-this.pos,o-s);for(let u=0;u<a;u++)n[this.pos++]^=t[s++];this.pos===e&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;let{state:t,suffix:e,pos:n,blockLen:o}=this;t[n]^=e,e&128&&n===o-1&&this.keccak(),t[o-1]^=128,this.keccak()}writeInto(t){fr(this,!1),Lt(t),this.finish();let e=this.state,{blockLen:n}=this;for(let o=0,s=t.length;o<s;){this.posOut>=n&&this.keccak();let a=Math.min(n-this.posOut,s-o);t.set(e.subarray(this.posOut,this.posOut+a),o),this.posOut+=a,o+=a}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return ur(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(Ai(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){let{blockLen:e,suffix:n,outputLen:o,rounds:s,enableXOF:a}=this;return t||(t=new r(e,n,o,a,s)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=s,t.suffix=n,t.outputLen=o,t.enableXOF=a,t.destroyed=this.destroyed,t}},Cr=(r,t,e)=>Er(()=>new bi(t,r,e)),Lh=Cr(6,144,224/8),rn=Cr(6,136,256/8),Fh=Cr(6,104,384/8),Kh=Cr(6,72,512/8),$h=Cr(1,144,224/8),Hh=Cr(1,136,256/8),Vh=Cr(1,104,384/8),Qh=Cr(1,72,512/8),Zc=(r,t,e)=>Lc((n={})=>new bi(t,r,n.dkLen===void 0?e:n.dkLen,!0)),Wh=Zc(31,168,128/8),jh=Zc(31,136,256/8);var To=Rc(eu());var ea=class{constructor(t){this.buffer=new ArrayBuffer(t.length),new Uint8Array(this.buffer).set(t,0),this.offset=0}read(t){if(this.offset+t>this.buffer.byteLength)throw new Error("Reached to the end of buffer");let e=this.buffer.slice(this.offset,this.offset+t);return this.offset+=t,e}deserializeStr(){let t=this.deserializeBytes();return new TextDecoder().decode(t)}deserializeBytes(){let t=this.deserializeUleb128AsU32();return new Uint8Array(this.read(t))}deserializeFixedBytes(t){return new Uint8Array(this.read(t))}deserializeBool(){let t=new Uint8Array(this.read(1))[0];if(t!==1&&t!==0)throw new Error("Invalid boolean value");return t===1}deserializeU8(){return new DataView(this.read(1)).getUint8(0)}deserializeU16(){return new DataView(this.read(2)).getUint16(0,!0)}deserializeU32(){return new DataView(this.read(4)).getUint32(0,!0)}deserializeU64(){let t=this.deserializeU32(),e=this.deserializeU32();return BigInt(BigInt(e)<<BigInt(32)|BigInt(t))}deserializeU128(){let t=this.deserializeU64(),e=this.deserializeU64();return BigInt(e<<BigInt(64)|t)}deserializeU256(){let t=this.deserializeU128(),e=this.deserializeU128();return BigInt(e<<BigInt(128)|t)}deserializeUleb128AsU32(){let t=BigInt(0),e=0;for(;t<ar;){let n=this.deserializeU8();if(t|=BigInt(n&127)<<BigInt(e),!(n&128))break;e+=7}if(t>ar)throw new Error("Overflow while parsing uleb128-encoded uint32 value");return Number(t)}deserialize(t){return t.deserialize(this)}deserializeVector(t){let e=this.deserializeUleb128AsU32(),n=new Array;for(let o=0;o<e;o+=1)n.push(this.deserialize(t));return n}};var Ur=class r extends Z{constructor(e){super();this.value=me.fromHexInput(e).toUint8Array()}serialize(e){e.serializeFixedBytes(this.value)}serializeForEntryFunction(e){e.serialize(this)}serializeForScriptFunction(e){e.serialize(this)}static deserialize(e,n){let o=e.deserializeFixedBytes(n);return new r(o)}};var xo=class r extends Z{constructor(e){super();this.value=new Ur(e)}serialize(e){e.serialize(this.value)}serializeForEntryFunction(e){e.serializeU32AsUleb128(this.value.value.length),e.serialize(this)}static deserialize(e,n){let o=Ur.deserialize(e,n);return new r(o.value)}};var Fe=class r extends Z{constructor(e){super();hi(e),this.value=e}serialize(e){e.serializeBool(this.value)}serializeForEntryFunction(e){let n=this.bcsToBytes();e.serializeBytes(n)}serializeForScriptFunction(e){e.serializeU32AsUleb128(5),e.serialize(this)}static deserialize(e){return new r(e.deserializeBool())}},ct=class r extends Z{constructor(e){super();cr(e,0,pi),this.value=e}serialize(e){e.serializeU8(this.value)}serializeForEntryFunction(e){let n=this.bcsToBytes();e.serializeBytes(n)}serializeForScriptFunction(e){e.serializeU32AsUleb128(0),e.serialize(this)}static deserialize(e){return new r(e.deserializeU8())}},Ut=class r extends Z{constructor(e){super();cr(e,0,gi),this.value=e}serialize(e){e.serializeU16(this.value)}serializeForEntryFunction(e){let n=this.bcsToBytes();e.serializeBytes(n)}serializeForScriptFunction(e){e.serializeU32AsUleb128(6),e.serialize(this)}static deserialize(e){return new r(e.deserializeU16())}},It=class r extends Z{constructor(e){super();cr(e,0,ar),this.value=e}serialize(e){e.serializeU32(this.value)}serializeForEntryFunction(e){let n=this.bcsToBytes();e.serializeBytes(n)}serializeForScriptFunction(e){e.serializeU32AsUleb128(7),e.serialize(this)}static deserialize(e){return new r(e.deserializeU32())}},rt=class r extends Z{constructor(e){super();cr(e,BigInt(0),en),this.value=BigInt(e)}serialize(e){e.serializeU64(this.value)}serializeForEntryFunction(e){let n=this.bcsToBytes();e.serializeBytes(n)}serializeForScriptFunction(e){e.serializeU32AsUleb128(1),e.serialize(this)}static deserialize(e){return new r(e.deserializeU64())}},Pt=class r extends Z{constructor(e){super();cr(e,BigInt(0),mo),this.value=BigInt(e)}serialize(e){e.serializeU128(this.value)}serializeForEntryFunction(e){let n=this.bcsToBytes();e.serializeBytes(n)}serializeForScriptFunction(e){e.serializeU32AsUleb128(2),e.serialize(this)}static deserialize(e){return new r(e.deserializeU128())}},Rt=class r extends Z{constructor(e){super();cr(e,BigInt(0),yi),this.value=BigInt(e)}serialize(e){e.serializeU256(this.value)}serializeForEntryFunction(e){let n=this.bcsToBytes();e.serializeBytes(n)}serializeForScriptFunction(e){e.serializeU32AsUleb128(8),e.serialize(this)}static deserialize(e){return new r(e.deserializeU256())}};var Ie=class r extends Z{constructor(e){super();this.values=e}serializeForEntryFunction(e){let n=this.bcsToBytes();e.serializeBytes(n)}serializeForScriptFunction(e){if(!(this.values[0]instanceof ct)&&this.values[0]!==void 0)throw new Error("Script function arguments only accept u8 vectors");e.serializeU32AsUleb128(4),e.serialize(this)}static U8(e){let n;if(Array.isArray(e)&&typeof e[0]=="number")n=e;else if(typeof e=="string"){let o=me.fromHexInput(e);n=Array.from(o.toUint8Array())}else if(e instanceof Uint8Array)n=Array.from(e);else throw new Error("Invalid input type");return new r(n.map(o=>new ct(o)))}static U16(e){return new r(e.map(n=>new Ut(n)))}static U32(e){return new r(e.map(n=>new It(n)))}static U64(e){return new r(e.map(n=>new rt(n)))}static U128(e){return new r(e.map(n=>new Pt(n)))}static U256(e){return new r(e.map(n=>new Rt(n)))}static Bool(e){return new r(e.map(n=>new Fe(n)))}static MoveString(e){return new r(e.map(n=>new Ze(n)))}serialize(e){e.serializeVector(this.values)}static deserialize(e,n){let o=e.deserializeUleb128AsU32(),s=new Array;for(let a=0;a<o;a+=1)s.push(n.deserialize(e));return new r(s)}},Ze=class r extends Z{constructor(e){super();this.value=e}serialize(e){e.serializeStr(this.value)}serializeForEntryFunction(e){let n=this.bcsToBytes();e.serializeBytes(n)}serializeForScriptFunction(e){let n=this.bcsToBytes().slice(1);Ie.U8(n).serializeForScriptFunction(e)}static deserialize(e){return new r(e.deserializeStr())}},dr=class r extends Z{constructor(e){super();typeof e<"u"&&e!==null?this.vec=new Ie([e]):this.vec=new Ie([]),[this.value]=this.vec.values}serializeForEntryFunction(e){let n=this.bcsToBytes();e.serializeBytes(n)}unwrap(){if(this.isSome())return this.vec.values[0];throw new Error("Called unwrap on a MoveOption with no value")}isSome(){return this.vec.values.length===1}serialize(e){this.vec.serialize(e)}static U8(e){return new r(e!=null?new ct(e):void 0)}static U16(e){return new r(e!=null?new Ut(e):void 0)}static U32(e){return new r(e!=null?new It(e):void 0)}static U64(e){return new r(e!=null?new rt(e):void 0)}static U128(e){return new r(e!=null?new Pt(e):void 0)}static U256(e){return new r(e!=null?new Rt(e):void 0)}static Bool(e){return new r(e!=null?new Fe(e):void 0)}static MoveString(e){return new r(e!=null?new Ze(e):void 0)}static deserialize(e,n){let o=Ie.deserialize(e,n);return new r(o.values[0])}};var _t=class extends Z{},nn=class extends Z{},Ft=class extends Z{};var Ti=class extends Sr{constructor(t,e){super(),this.finished=!1,this.destroyed=!1,mi(t);let n=Dt(e);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let o=this.blockLen,s=new Uint8Array(o);s.set(n.length>o?t.create().update(n).digest():n);for(let a=0;a<s.length;a++)s[a]^=54;this.iHash.update(s),this.oHash=t.create();for(let a=0;a<s.length;a++)s[a]^=106;this.oHash.update(s),s.fill(0)}update(t){return fr(this),this.iHash.update(t),this}digestInto(t){fr(this),Lt(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){let t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));let{oHash:e,iHash:n,finished:o,destroyed:s,blockLen:a,outputLen:u}=this;return t=t,t.finished=o,t.destroyed=s,t.blockLen=a,t.outputLen=u,t.oHash=e._cloneInto(t.oHash),t.iHash=n._cloneInto(t.iHash),t}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},Yt=(r,t,e)=>new Ti(r,t).update(e).digest();Yt.create=(r,t)=>new Ti(r,t);function mp(r,t,e,n){if(typeof r.setBigUint64=="function")return r.setBigUint64(t,e,n);let o=BigInt(32),s=BigInt(4294967295),a=Number(e>>o&s),u=Number(e&s),p=n?4:0,y=n?0:4;r.setUint32(t+p,a,n),r.setUint32(t+y,u,n)}var Ir=class extends Sr{constructor(t,e,n,o){super(),this.blockLen=t,this.outputLen=e,this.padOffset=n,this.isLE=o,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=jt(this.buffer)}update(t){fr(this);let{view:e,buffer:n,blockLen:o}=this;t=Dt(t);let s=t.length;for(let a=0;a<s;){let u=Math.min(o-this.pos,s-a);if(u===o){let p=jt(t);for(;o<=s-a;a+=o)this.process(p,a);continue}n.set(t.subarray(a,a+u),this.pos),this.pos+=u,a+=u,this.pos===o&&(this.process(e,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){fr(this),Ai(t,this),this.finished=!0;let{buffer:e,view:n,blockLen:o,isLE:s}=this,{pos:a}=this;e[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>o-a&&(this.process(n,0),a=0);for(let A=a;A<o;A++)e[A]=0;mp(n,o-8,BigInt(this.length*8),s),this.process(n,0);let u=jt(t),p=this.outputLen;if(p%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let y=p/4,h=this.get();if(y>h.length)throw new Error("_sha2: outputLen bigger than state");for(let A=0;A<y;A++)u.setUint32(4*A,h[A],s)}digest(){let{buffer:t,outputLen:e}=this;this.digestInto(t);let n=t.slice(0,e);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());let{blockLen:e,buffer:n,length:o,finished:s,destroyed:a,pos:u}=this;return t.length=o,t.pos=u,t.finished=s,t.destroyed=a,o%e&&t.buffer.set(n),t}};var[Ap,xp]=(()=>pe.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(r=>BigInt(r))))(),Pr=new Uint32Array(80),Rr=new Uint32Array(80),ta=class extends Ir{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:t,Al:e,Bh:n,Bl:o,Ch:s,Cl:a,Dh:u,Dl:p,Eh:y,El:h,Fh:A,Fl:_,Gh:T,Gl:z,Hh:S,Hl:P}=this;return[t,e,n,o,s,a,u,p,y,h,A,_,T,z,S,P]}set(t,e,n,o,s,a,u,p,y,h,A,_,T,z,S,P){this.Ah=t|0,this.Al=e|0,this.Bh=n|0,this.Bl=o|0,this.Ch=s|0,this.Cl=a|0,this.Dh=u|0,this.Dl=p|0,this.Eh=y|0,this.El=h|0,this.Fh=A|0,this.Fl=_|0,this.Gh=T|0,this.Gl=z|0,this.Hh=S|0,this.Hl=P|0}process(t,e){for(let k=0;k<16;k++,e+=4)Pr[k]=t.getUint32(e),Rr[k]=t.getUint32(e+=4);for(let k=16;k<80;k++){let ee=Pr[k-15]|0,L=Rr[k-15]|0,W=pe.rotrSH(ee,L,1)^pe.rotrSH(ee,L,8)^pe.shrSH(ee,L,7),J=pe.rotrSL(ee,L,1)^pe.rotrSL(ee,L,8)^pe.shrSL(ee,L,7),X=Pr[k-2]|0,Oe=Rr[k-2]|0,xe=pe.rotrSH(X,Oe,19)^pe.rotrBH(X,Oe,61)^pe.shrSH(X,Oe,6),he=pe.rotrSL(X,Oe,19)^pe.rotrBL(X,Oe,61)^pe.shrSL(X,Oe,6),Qe=pe.add4L(J,he,Rr[k-7],Rr[k-16]),We=pe.add4H(Qe,W,xe,Pr[k-7],Pr[k-16]);Pr[k]=We|0,Rr[k]=Qe|0}let{Ah:n,Al:o,Bh:s,Bl:a,Ch:u,Cl:p,Dh:y,Dl:h,Eh:A,El:_,Fh:T,Fl:z,Gh:S,Gl:P,Hh:B,Hl:H}=this;for(let k=0;k<80;k++){let ee=pe.rotrSH(A,_,14)^pe.rotrSH(A,_,18)^pe.rotrBH(A,_,41),L=pe.rotrSL(A,_,14)^pe.rotrSL(A,_,18)^pe.rotrBL(A,_,41),W=A&T^~A&S,J=_&z^~_&P,X=pe.add5L(H,L,J,xp[k],Rr[k]),Oe=pe.add5H(X,B,ee,W,Ap[k],Pr[k]),xe=X|0,he=pe.rotrSH(n,o,28)^pe.rotrBH(n,o,34)^pe.rotrBH(n,o,39),Qe=pe.rotrSL(n,o,28)^pe.rotrBL(n,o,34)^pe.rotrBL(n,o,39),We=n&s^n&u^s&u,ht=o&a^o&p^a&p;B=S|0,H=P|0,S=T|0,P=z|0,T=A|0,z=_|0,{h:A,l:_}=pe.add(y|0,h|0,Oe|0,xe|0),y=u|0,h=p|0,u=s|0,p=a|0,s=n|0,a=o|0;let O=pe.add3L(xe,Qe,ht);n=pe.add3H(O,Oe,he,We),o=O|0}({h:n,l:o}=pe.add(this.Ah|0,this.Al|0,n|0,o|0)),{h:s,l:a}=pe.add(this.Bh|0,this.Bl|0,s|0,a|0),{h:u,l:p}=pe.add(this.Ch|0,this.Cl|0,u|0,p|0),{h:y,l:h}=pe.add(this.Dh|0,this.Dl|0,y|0,h|0),{h:A,l:_}=pe.add(this.Eh|0,this.El|0,A|0,_|0),{h:T,l:z}=pe.add(this.Fh|0,this.Fl|0,T|0,z|0),{h:S,l:P}=pe.add(this.Gh|0,this.Gl|0,S|0,P|0),{h:B,l:H}=pe.add(this.Hh|0,this.Hl|0,B|0,H|0),this.set(n,o,s,a,u,p,y,h,A,_,T,z,S,P,B,H)}roundClean(){Pr.fill(0),Rr.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};var on=Er(()=>new ta);function bp(r,t,e,n){mi(r);let o=Gc({dkLen:32,asyncTick:10},n),{c:s,dkLen:a,asyncTick:u}=o;if(ur(s),ur(a),ur(u),s<1)throw new Error("PBKDF2: iterations (c) should be >= 1");let p=Dt(t),y=Dt(e),h=new Uint8Array(a),A=Yt.create(r,p),_=A._cloneInto().update(y);return{c:s,dkLen:a,asyncTick:u,DK:h,PRF:A,PRFSalt:_}}function wp(r,t,e,n,o){return r.destroy(),t.destroy(),n&&n.destroy(),o.fill(0),e}function tu(r,t,e,n){let{c:o,dkLen:s,DK:a,PRF:u,PRFSalt:p}=bp(r,t,e,n),y,h=new Uint8Array(4),A=jt(h),_=new Uint8Array(u.outputLen);for(let T=1,z=0;z<s;T++,z+=u.outputLen){let S=a.subarray(z,z+u.outputLen);A.setInt32(0,T,!1),(y=p._cloneInto(y)).update(h).digestInto(_),S.set(_.subarray(0,S.length));for(let P=1;P<o;P++){u._cloneInto(y).update(_).digestInto(_);for(let B=0;B<S.length;B++)S[B]^=_[B]}}return wp(u,p,a,y,_)}var Tp=(r,t,e)=>r&t^~r&e,_p=(r,t,e)=>r&t^r&e^t&e,vp=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Br=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Or=new Uint32Array(64),ra=class extends Ir{constructor(){super(64,32,8,!1),this.A=Br[0]|0,this.B=Br[1]|0,this.C=Br[2]|0,this.D=Br[3]|0,this.E=Br[4]|0,this.F=Br[5]|0,this.G=Br[6]|0,this.H=Br[7]|0}get(){let{A:t,B:e,C:n,D:o,E:s,F:a,G:u,H:p}=this;return[t,e,n,o,s,a,u,p]}set(t,e,n,o,s,a,u,p){this.A=t|0,this.B=e|0,this.C=n|0,this.D=o|0,this.E=s|0,this.F=a|0,this.G=u|0,this.H=p|0}process(t,e){for(let A=0;A<16;A++,e+=4)Or[A]=t.getUint32(e,!1);for(let A=16;A<64;A++){let _=Or[A-15],T=Or[A-2],z=qt(_,7)^qt(_,18)^_>>>3,S=qt(T,17)^qt(T,19)^T>>>10;Or[A]=S+Or[A-7]+z+Or[A-16]|0}let{A:n,B:o,C:s,D:a,E:u,F:p,G:y,H:h}=this;for(let A=0;A<64;A++){let _=qt(u,6)^qt(u,11)^qt(u,25),T=h+_+Tp(u,p,y)+vp[A]+Or[A]|0,S=(qt(n,2)^qt(n,13)^qt(n,22))+_p(n,o,s)|0;h=y,y=p,p=u,u=a+T|0,a=s,s=o,o=n,n=T+S|0}n=n+this.A|0,o=o+this.B|0,s=s+this.C|0,a=a+this.D|0,u=u+this.E|0,p=p+this.F|0,y=y+this.G|0,h=h+this.H|0,this.set(n,o,s,a,u,p,y,h)}roundClean(){Or.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};var bo=Er(()=>new ra);function _i(r){if(!Number.isSafeInteger(r))throw new Error(`Wrong integer: ${r}`)}function nu(...r){let t=(o,s)=>a=>o(s(a)),e=Array.from(r).reverse().reduce((o,s)=>o?t(o,s.encode):s.encode,void 0),n=r.reduce((o,s)=>o?t(o,s.decode):s.decode,void 0);return{encode:e,decode:n}}function Sp(r){return{encode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return t.map(e=>{if(e<0||e>=r.length)throw new Error(`Digit index outside alphabet: ${e} (alphabet: ${r.length})`);return r[e]})},decode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="string")throw new Error("alphabet.decode input should be array of strings");return t.map(e=>{if(typeof e!="string")throw new Error(`alphabet.decode: not string element=${e}`);let n=r.indexOf(e);if(n===-1)throw new Error(`Unknown letter: "${e}". Allowed: ${r}`);return n})}}}function Ep(r=""){if(typeof r!="string")throw new Error("join separator should be string");return{encode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="string")throw new Error("join.encode input should be array of strings");for(let e of t)if(typeof e!="string")throw new Error(`join.encode: non-string input=${e}`);return t.join(r)},decode:t=>{if(typeof t!="string")throw new Error("join.decode input should be string");return t.split(r)}}}function ru(r,t,e){if(t<2)throw new Error(`convertRadix: wrong from=${t}, base cannot be less than 2`);if(e<2)throw new Error(`convertRadix: wrong to=${e}, base cannot be less than 2`);if(!Array.isArray(r))throw new Error("convertRadix: data should be array");if(!r.length)return[];let n=0,o=[],s=Array.from(r);for(s.forEach(a=>{if(a<0||a>=t)throw new Error(`Wrong integer: ${a}`)});;){let a=0,u=!0;for(let p=n;p<s.length;p++){let y=s[p],h=t*a+y;if(!Number.isSafeInteger(h)||t*a/t!==a||h-y!==t*a)throw new Error("convertRadix: carry overflow");a=h%e;let A=Math.floor(h/e);if(s[p]=A,!Number.isSafeInteger(A)||A*e+a!==h)throw new Error("convertRadix: carry overflow");if(u)A?u=!1:n=p;else continue}if(o.push(a),u)break}for(let a=0;a<r.length-1&&r[a]===0;a++)o.push(0);return o.reverse()}function Cp(r){return{encode:t=>{if(!(t instanceof Uint8Array))throw new Error("radix.encode input should be Uint8Array");return ru(Array.from(t),2**8,r)},decode:t=>{if(!Array.isArray(t)||t.length&&typeof t[0]!="number")throw new Error("radix.decode input should be array of strings");return Uint8Array.from(ru(t,r,2**8))}}}function Up(r,t){if(typeof t!="function")throw new Error("checksum fn should be function");return{encode(e){if(!(e instanceof Uint8Array))throw new Error("checksum.encode: input should be Uint8Array");let n=t(e).slice(0,r),o=new Uint8Array(e.length+r);return o.set(e),o.set(n,e.length),o},decode(e){if(!(e instanceof Uint8Array))throw new Error("checksum.decode: input should be Uint8Array");let n=e.slice(0,-r),o=t(n).slice(0,r),s=e.slice(-r);for(let a=0;a<r;a++)if(o[a]!==s[a])throw new Error("Invalid checksum");return n}}}var Ip=r=>nu(Cp(58),Sp(r),Ep("")),Pp=Ip("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");var ou=r=>nu(Up(4,t=>r(r(t))),Pp);function iu(r){if(typeof r!="string")throw new TypeError(`Invalid mnemonic type: ${typeof r}`);return r.normalize("NFKD")}function Rp(r){let t=iu(r),e=t.split(" ");if(![12,15,18,21,24].includes(e.length))throw new Error("Invalid mnemonic");return{nfkd:t,words:e}}var Bp=r=>iu(`mnemonic${r}`);function su(r,t=""){return tu(on,Rp(r).nfkd,Bp(t),{c:2048,dkLen:64})}var au=/^m\/44'\/637'\/[0-9]+'\/[0-9]+'\/[0-9]+'?$/,cu=/^m\/44'\/637'\/[0-9]+'\/[0-9]+\/[0-9]+$/,uu=(t=>(t.ED25519="ed25519 seed",t))(uu||{}),na=2147483648;function oa(r){return cu.test(r)}function ia(r){return au.test(r)}var vi=(r,t)=>{let e=Yt.create(on,r).update(t).digest();return{key:e.slice(0,32),chainCode:e.slice(32)}},sa=({key:r,chainCode:t},e)=>{let n=new ArrayBuffer(4);new DataView(n).setUint32(0,e);let o=new Uint8Array(n),s=new Uint8Array([0]),a=new Uint8Array([...s,...r,...o]);return vi(t,a)},Np=r=>r.replace("'",""),aa=r=>r.split("/").slice(1).map(Np),wo=r=>{let t=r.trim().split(/\s+/).map(e=>e.toLowerCase()).join(" ");return su(t)};var Nr=class Nr extends _t{constructor(e){super();let n=me.fromHexInput(e);if(n.toUint8Array().length!==Nr.LENGTH)throw new Error(`PublicKey length should be ${Nr.LENGTH}`);this.key=n}toUint8Array(){return this.key.toUint8Array()}toString(){return this.key.toString()}verifySignature(e){let{message:n,signature:o}=e,s=me.fromHexInput(n).toUint8Array(),a=o.toUint8Array();return To.default.sign.detached.verify(s,a,this.key.toUint8Array())}serialize(e){e.serializeBytes(this.key.toUint8Array())}static deserialize(e){let n=e.deserializeBytes();return new Nr(n)}static load(e){let n=e.deserializeBytes();return new Nr(n)}static isPublicKey(e){return e instanceof Nr}};Nr.LENGTH=32;var Be=Nr,gt=class gt extends nn{constructor(e){super();let n=me.fromHexInput(e);if(n.toUint8Array().length!==gt.LENGTH)throw new Error(`PrivateKey length should be ${gt.LENGTH}`);this.signingKeyPair=To.default.sign.keyPair.fromSeed(n.toUint8Array().slice(0,gt.LENGTH))}toUint8Array(){return this.signingKeyPair.secretKey.slice(0,gt.LENGTH)}toString(){return me.fromHexInput(this.toUint8Array()).toString()}sign(e){let n=me.fromHexInput(e),o=To.default.sign.detached(n.toUint8Array(),this.signingKeyPair.secretKey);return new Ke(o)}serialize(e){e.serializeBytes(this.toUint8Array())}static deserialize(e){let n=e.deserializeBytes();return new gt(n)}static generate(){let e=To.default.sign.keyPair();return new gt(e.secretKey.slice(0,gt.LENGTH))}publicKey(){let e=this.signingKeyPair.publicKey;return new Be(e)}static fromDerivationPath(e,n){if(!ia(e))throw new Error(`Invalid derivation path ${e}`);return gt.fromDerivationPathInner(e,wo(n))}static fromDerivationPathInner(e,n,o=na){let{key:s,chainCode:a}=vi(gt.SLIP_0010_SEED,n),u=aa(e).map(y=>parseInt(y,10)),{key:p}=u.reduce((y,h)=>sa(y,h+o),{key:s,chainCode:a});return new gt(p)}static isPrivateKey(e){return e instanceof gt}};gt.LENGTH=32,gt.SLIP_0010_SEED="ed25519 seed";var lr=gt,kr=class kr extends Ft{constructor(e){super();let n=me.fromHexInput(e);if(n.toUint8Array().length!==kr.LENGTH)throw new Error(`Signature length should be ${kr.LENGTH}`);this.data=n}toUint8Array(){return this.data.toUint8Array()}toString(){return this.data.toString()}serialize(e){e.serializeBytes(this.data.toUint8Array())}static deserialize(e){let n=e.deserializeBytes();return new kr(n)}static load(e){let n=e.deserializeBytes();return new kr(n)}static isSignature(e){return e instanceof kr}};kr.LENGTH=64;var Ke=kr;var Bt=class Bt extends _t{constructor(e){super();let{publicKeys:n,threshold:o}=e;if(n.length>Bt.MAX_KEYS||n.length<Bt.MIN_KEYS)throw new Error(`Must have between ${Bt.MIN_KEYS} and ${Bt.MAX_KEYS} public keys, inclusive`);if(o<Bt.MIN_THRESHOLD||o>n.length)throw new Error(`Threshold must be between ${Bt.MIN_THRESHOLD} and ${n.length}, inclusive`);this.publicKeys=n,this.threshold=o}toUint8Array(){let e=new Uint8Array(this.publicKeys.length*Be.LENGTH+1);return this.publicKeys.forEach((n,o)=>{e.set(n.toUint8Array(),o*Be.LENGTH)}),e[this.publicKeys.length*Be.LENGTH]=this.threshold,e}toString(){return me.fromHexInput(this.toUint8Array()).toString()}verifySignature(e){throw new Error("TODO - Method not implemented.")}serialize(e){e.serializeBytes(this.toUint8Array())}static deserialize(e){let n=e.deserializeBytes(),o=n[n.length-1],s=[];for(let a=0;a<n.length-1;a+=Be.LENGTH){let u=a;s.push(new Be(n.subarray(u,u+Be.LENGTH)))}return new Bt({publicKeys:s,threshold:o})}};Bt.MAX_KEYS=32,Bt.MIN_KEYS=2,Bt.MIN_THRESHOLD=1;var Kt=Bt,Ot=class Ot extends Ft{constructor(e){super();let{signatures:n,bitmap:o}=e;if(o.length!==Ot.BITMAP_LEN)throw new Error(`"bitmap" length should be ${Ot.BITMAP_LEN}`);if(n.length>Ot.MAX_SIGNATURES_SUPPORTED)throw new Error(`The number of signatures cannot be greater than ${Ot.MAX_SIGNATURES_SUPPORTED}`);this.signatures=n,this.bitmap=o}toUint8Array(){let e=new Uint8Array(this.signatures.length*Ke.LENGTH+Ot.BITMAP_LEN);return this.signatures.forEach((n,o)=>{e.set(n.toUint8Array(),o*Ke.LENGTH)}),e.set(this.bitmap,this.signatures.length*Ke.LENGTH),e}toString(){return me.fromHexInput(this.toUint8Array()).toString()}static createBitmap(e){let{bits:n}=e,o=128,s=new Uint8Array([0,0,0,0]),a=new Set;return n.forEach(u=>{if(u>=Ot.MAX_SIGNATURES_SUPPORTED)throw new Error(`Cannot have a signature larger than ${Ot.MAX_SIGNATURES_SUPPORTED-1}.`);if(a.has(u))throw new Error("Duplicate bits detected.");a.add(u);let p=Math.floor(u/8),y=s[p];y|=o>>u%8,s[p]=y}),s}serialize(e){e.serializeBytes(this.toUint8Array())}static deserialize(e){let n=e.deserializeBytes(),o=n.subarray(n.length-4),s=[];for(let a=0;a<n.length-o.length;a+=Ke.LENGTH){let u=a;s.push(new Ke(n.subarray(u,u+Ke.LENGTH)))}return new Ot({signatures:s,bitmap:o})}};Ot.MAX_SIGNATURES_SUPPORTED=32,Ot.BITMAP_LEN=4;var sn=Ot;var da={};Ic(da,{bitGet:()=>Lp,bitLen:()=>Gp,bitMask:()=>_o,bitSet:()=>Fp,bytesToHex:()=>an,bytesToNumberBE:()=>pr,bytesToNumberLE:()=>Ci,concatBytes:()=>Gn,createHmacDrbg:()=>fa,ensureBytes:()=>vt,equalBytes:()=>qp,hexToBytes:()=>cn,hexToNumber:()=>ua,numberToBytesBE:()=>zr,numberToBytesLE:()=>Ui,numberToHexUnpadded:()=>lu,numberToVarBytesBE:()=>Mp,utf8ToBytes:()=>Dp,validateObject:()=>Mr});var du=BigInt(0),Si=BigInt(1),kp=BigInt(2),Ei=r=>r instanceof Uint8Array,zp=Array.from({length:256},(r,t)=>t.toString(16).padStart(2,"0"));function an(r){if(!Ei(r))throw new Error("Uint8Array expected");let t="";for(let e=0;e<r.length;e++)t+=zp[r[e]];return t}function lu(r){let t=r.toString(16);return t.length&1?`0${t}`:t}function ua(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);return BigInt(r===""?"0":`0x${r}`)}function cn(r){if(typeof r!="string")throw new Error("hex string expected, got "+typeof r);let t=r.length;if(t%2)throw new Error("padded hex string expected, got unpadded hex of length "+t);let e=new Uint8Array(t/2);for(let n=0;n<e.length;n++){let o=n*2,s=r.slice(o,o+2),a=Number.parseInt(s,16);if(Number.isNaN(a)||a<0)throw new Error("Invalid byte sequence");e[n]=a}return e}function pr(r){return ua(an(r))}function Ci(r){if(!Ei(r))throw new Error("Uint8Array expected");return ua(an(Uint8Array.from(r).reverse()))}function zr(r,t){return cn(r.toString(16).padStart(t*2,"0"))}function Ui(r,t){return zr(r,t).reverse()}function Mp(r){return cn(lu(r))}function vt(r,t,e){let n;if(typeof t=="string")try{n=cn(t)}catch(s){throw new Error(`${r} must be valid hex string, got "${t}". Cause: ${s}`)}else if(Ei(t))n=Uint8Array.from(t);else throw new Error(`${r} must be hex string or Uint8Array`);let o=n.length;if(typeof e=="number"&&o!==e)throw new Error(`${r} expected ${e} bytes, got ${o}`);return n}function Gn(...r){let t=new Uint8Array(r.reduce((n,o)=>n+o.length,0)),e=0;return r.forEach(n=>{if(!Ei(n))throw new Error("Uint8Array expected");t.set(n,e),e+=n.length}),t}function qp(r,t){if(r.length!==t.length)return!1;for(let e=0;e<r.length;e++)if(r[e]!==t[e])return!1;return!0}function Dp(r){if(typeof r!="string")throw new Error(`utf8ToBytes expected string, got ${typeof r}`);return new Uint8Array(new TextEncoder().encode(r))}function Gp(r){let t;for(t=0;r>du;r>>=Si,t+=1);return t}function Lp(r,t){return r>>BigInt(t)&Si}var Fp=(r,t,e)=>r|(e?Si:du)<<BigInt(t),_o=r=>(kp<<BigInt(r-1))-Si,ca=r=>new Uint8Array(r),fu=r=>Uint8Array.from(r);function fa(r,t,e){if(typeof r!="number"||r<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof e!="function")throw new Error("hmacFn must be a function");let n=ca(r),o=ca(r),s=0,a=()=>{n.fill(1),o.fill(0),s=0},u=(...A)=>e(o,n,...A),p=(A=ca())=>{o=u(fu([0]),A),n=u(),A.length!==0&&(o=u(fu([1]),A),n=u())},y=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let A=0,_=[];for(;A<t;){n=u();let T=n.slice();_.push(T),A+=n.length}return Gn(..._)};return(A,_)=>{a(),p(A);let T;for(;!(T=_(y()));)p();return a(),T}}var Kp={bigint:r=>typeof r=="bigint",function:r=>typeof r=="function",boolean:r=>typeof r=="boolean",string:r=>typeof r=="string",stringOrUint8Array:r=>typeof r=="string"||r instanceof Uint8Array,isSafeInteger:r=>Number.isSafeInteger(r),array:r=>Array.isArray(r),field:(r,t)=>t.Fp.isValid(r),hash:r=>typeof r=="function"&&Number.isSafeInteger(r.outputLen)};function Mr(r,t,e={}){let n=(o,s,a)=>{let u=Kp[s];if(typeof u!="function")throw new Error(`Invalid validator "${s}", expected function`);let p=r[o];if(!(a&&p===void 0)&&!u(p,r))throw new Error(`Invalid param ${String(o)}=${p} (${typeof p}), expected ${s}`)};for(let[o,s]of Object.entries(t))n(o,s,!1);for(let[o,s]of Object.entries(e))n(o,s,!0);return r}var tt=BigInt(0),$e=BigInt(1),un=BigInt(2),$p=BigInt(3),la=BigInt(4),pu=BigInt(5),gu=BigInt(8),Hp=BigInt(9),Vp=BigInt(16);function nt(r,t){let e=r%t;return e>=tt?e:t+e}function Qp(r,t,e){if(e<=tt||t<tt)throw new Error("Expected power/modulo > 0");if(e===$e)return tt;let n=$e;for(;t>tt;)t&$e&&(n=n*r%e),r=r*r%e,t>>=$e;return n}function St(r,t,e){let n=r;for(;t-- >tt;)n*=n,n%=e;return n}function Ii(r,t){if(r===tt||t<=tt)throw new Error(`invert: expected positive integers, got n=${r} mod=${t}`);let e=nt(r,t),n=t,o=tt,s=$e,a=$e,u=tt;for(;e!==tt;){let y=n/e,h=n%e,A=o-a*y,_=s-u*y;n=e,e=h,o=a,s=u,a=A,u=_}if(n!==$e)throw new Error("invert: does not exist");return nt(o,t)}function Wp(r){let t=(r-$e)/un,e,n,o;for(e=r-$e,n=0;e%un===tt;e/=un,n++);for(o=un;o<r&&Qp(o,t,r)!==r-$e;o++);if(n===1){let a=(r+$e)/la;return function(p,y){let h=p.pow(y,a);if(!p.eql(p.sqr(h),y))throw new Error("Cannot find square root");return h}}let s=(e+$e)/un;return function(u,p){if(u.pow(p,t)===u.neg(u.ONE))throw new Error("Cannot find square root");let y=n,h=u.pow(u.mul(u.ONE,o),e),A=u.pow(p,s),_=u.pow(p,e);for(;!u.eql(_,u.ONE);){if(u.eql(_,u.ZERO))return u.ZERO;let T=1;for(let S=u.sqr(_);T<y&&!u.eql(S,u.ONE);T++)S=u.sqr(S);let z=u.pow(h,$e<<BigInt(y-T-1));h=u.sqr(z),A=u.mul(A,z),_=u.mul(_,h),y=T}return A}}function jp(r){if(r%la===$p){let t=(r+$e)/la;return function(n,o){let s=n.pow(o,t);if(!n.eql(n.sqr(s),o))throw new Error("Cannot find square root");return s}}if(r%gu===pu){let t=(r-pu)/gu;return function(n,o){let s=n.mul(o,un),a=n.pow(s,t),u=n.mul(o,a),p=n.mul(n.mul(u,un),a),y=n.mul(u,n.sub(p,n.ONE));if(!n.eql(n.sqr(y),o))throw new Error("Cannot find square root");return y}}return r%Vp,Wp(r)}var Yp=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function pa(r){let t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},e=Yp.reduce((n,o)=>(n[o]="function",n),t);return Mr(r,e)}function Xp(r,t,e){if(e<tt)throw new Error("Expected power > 0");if(e===tt)return r.ONE;if(e===$e)return t;let n=r.ONE,o=t;for(;e>tt;)e&$e&&(n=r.mul(n,o)),o=r.sqr(o),e>>=$e;return n}function Zp(r,t){let e=new Array(t.length),n=t.reduce((s,a,u)=>r.is0(a)?s:(e[u]=s,r.mul(s,a)),r.ONE),o=r.inv(n);return t.reduceRight((s,a,u)=>r.is0(a)?s:(e[u]=r.mul(s,e[u]),r.mul(s,a)),o),e}function ga(r,t){let e=t!==void 0?t:r.toString(2).length,n=Math.ceil(e/8);return{nBitLength:e,nByteLength:n}}function yu(r,t,e=!1,n={}){if(r<=tt)throw new Error(`Expected Field ORDER > 0, got ${r}`);let{nBitLength:o,nByteLength:s}=ga(r,t);if(s>2048)throw new Error("Field lengths over 2048 bytes are not supported");let a=jp(r),u=Object.freeze({ORDER:r,BITS:o,BYTES:s,MASK:_o(o),ZERO:tt,ONE:$e,create:p=>nt(p,r),isValid:p=>{if(typeof p!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof p}`);return tt<=p&&p<r},is0:p=>p===tt,isOdd:p=>(p&$e)===$e,neg:p=>nt(-p,r),eql:(p,y)=>p===y,sqr:p=>nt(p*p,r),add:(p,y)=>nt(p+y,r),sub:(p,y)=>nt(p-y,r),mul:(p,y)=>nt(p*y,r),pow:(p,y)=>Xp(u,p,y),div:(p,y)=>nt(p*Ii(y,r),r),sqrN:p=>p*p,addN:(p,y)=>p+y,subN:(p,y)=>p-y,mulN:(p,y)=>p*y,inv:p=>Ii(p,r),sqrt:n.sqrt||(p=>a(u,p)),invertBatch:p=>Zp(u,p),cmov:(p,y,h)=>h?y:p,toBytes:p=>e?Ui(p,s):zr(p,s),fromBytes:p=>{if(p.length!==s)throw new Error(`Fp.fromBytes: expected ${s}, got ${p.length}`);return e?Ci(p):pr(p)}});return Object.freeze(u)}function hu(r){if(typeof r!="bigint")throw new Error("field order must be bigint");let t=r.toString(2).length;return Math.ceil(t/8)}function ya(r){let t=hu(r);return t+Math.ceil(t/2)}function mu(r,t,e=!1){let n=r.length,o=hu(t),s=ya(t);if(n<16||n<s||n>1024)throw new Error(`expected ${s}-1024 bytes of input, got ${n}`);let a=e?pr(r):Ci(r),u=nt(a,t-$e)+$e;return e?Ui(u,o):zr(u,o)}var eg=BigInt(0),ha=BigInt(1);function Au(r,t){let e=(o,s)=>{let a=s.negate();return o?a:s},n=o=>{let s=Math.ceil(t/o)+1,a=2**(o-1);return{windows:s,windowSize:a}};return{constTimeNegate:e,unsafeLadder(o,s){let a=r.ZERO,u=o;for(;s>eg;)s&ha&&(a=a.add(u)),u=u.double(),s>>=ha;return a},precomputeWindow(o,s){let{windows:a,windowSize:u}=n(s),p=[],y=o,h=y;for(let A=0;A<a;A++){h=y,p.push(h);for(let _=1;_<u;_++)h=h.add(y),p.push(h);y=h.double()}return p},wNAF(o,s,a){let{windows:u,windowSize:p}=n(o),y=r.ZERO,h=r.BASE,A=BigInt(2**o-1),_=2**o,T=BigInt(o);for(let z=0;z<u;z++){let S=z*p,P=Number(a&A);a>>=T,P>p&&(P-=_,a+=ha);let B=S,H=S+Math.abs(P)-1,k=z%2!==0,ee=P<0;P===0?h=h.add(e(k,s[B])):y=y.add(e(ee,s[H]))}return{p:y,f:h}},wNAFCached(o,s,a,u){let p=o._WINDOW_SIZE||1,y=s.get(o);return y||(y=this.precomputeWindow(o,p),p!==1&&s.set(o,u(y))),this.wNAF(p,y,a)}}}function ma(r){return pa(r.Fp),Mr(r,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...ga(r.n,r.nBitLength),...r,p:r.Fp.ORDER})}function tg(r){let t=ma(r);Mr(t,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:e,Fp:n,a:o}=t;if(e){if(!n.eql(o,n.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof e!="object"||typeof e.beta!="bigint"||typeof e.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...t})}var{bytesToNumberBE:rg,hexToBytes:ng}=da,fn={Err:class extends Error{constructor(t=""){super(t)}},_parseInt(r){let{Err:t}=fn;if(r.length<2||r[0]!==2)throw new t("Invalid signature integer tag");let e=r[1],n=r.subarray(2,e+2);if(!e||n.length!==e)throw new t("Invalid signature integer: wrong length");if(n[0]&128)throw new t("Invalid signature integer: negative");if(n[0]===0&&!(n[1]&128))throw new t("Invalid signature integer: unnecessary leading zero");return{d:rg(n),l:r.subarray(e+2)}},toSig(r){let{Err:t}=fn,e=typeof r=="string"?ng(r):r;if(!(e instanceof Uint8Array))throw new Error("ui8a expected");let n=e.length;if(n<2||e[0]!=48)throw new t("Invalid signature tag");if(e[1]!==n-2)throw new t("Invalid signature: incorrect length");let{d:o,l:s}=fn._parseInt(e.subarray(2)),{d:a,l:u}=fn._parseInt(s);if(u.length)throw new t("Invalid signature: left bytes after parsing");return{r:o,s:a}},hexFromSig(r){let t=y=>Number.parseInt(y[0],16)&8?"00"+y:y,e=y=>{let h=y.toString(16);return h.length&1?`0${h}`:h},n=t(e(r.s)),o=t(e(r.r)),s=n.length/2,a=o.length/2,u=e(s),p=e(a);return`30${e(a+s+4)}02${p}${o}02${u}${n}`}},gr=BigInt(0),Nt=BigInt(1),v0=BigInt(2),xu=BigInt(3),S0=BigInt(4);function og(r){let t=tg(r),{Fp:e}=t,n=t.toBytes||((z,S,P)=>{let B=S.toAffine();return Gn(Uint8Array.from([4]),e.toBytes(B.x),e.toBytes(B.y))}),o=t.fromBytes||(z=>{let S=z.subarray(1),P=e.fromBytes(S.subarray(0,e.BYTES)),B=e.fromBytes(S.subarray(e.BYTES,2*e.BYTES));return{x:P,y:B}});function s(z){let{a:S,b:P}=t,B=e.sqr(z),H=e.mul(B,z);return e.add(e.add(H,e.mul(z,S)),P)}if(!e.eql(e.sqr(t.Gy),s(t.Gx)))throw new Error("bad generator point: equation left != right");function a(z){return typeof z=="bigint"&&gr<z&&z<t.n}function u(z){if(!a(z))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function p(z){let{allowedPrivateKeyLengths:S,nByteLength:P,wrapPrivateKey:B,n:H}=t;if(S&&typeof z!="bigint"){if(z instanceof Uint8Array&&(z=an(z)),typeof z!="string"||!S.includes(z.length))throw new Error("Invalid key");z=z.padStart(P*2,"0")}let k;try{k=typeof z=="bigint"?z:pr(vt("private key",z,P))}catch{throw new Error(`private key must be ${P} bytes, hex or bigint, not ${typeof z}`)}return B&&(k=nt(k,H)),u(k),k}let y=new Map;function h(z){if(!(z instanceof A))throw new Error("ProjectivePoint expected")}class A{constructor(S,P,B){if(this.px=S,this.py=P,this.pz=B,S==null||!e.isValid(S))throw new Error("x required");if(P==null||!e.isValid(P))throw new Error("y required");if(B==null||!e.isValid(B))throw new Error("z required")}static fromAffine(S){let{x:P,y:B}=S||{};if(!S||!e.isValid(P)||!e.isValid(B))throw new Error("invalid affine point");if(S instanceof A)throw new Error("projective point not allowed");let H=k=>e.eql(k,e.ZERO);return H(P)&&H(B)?A.ZERO:new A(P,B,e.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(S){let P=e.invertBatch(S.map(B=>B.pz));return S.map((B,H)=>B.toAffine(P[H])).map(A.fromAffine)}static fromHex(S){let P=A.fromAffine(o(vt("pointHex",S)));return P.assertValidity(),P}static fromPrivateKey(S){return A.BASE.multiply(p(S))}_setWindowSize(S){this._WINDOW_SIZE=S,y.delete(this)}assertValidity(){if(this.is0()){if(t.allowInfinityPoint&&!e.is0(this.py))return;throw new Error("bad point: ZERO")}let{x:S,y:P}=this.toAffine();if(!e.isValid(S)||!e.isValid(P))throw new Error("bad point: x or y not FE");let B=e.sqr(P),H=s(S);if(!e.eql(B,H))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){let{y:S}=this.toAffine();if(e.isOdd)return!e.isOdd(S);throw new Error("Field doesn't support isOdd")}equals(S){h(S);let{px:P,py:B,pz:H}=this,{px:k,py:ee,pz:L}=S,W=e.eql(e.mul(P,L),e.mul(k,H)),J=e.eql(e.mul(B,L),e.mul(ee,H));return W&&J}negate(){return new A(this.px,e.neg(this.py),this.pz)}double(){let{a:S,b:P}=t,B=e.mul(P,xu),{px:H,py:k,pz:ee}=this,L=e.ZERO,W=e.ZERO,J=e.ZERO,X=e.mul(H,H),Oe=e.mul(k,k),xe=e.mul(ee,ee),he=e.mul(H,k);return he=e.add(he,he),J=e.mul(H,ee),J=e.add(J,J),L=e.mul(S,J),W=e.mul(B,xe),W=e.add(L,W),L=e.sub(Oe,W),W=e.add(Oe,W),W=e.mul(L,W),L=e.mul(he,L),J=e.mul(B,J),xe=e.mul(S,xe),he=e.sub(X,xe),he=e.mul(S,he),he=e.add(he,J),J=e.add(X,X),X=e.add(J,X),X=e.add(X,xe),X=e.mul(X,he),W=e.add(W,X),xe=e.mul(k,ee),xe=e.add(xe,xe),X=e.mul(xe,he),L=e.sub(L,X),J=e.mul(xe,Oe),J=e.add(J,J),J=e.add(J,J),new A(L,W,J)}add(S){h(S);let{px:P,py:B,pz:H}=this,{px:k,py:ee,pz:L}=S,W=e.ZERO,J=e.ZERO,X=e.ZERO,Oe=t.a,xe=e.mul(t.b,xu),he=e.mul(P,k),Qe=e.mul(B,ee),We=e.mul(H,L),ht=e.add(P,B),O=e.add(k,ee);ht=e.mul(ht,O),O=e.add(he,Qe),ht=e.sub(ht,O),O=e.add(P,H);let K=e.add(k,L);return O=e.mul(O,K),K=e.add(he,We),O=e.sub(O,K),K=e.add(B,H),W=e.add(ee,L),K=e.mul(K,W),W=e.add(Qe,We),K=e.sub(K,W),X=e.mul(Oe,O),W=e.mul(xe,We),X=e.add(W,X),W=e.sub(Qe,X),X=e.add(Qe,X),J=e.mul(W,X),Qe=e.add(he,he),Qe=e.add(Qe,he),We=e.mul(Oe,We),O=e.mul(xe,O),Qe=e.add(Qe,We),We=e.sub(he,We),We=e.mul(Oe,We),O=e.add(O,We),he=e.mul(Qe,O),J=e.add(J,he),he=e.mul(K,O),W=e.mul(ht,W),W=e.sub(W,he),he=e.mul(ht,Qe),X=e.mul(K,X),X=e.add(X,he),new A(W,J,X)}subtract(S){return this.add(S.negate())}is0(){return this.equals(A.ZERO)}wNAF(S){return T.wNAFCached(this,y,S,P=>{let B=e.invertBatch(P.map(H=>H.pz));return P.map((H,k)=>H.toAffine(B[k])).map(A.fromAffine)})}multiplyUnsafe(S){let P=A.ZERO;if(S===gr)return P;if(u(S),S===Nt)return this;let{endo:B}=t;if(!B)return T.unsafeLadder(this,S);let{k1neg:H,k1:k,k2neg:ee,k2:L}=B.splitScalar(S),W=P,J=P,X=this;for(;k>gr||L>gr;)k&Nt&&(W=W.add(X)),L&Nt&&(J=J.add(X)),X=X.double(),k>>=Nt,L>>=Nt;return H&&(W=W.negate()),ee&&(J=J.negate()),J=new A(e.mul(J.px,B.beta),J.py,J.pz),W.add(J)}multiply(S){u(S);let P=S,B,H,{endo:k}=t;if(k){let{k1neg:ee,k1:L,k2neg:W,k2:J}=k.splitScalar(P),{p:X,f:Oe}=this.wNAF(L),{p:xe,f:he}=this.wNAF(J);X=T.constTimeNegate(ee,X),xe=T.constTimeNegate(W,xe),xe=new A(e.mul(xe.px,k.beta),xe.py,xe.pz),B=X.add(xe),H=Oe.add(he)}else{let{p:ee,f:L}=this.wNAF(P);B=ee,H=L}return A.normalizeZ([B,H])[0]}multiplyAndAddUnsafe(S,P,B){let H=A.BASE,k=(L,W)=>W===gr||W===Nt||!L.equals(H)?L.multiplyUnsafe(W):L.multiply(W),ee=k(this,P).add(k(S,B));return ee.is0()?void 0:ee}toAffine(S){let{px:P,py:B,pz:H}=this,k=this.is0();S==null&&(S=k?e.ONE:e.inv(H));let ee=e.mul(P,S),L=e.mul(B,S),W=e.mul(H,S);if(k)return{x:e.ZERO,y:e.ZERO};if(!e.eql(W,e.ONE))throw new Error("invZ was invalid");return{x:ee,y:L}}isTorsionFree(){let{h:S,isTorsionFree:P}=t;if(S===Nt)return!0;if(P)return P(A,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:S,clearCofactor:P}=t;return S===Nt?this:P?P(A,this):this.multiplyUnsafe(t.h)}toRawBytes(S=!0){return this.assertValidity(),n(A,this,S)}toHex(S=!0){return an(this.toRawBytes(S))}}A.BASE=new A(t.Gx,t.Gy,e.ONE),A.ZERO=new A(e.ZERO,e.ONE,e.ZERO);let _=t.nBitLength,T=Au(A,t.endo?Math.ceil(_/2):_);return{CURVE:t,ProjectivePoint:A,normPrivateKeyToScalar:p,weierstrassEquation:s,isWithinCurveOrder:a}}function ig(r){let t=ma(r);return Mr(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function bu(r){let t=ig(r),{Fp:e,n}=t,o=e.BYTES+1,s=2*e.BYTES+1;function a(O){return gr<O&&O<e.ORDER}function u(O){return nt(O,n)}function p(O){return Ii(O,n)}let{ProjectivePoint:y,normPrivateKeyToScalar:h,weierstrassEquation:A,isWithinCurveOrder:_}=og({...t,toBytes(O,K,se){let Ee=K.toAffine(),Ue=e.toBytes(Ee.x),je=Gn;return se?je(Uint8Array.from([K.hasEvenY()?2:3]),Ue):je(Uint8Array.from([4]),Ue,e.toBytes(Ee.y))},fromBytes(O){let K=O.length,se=O[0],Ee=O.subarray(1);if(K===o&&(se===2||se===3)){let Ue=pr(Ee);if(!a(Ue))throw new Error("Point is not on curve");let je=A(Ue),at=e.sqrt(je),Ne=(at&Nt)===Nt;return(se&1)===1!==Ne&&(at=e.neg(at)),{x:Ue,y:at}}else if(K===s&&se===4){let Ue=e.fromBytes(Ee.subarray(0,e.BYTES)),je=e.fromBytes(Ee.subarray(e.BYTES,2*e.BYTES));return{x:Ue,y:je}}else throw new Error(`Point of length ${K} was invalid. Expected ${o} compressed bytes or ${s} uncompressed bytes`)}}),T=O=>an(zr(O,t.nByteLength));function z(O){let K=n>>Nt;return O>K}function S(O){return z(O)?u(-O):O}let P=(O,K,se)=>pr(O.slice(K,se));class B{constructor(K,se,Ee){this.r=K,this.s=se,this.recovery=Ee,this.assertValidity()}static fromCompact(K){let se=t.nByteLength;return K=vt("compactSignature",K,se*2),new B(P(K,0,se),P(K,se,2*se))}static fromDER(K){let{r:se,s:Ee}=fn.toSig(vt("DER",K));return new B(se,Ee)}assertValidity(){if(!_(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!_(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(K){return new B(this.r,this.s,K)}recoverPublicKey(K){let{r:se,s:Ee,recovery:Ue}=this,je=J(vt("msgHash",K));if(Ue==null||![0,1,2,3].includes(Ue))throw new Error("recovery id invalid");let at=Ue===2||Ue===3?se+t.n:se;if(at>=e.ORDER)throw new Error("recovery id 2 or 3 invalid");let Ne=Ue&1?"03":"02",Xe=y.fromHex(Ne+T(at)),ae=p(at),Je=u(-je*ae),Tr=u(Ee*ae),Mt=y.BASE.multiplyAndAddUnsafe(Xe,Je,Tr);if(!Mt)throw new Error("point at infinify");return Mt.assertValidity(),Mt}hasHighS(){return z(this.s)}normalizeS(){return this.hasHighS()?new B(this.r,u(-this.s),this.recovery):this}toDERRawBytes(){return cn(this.toDERHex())}toDERHex(){return fn.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return cn(this.toCompactHex())}toCompactHex(){return T(this.r)+T(this.s)}}let H={isValidPrivateKey(O){try{return h(O),!0}catch{return!1}},normPrivateKeyToScalar:h,randomPrivateKey:()=>{let O=ya(t.n);return mu(t.randomBytes(O),t.n)},precompute(O=8,K=y.BASE){return K._setWindowSize(O),K.multiply(BigInt(3)),K}};function k(O,K=!0){return y.fromPrivateKey(O).toRawBytes(K)}function ee(O){let K=O instanceof Uint8Array,se=typeof O=="string",Ee=(K||se)&&O.length;return K?Ee===o||Ee===s:se?Ee===2*o||Ee===2*s:O instanceof y}function L(O,K,se=!0){if(ee(O))throw new Error("first arg must be private key");if(!ee(K))throw new Error("second arg must be public key");return y.fromHex(K).multiply(h(O)).toRawBytes(se)}let W=t.bits2int||function(O){let K=pr(O),se=O.length*8-t.nBitLength;return se>0?K>>BigInt(se):K},J=t.bits2int_modN||function(O){return u(W(O))},X=_o(t.nBitLength);function Oe(O){if(typeof O!="bigint")throw new Error("bigint expected");if(!(gr<=O&&O<X))throw new Error(`bigint expected < 2^${t.nBitLength}`);return zr(O,t.nByteLength)}function xe(O,K,se=he){if(["recovered","canonical"].some(Ct=>Ct in se))throw new Error("sign() legacy options not supported");let{hash:Ee,randomBytes:Ue}=t,{lowS:je,prehash:at,extraEntropy:Ne}=se;je==null&&(je=!0),O=vt("msgHash",O),at&&(O=vt("prehashed msgHash",Ee(O)));let Xe=J(O),ae=h(K),Je=[Oe(ae),Oe(Xe)];if(Ne!=null){let Ct=Ne===!0?Ue(e.BYTES):Ne;Je.push(vt("extraEntropy",Ct))}let Tr=Gn(...Je),Mt=Xe;function _r(Ct){let ir=W(Ct);if(!_(ir))return;let Vr=p(ir),bt=y.BASE.multiply(ir).toAffine(),vr=u(bt.x);if(vr===gr)return;let Nn=u(Vr*u(Mt+vr*ae));if(Nn===gr)return;let ei=(bt.x===vr?0:2)|Number(bt.y&Nt),io=Nn;return je&&z(Nn)&&(io=S(Nn),ei^=1),new B(vr,io,ei)}return{seed:Tr,k2sig:_r}}let he={lowS:t.lowS,prehash:!1},Qe={lowS:t.lowS,prehash:!1};function We(O,K,se=he){let{seed:Ee,k2sig:Ue}=xe(O,K,se),je=t;return fa(je.hash.outputLen,je.nByteLength,je.hmac)(Ee,Ue)}y.BASE._setWindowSize(8);function ht(O,K,se,Ee=Qe){let Ue=O;if(K=vt("msgHash",K),se=vt("publicKey",se),"strict"in Ee)throw new Error("options.strict was renamed to lowS");let{lowS:je,prehash:at}=Ee,Ne,Xe;try{if(typeof Ue=="string"||Ue instanceof Uint8Array)try{Ne=B.fromDER(Ue)}catch(bt){if(!(bt instanceof fn.Err))throw bt;Ne=B.fromCompact(Ue)}else if(typeof Ue=="object"&&typeof Ue.r=="bigint"&&typeof Ue.s=="bigint"){let{r:bt,s:vr}=Ue;Ne=new B(bt,vr)}else throw new Error("PARSE");Xe=y.fromHex(se)}catch(bt){if(bt.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(je&&Ne.hasHighS())return!1;at&&(K=t.hash(K));let{r:ae,s:Je}=Ne,Tr=J(K),Mt=p(Je),_r=u(Tr*Mt),Ct=u(ae*Mt),ir=y.BASE.multiplyAndAddUnsafe(Xe,_r,Ct)?.toAffine();return ir?u(ir.x)===ae:!1}return{CURVE:t,getPublicKey:k,getSharedSecret:L,sign:We,verify:ht,ProjectivePoint:y,Signature:B,utils:H}}function sg(r){return{hash:r,hmac:(t,...e)=>Yt(r,t,Jr(...e)),randomBytes:Fc}}function wu(r,t){let e=n=>bu({...r,...sg(n)});return Object.freeze({...e(t),create:e})}var vu=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Tu=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),ag=BigInt(1),Aa=BigInt(2),_u=(r,t)=>(r+t/Aa)/t;function cg(r){let t=vu,e=BigInt(3),n=BigInt(6),o=BigInt(11),s=BigInt(22),a=BigInt(23),u=BigInt(44),p=BigInt(88),y=r*r*r%t,h=y*y*r%t,A=St(h,e,t)*h%t,_=St(A,e,t)*h%t,T=St(_,Aa,t)*y%t,z=St(T,o,t)*T%t,S=St(z,s,t)*z%t,P=St(S,u,t)*S%t,B=St(P,p,t)*P%t,H=St(B,u,t)*S%t,k=St(H,e,t)*h%t,ee=St(k,a,t)*z%t,L=St(ee,n,t)*y%t,W=St(L,Aa,t);if(!xa.eql(xa.sqr(W),r))throw new Error("Cannot find square root");return W}var xa=yu(vu,void 0,void 0,{sqrt:cg}),lt=wu({a:BigInt(0),b:BigInt(7),Fp:xa,n:Tu,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:r=>{let t=Tu,e=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-ag*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),o=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=e,a=BigInt("0x100000000000000000000000000000000"),u=_u(s*r,t),p=_u(-n*r,t),y=nt(r-u*e-p*o,t),h=nt(-u*n-p*s,t),A=y>a,_=h>a;if(A&&(y=t-y),_&&(h=t-h),y>a||h>a)throw new Error("splitScalar: Endomorphism failed, k="+r);return{k1neg:A,k1:y,k2neg:_,k2:h}}}},bo),N0=BigInt(0);var k0=lt.ProjectivePoint;var ug=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),Eu=Uint8Array.from({length:16},(r,t)=>t),fg=Eu.map(r=>(9*r+5)%16),wa=[Eu],Ta=[fg];for(let r=0;r<4;r++)for(let t of[wa,Ta])t.push(t[r].map(e=>ug[e]));var Cu=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(r=>new Uint8Array(r)),dg=wa.map((r,t)=>r.map(e=>Cu[t][e])),lg=Ta.map((r,t)=>r.map(e=>Cu[t][e])),pg=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),gg=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),Pi=(r,t)=>r<<t|r>>>32-t;function Su(r,t,e,n){return r===0?t^e^n:r===1?t&e|~t&n:r===2?(t|~e)^n:r===3?t&n|e&~n:t^(e|~n)}var Ri=new Uint32Array(16),ba=class extends Ir{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){let{h0:t,h1:e,h2:n,h3:o,h4:s}=this;return[t,e,n,o,s]}set(t,e,n,o,s){this.h0=t|0,this.h1=e|0,this.h2=n|0,this.h3=o|0,this.h4=s|0}process(t,e){for(let T=0;T<16;T++,e+=4)Ri[T]=t.getUint32(e,!0);let n=this.h0|0,o=n,s=this.h1|0,a=s,u=this.h2|0,p=u,y=this.h3|0,h=y,A=this.h4|0,_=A;for(let T=0;T<5;T++){let z=4-T,S=pg[T],P=gg[T],B=wa[T],H=Ta[T],k=dg[T],ee=lg[T];for(let L=0;L<16;L++){let W=Pi(n+Su(T,s,u,y)+Ri[B[L]]+S,k[L])+A|0;n=A,A=y,y=Pi(u,10)|0,u=s,s=W}for(let L=0;L<16;L++){let W=Pi(o+Su(z,a,p,h)+Ri[H[L]]+P,ee[L])+_|0;o=_,_=h,h=Pi(p,10)|0,p=a,a=W}}this.set(this.h1+u+h|0,this.h2+y+_|0,this.h3+A+o|0,this.h4+n+a|0,this.h0+s+p|0)}roundClean(){Ri.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}},Uu=Er(()=>new ba);var Bi=lt.ProjectivePoint,_a=ou(bo);function Iu(r){return BigInt(`0x${Zr(r)}`)}function yg(r){return Dn(r.toString(16).padStart(64,"0"))}var hg=Qs("Bitcoin seed"),va={private:76066276,public:76067358},Sa=2147483648,mg=r=>Uu(bo(r)),Ag=r=>jt(r).getUint32(0,!1),Oi=r=>{if(!Number.isSafeInteger(r)||r<0||r>2**32-1)throw new Error(`Invalid number=${r}. Should be from 0 to 2 ** 32 - 1`);let t=new Uint8Array(4);return jt(t).setUint32(0,r,!1),t},Ni=class r{get fingerprint(){if(!this.pubHash)throw new Error("No publicKey set!");return Ag(this.pubHash)}get identifier(){return this.pubHash}get pubKeyHash(){return this.pubHash}get privateKey(){return this.privKeyBytes||null}get publicKey(){return this.pubKey||null}get privateExtendedKey(){let t=this.privateKey;if(!t)throw new Error("No private key");return _a.encode(this.serialize(this.versions.private,Jr(new Uint8Array([0]),t)))}get publicExtendedKey(){if(!this.pubKey)throw new Error("No public key");return _a.encode(this.serialize(this.versions.public,this.pubKey))}static fromMasterSeed(t,e=va){if(Lt(t),8*t.length<128||8*t.length>512)throw new Error(`HDKey: wrong seed length=${t.length}. Should be between 128 and 512 bits; 256 bits is advised)`);let n=Yt(on,hg,t);return new r({versions:e,chainCode:n.slice(32),privateKey:n.slice(0,32)})}static fromExtendedKey(t,e=va){let n=_a.decode(t),o=jt(n),s=o.getUint32(0,!1),a={versions:e,depth:n[4],parentFingerprint:o.getUint32(5,!1),index:o.getUint32(9,!1),chainCode:n.slice(13,45)},u=n.slice(45),p=u[0]===0;if(s!==e[p?"private":"public"])throw new Error("Version mismatch");return p?new r({...a,privateKey:u.slice(1)}):new r({...a,publicKey:u})}static fromJSON(t){return r.fromExtendedKey(t.xpriv)}constructor(t){if(this.depth=0,this.index=0,this.chainCode=null,this.parentFingerprint=0,!t||typeof t!="object")throw new Error("HDKey.constructor must not be called directly");if(this.versions=t.versions||va,this.depth=t.depth||0,this.chainCode=t.chainCode,this.index=t.index||0,this.parentFingerprint=t.parentFingerprint||0,!this.depth&&(this.parentFingerprint||this.index))throw new Error("HDKey: zero depth with non-zero index/parent fingerprint");if(t.publicKey&&t.privateKey)throw new Error("HDKey: publicKey and privateKey at same time.");if(t.privateKey){if(!lt.utils.isValidPrivateKey(t.privateKey))throw new Error("Invalid private key");this.privKey=typeof t.privateKey=="bigint"?t.privateKey:Iu(t.privateKey),this.privKeyBytes=yg(this.privKey),this.pubKey=lt.getPublicKey(t.privateKey,!0)}else if(t.publicKey)this.pubKey=Bi.fromHex(t.publicKey).toRawBytes(!0);else throw new Error("HDKey: no public or private key provided");this.pubHash=mg(this.pubKey)}derive(t){if(!/^[mM]'?/.test(t))throw new Error('Path must start with "m" or "M"');if(/^[mM]'?$/.test(t))return this;let e=t.replace(/^[mM]'?\//,"").split("/"),n=this;for(let o of e){let s=/^(\d+)('?)$/.exec(o),a=s&&s[1];if(!s||s.length!==3||typeof a!="string")throw new Error(`Invalid child index: ${o}`);let u=+a;if(!Number.isSafeInteger(u)||u>=Sa)throw new Error("Invalid index");s[2]==="'"&&(u+=Sa),n=n.deriveChild(u)}return n}deriveChild(t){if(!this.pubKey||!this.chainCode)throw new Error("No publicKey or chainCode set");let e=Oi(t);if(t>=Sa){let u=this.privateKey;if(!u)throw new Error("Could not derive hardened child key");e=Jr(new Uint8Array([0]),u,e)}else e=Jr(this.pubKey,e);let n=Yt(on,this.chainCode,e),o=Iu(n.slice(0,32)),s=n.slice(32);if(!lt.utils.isValidPrivateKey(o))throw new Error("Tweak bigger than curve order");let a={versions:this.versions,chainCode:s,depth:this.depth+1,parentFingerprint:this.fingerprint,index:t};try{if(this.privateKey){let u=nt(this.privKey+o,lt.CURVE.n);if(!lt.utils.isValidPrivateKey(u))throw new Error("The tweak was out of range or the resulted private key is invalid");a.privateKey=u}else{let u=Bi.fromHex(this.pubKey).add(Bi.fromPrivateKey(o));if(u.equals(Bi.ZERO))throw new Error("The tweak was equal to negative P, which made the result key invalid");a.publicKey=u.toRawBytes(!0)}return new r(a)}catch{return this.deriveChild(t+1)}}sign(t){if(!this.privateKey)throw new Error("No privateKey set!");return Lt(t,32),lt.sign(t,this.privKey).toCompactRawBytes()}verify(t,e){if(Lt(t,32),Lt(e,64),!this.publicKey)throw new Error("No publicKey set!");let n;try{n=lt.Signature.fromCompact(e)}catch{return!1}return lt.verify(n,t,this.publicKey)}wipePrivateData(){return this.privKey=void 0,this.privKeyBytes&&(this.privKeyBytes.fill(0),this.privKeyBytes=void 0),this}toJSON(){return{xpriv:this.privateExtendedKey,xpub:this.publicExtendedKey}}serialize(t,e){if(!this.chainCode)throw new Error("No chainCode set");return Lt(e,33),Jr(Oi(t),new Uint8Array([this.depth]),Oi(this.parentFingerprint),Oi(this.index),this.chainCode,e)}};var qr=class qr extends _t{constructor(e){super();let n=me.fromHexInput(e);if(n.toUint8Array().length!==qr.LENGTH)throw new Error(`PublicKey length should be ${qr.LENGTH}`);this.key=n}toUint8Array(){return this.key.toUint8Array()}toString(){return this.key.toString()}verifySignature(e){let{message:n,signature:o}=e,s=me.fromHexInput(n).toUint8Array(),a=rn(s),u=o.toUint8Array();return lt.verify(u,a,this.toUint8Array())}serialize(e){e.serializeBytes(this.key.toUint8Array())}static deserialize(e){let n=e.deserializeBytes();return new qr(n)}static load(e){let n=e.deserializeBytes();return new qr(n)}static isPublicKey(e){return e instanceof qr}};qr.LENGTH=65;var kt=qr,Xt=class Xt extends nn{constructor(e){super();let n=me.fromHexInput(e);if(n.toUint8Array().length!==Xt.LENGTH)throw new Error(`PrivateKey length should be ${Xt.LENGTH}`);this.key=n}toUint8Array(){return this.key.toUint8Array()}toString(){return this.key.toString()}sign(e){let n=me.fromHexInput(e),o=rn(n.toUint8Array()),s=lt.sign(o,this.key.toUint8Array());return new hr(s.toCompactRawBytes())}serialize(e){e.serializeBytes(this.toUint8Array())}static deserialize(e){let n=e.deserializeBytes();return new Xt(n)}static generate(){let e=lt.utils.randomPrivateKey();return new Xt(e)}publicKey(){let e=lt.getPublicKey(this.key.toUint8Array(),!1);return new kt(e)}static fromDerivationPath(e,n){if(!oa(e))throw new Error(`Invalid derivation path ${e}`);return Xt.fromDerivationPathInner(e,wo(n))}static fromDerivationPathInner(e,n){let{privateKey:o}=Ni.fromMasterSeed(n).derive(e);if(o===null)throw new Error("Invalid key");return new Xt(o)}static isPrivateKey(e){return e instanceof Xt}};Xt.LENGTH=32;var yr=Xt,Dr=class Dr extends Ft{constructor(e){super();let n=me.fromHexInput(e);if(n.toUint8Array().length!==Dr.LENGTH)throw new Error(`Signature length should be ${Dr.LENGTH}, recieved ${n.toUint8Array().length}`);this.data=n}toUint8Array(){return this.data.toUint8Array()}toString(){return this.data.toString()}serialize(e){e.serializeBytes(this.data.toUint8Array())}static deserialize(e){let n=e.deserializeBytes();return new Dr(n)}static load(e){let n=e.deserializeBytes();return new Dr(n)}static isSignature(e){return e instanceof Dr}};Dr.LENGTH=64;var hr=Dr;var Me=class r extends _t{constructor(e){super();this.publicKey=e}toUint8Array(){return this.publicKey.toUint8Array()}toString(){return this.publicKey.toString()}verifySignature(e){let{message:n,signature:o}=e;return this.publicKey.verifySignature({message:n,signature:o})}serialize(e){if(this.publicKey instanceof Be)e.serializeU32AsUleb128(0),this.publicKey.serialize(e);else if(this.publicKey instanceof kt)e.serializeU32AsUleb128(1),this.publicKey.serialize(e);else throw new Error("Unknown public key type")}static deserialize(e){let n=e.deserializeUleb128AsU32();switch(n){case 0:return new r(Be.load(e));case 1:return new r(kt.load(e));default:throw new Error(`Unknown variant index for AnyPublicKey: ${n}`)}}static isPublicKey(e){return e instanceof r}isEd25519(){return this.publicKey instanceof Be}isSecp256k1PublicKey(){return this.publicKey instanceof kt}};var dn=class r extends _t{constructor(e){super();let{publicKeys:n,signaturesRequired:o}=e;if(o<1)throw new Error("The number of required signatures needs to be greater then 0");if(n.length<o)throw new Error(`Provided ${n.length} public keys is smaller than the ${o} required signatures`);let s=[];n.forEach(a=>{a instanceof Me?s.push(a):s.push(new Me(a))}),this.publicKeys=s,this.signaturesRequired=o}toUint8Array(){return this.bcsToBytes()}createBitmap(e){let{bits:n}=e,o=128,s=new Uint8Array([0,0,0,0]),a=new Set;return n.forEach((u,p)=>{if(p+1>this.publicKeys.length)throw new Error(`Signature index ${p+1} is out of public keys range, ${this.publicKeys.length}.`);if(a.has(u))throw new Error(`Duplicate bit ${u} detected.`);a.add(u);let y=Math.floor(u/8),h=s[y];h|=o>>u%8,s[y]=h}),s}toString(){return me.fromHexInput(this.toUint8Array()).toString()}verifySignature(e){throw new Error("not implemented")}serialize(e){e.serializeVector(this.publicKeys),e.serializeU8(this.signaturesRequired)}static deserialize(e){let n=e.deserializeVector(Me),o=e.deserializeU8();return new r({publicKeys:n,signaturesRequired:o})}};var mr=class mr extends Z{constructor(e){super();let{data:n}=e,o=me.fromHexInput(n);if(o.toUint8Array().length!==mr.LENGTH)throw new Error(`Authentication Key length should be ${mr.LENGTH}`);this.data=o}serialize(e){e.serializeFixedBytes(this.data.toUint8Array())}static deserialize(e){let n=e.deserializeFixedBytes(mr.LENGTH);return new mr({data:n})}toString(){return this.data.toString()}toUint8Array(){return this.data.toUint8Array()}static fromPublicKeyAndScheme(e){let{publicKey:n,scheme:o}=e,s;switch(o){case 3:case 2:{let p=n.bcsToBytes();s=new Uint8Array([...p,o]);break}case 0:case 1:{let p=n.toUint8Array(),y=me.fromHexInput(p).toUint8Array();s=new Uint8Array([...y,o]);break}default:throw new Error(`Scheme ${o} is not supported`)}let a=rn.create();a.update(s);let u=a.digest();return new mr({data:u})}static fromPublicKey(e){let{publicKey:n}=e,o;if(n instanceof Be)o=0 .valueOf();else if(n instanceof Kt)o=1 .valueOf();else if(n instanceof Me)o=2 .valueOf();else if(n instanceof dn)o=3 .valueOf();else throw new Error("No supported authentication scheme for public key");return mr.fromPublicKeyAndScheme({publicKey:n,scheme:o})}derivedAddress(){return new N(this.data.toUint8Array())}};mr.LENGTH=32;var $t=mr;var Ar=class r{constructor(t){let{privateKey:e,address:n,legacy:o}=t,s=o??!0;if(this.publicKey=e.publicKey(),this.publicKey instanceof Be)s?this.signingScheme=0:(this.publicKey=new Me(this.publicKey),this.signingScheme=2);else if(this.publicKey instanceof Kt)this.signingScheme=1;else if(this.publicKey instanceof kt)this.publicKey=new Me(this.publicKey),this.signingScheme=2;else throw new Error("Can not create new Account, unsupported public key type");this.privateKey=e,this.accountAddress=n}static generate(t){let e=t?.legacy??!0,n,o;switch(t?.scheme){case 2:n=yr.generate(),o=new Me(n.publicKey());break;default:n=lr.generate(),e===!1?o=new Me(n.publicKey()):o=n.publicKey()}let a=$t.fromPublicKey({publicKey:o}).derivedAddress();return new r({privateKey:n,address:a,legacy:t?.legacy})}static fromPrivateKey(t){let{privateKey:e,legacy:n}=t,o=n??!0,s;if(e instanceof yr)s=new Me(e.publicKey());else if(e instanceof lr)o?s=e.publicKey():s=new Me(e.publicKey());else throw new Error(`Unsupported private key ${e}`);let u=$t.fromPublicKey({publicKey:s}).derivedAddress();return new r({privateKey:e,address:u,legacy:o})}static fromPrivateKeyAndAddress(t){let{privateKey:e,address:n,legacy:o}=t;return new r({privateKey:e,address:n,legacy:o})}static fromDerivationPath(t){let{path:e,mnemonic:n,scheme:o,legacy:s}=t,a;switch(o){case 2:a=yr.fromDerivationPath(e,n);break;case 0:a=lr.fromDerivationPath(e,n);break;default:throw new Error(`Unsupported scheme ${o}`)}return r.fromPrivateKey({privateKey:a,legacy:s})}static authKey(t){let{publicKey:e}=t;return $t.fromPublicKey({publicKey:e})}sign(t){return this.privateKey.sign(t)}verifySignature(t){let{message:e,signature:n}=t,o=me.fromHexInput(e).toUint8Array();return this.publicKey.verifySignature({message:o,signature:n})}};var xg=`
    fragment TokenActivitiesFields on token_activities_v2 {
  after_value
  before_value
  entry_function_id_str
  event_account_address
  event_index
  from_address
  is_fungible_v2
  property_version_v1
  to_address
  token_amount
  token_data_id
  token_standard
  transaction_timestamp
  transaction_version
  type
}
    `,bg=`
    fragment AnsTokenFragment on current_aptos_names {
  domain
  expiration_timestamp
  registered_address
  subdomain
  token_standard
  is_primary
  owner_address
}
    `,ki=`
    fragment CurrentTokenOwnershipFields on current_token_ownerships_v2 {
  token_standard
  token_properties_mutated_v1
  token_data_id
  table_type_v1
  storage_id
  property_version_v1
  owner_address
  last_transaction_version
  last_transaction_timestamp
  is_soulbound_v2
  is_fungible_v2
  amount
  current_token_data {
    collection_id
    description
    is_fungible_v2
    largest_property_version_v1
    last_transaction_timestamp
    last_transaction_version
    maximum
    supply
    token_data_id
    token_name
    token_properties
    token_standard
    token_uri
    current_collection {
      collection_id
      collection_name
      creator_address
      current_supply
      description
      last_transaction_timestamp
      last_transaction_version
      max_supply
      mutable_description
      mutable_uri
      table_handle_v1
      token_standard
      total_minted_v2
      uri
    }
  }
}
    `,Pu=`
    query getAccountCoinsCount($address: String) {
  current_fungible_asset_balances_aggregate(
    where: {owner_address: {_eq: $address}}
  ) {
    aggregate {
      count
    }
  }
}
    `,Ru=`
    query getAccountCoinsData($where_condition: current_fungible_asset_balances_bool_exp!, $offset: Int, $limit: Int, $order_by: [current_fungible_asset_balances_order_by!]) {
  current_fungible_asset_balances(
    where: $where_condition
    offset: $offset
    limit: $limit
    order_by: $order_by
  ) {
    amount
    asset_type
    is_frozen
    is_primary
    last_transaction_timestamp
    last_transaction_version
    owner_address
    storage_id
    token_standard
    metadata {
      token_standard
      symbol
      supply_aggregator_table_key_v1
      supply_aggregator_table_handle_v1
      project_uri
      name
      last_transaction_version
      last_transaction_timestamp
      icon_uri
      decimals
      creator_address
      asset_type
    }
  }
}
    `,Bu=`
    query getAccountCollectionsWithOwnedTokens($where_condition: current_collection_ownership_v2_view_bool_exp!, $offset: Int, $limit: Int, $order_by: [current_collection_ownership_v2_view_order_by!]) {
  current_collection_ownership_v2_view(
    where: $where_condition
    offset: $offset
    limit: $limit
    order_by: $order_by
  ) {
    current_collection {
      collection_id
      collection_name
      creator_address
      current_supply
      description
      last_transaction_timestamp
      last_transaction_version
      mutable_description
      max_supply
      mutable_uri
      table_handle_v1
      token_standard
      total_minted_v2
      uri
    }
    collection_id
    collection_name
    collection_uri
    creator_address
    distinct_tokens
    last_transaction_version
    owner_address
    single_token_uri
  }
}
    `,Ou=`
    query getAccountOwnedObjects($where_condition: current_objects_bool_exp, $offset: Int, $limit: Int, $order_by: [current_objects_order_by!]) {
  current_objects(
    where: $where_condition
    offset: $offset
    limit: $limit
    order_by: $order_by
  ) {
    allow_ungated_transfer
    state_key_hash
    owner_address
    object_address
    last_transaction_version
    last_guid_creation_num
    is_deleted
  }
}
    `,Nu=`
    query getAccountOwnedTokens($where_condition: current_token_ownerships_v2_bool_exp!, $offset: Int, $limit: Int, $order_by: [current_token_ownerships_v2_order_by!]) {
  current_token_ownerships_v2(
    where: $where_condition
    offset: $offset
    limit: $limit
    order_by: $order_by
  ) {
    ...CurrentTokenOwnershipFields
  }
}
    ${ki}`,zA=`
    query getAccountOwnedTokensByTokenData($where_condition: current_token_ownerships_v2_bool_exp!, $offset: Int, $limit: Int, $order_by: [current_token_ownerships_v2_order_by!]) {
  current_token_ownerships_v2(
    where: $where_condition
    offset: $offset
    limit: $limit
    order_by: $order_by
  ) {
    ...CurrentTokenOwnershipFields
  }
}
    ${ki}`,ku=`
    query getAccountOwnedTokensFromCollection($where_condition: current_token_ownerships_v2_bool_exp!, $offset: Int, $limit: Int, $order_by: [current_token_ownerships_v2_order_by!]) {
  current_token_ownerships_v2(
    where: $where_condition
    offset: $offset
    limit: $limit
    order_by: $order_by
  ) {
    ...CurrentTokenOwnershipFields
  }
}
    ${ki}`,zu=`
    query getAccountTokensCount($where_condition: current_token_ownerships_v2_bool_exp, $offset: Int, $limit: Int) {
  current_token_ownerships_v2_aggregate(
    where: $where_condition
    offset: $offset
    limit: $limit
  ) {
    aggregate {
      count
    }
  }
}
    `,Mu=`
    query getAccountTransactionsCount($address: String) {
  account_transactions_aggregate(where: {account_address: {_eq: $address}}) {
    aggregate {
      count
    }
  }
}
    `,qu=`
    query getChainTopUserTransactions($limit: Int) {
  user_transactions(limit: $limit, order_by: {version: desc}) {
    version
  }
}
    `,Du=`
    query getCollectionData($where_condition: current_collections_v2_bool_exp!) {
  current_collections_v2(where: $where_condition) {
    collection_id
    collection_name
    creator_address
    current_supply
    description
    last_transaction_timestamp
    last_transaction_version
    max_supply
    mutable_description
    mutable_uri
    table_handle_v1
    token_standard
    total_minted_v2
    uri
  }
}
    `,Gu=`
    query getCurrentFungibleAssetBalances($where_condition: current_fungible_asset_balances_bool_exp, $offset: Int, $limit: Int) {
  current_fungible_asset_balances(
    where: $where_condition
    offset: $offset
    limit: $limit
  ) {
    amount
    asset_type
    is_frozen
    is_primary
    last_transaction_timestamp
    last_transaction_version
    owner_address
    storage_id
    token_standard
  }
}
    `,Lu=`
    query getDelegatedStakingActivities($delegatorAddress: String, $poolAddress: String) {
  delegated_staking_activities(
    where: {delegator_address: {_eq: $delegatorAddress}, pool_address: {_eq: $poolAddress}}
  ) {
    amount
    delegator_address
    event_index
    event_type
    pool_address
    transaction_version
  }
}
    `,Fu=`
    query getEvents($where_condition: events_bool_exp, $offset: Int, $limit: Int, $order_by: [events_order_by!]) {
  events(
    where: $where_condition
    offset: $offset
    limit: $limit
    order_by: $order_by
  ) {
    account_address
    creation_number
    data
    event_index
    sequence_number
    transaction_block_height
    transaction_version
    type
    indexed_type
  }
}
    `,Ku=`
    query getFungibleAssetActivities($where_condition: fungible_asset_activities_bool_exp, $offset: Int, $limit: Int) {
  fungible_asset_activities(
    where: $where_condition
    offset: $offset
    limit: $limit
  ) {
    amount
    asset_type
    block_height
    entry_function_id_str
    event_index
    gas_fee_payer_address
    is_frozen
    is_gas_fee
    is_transaction_success
    owner_address
    storage_id
    storage_refund_amount
    token_standard
    transaction_timestamp
    transaction_version
    type
  }
}
    `,$u=`
    query getFungibleAssetMetadata($where_condition: fungible_asset_metadata_bool_exp, $offset: Int, $limit: Int) {
  fungible_asset_metadata(where: $where_condition, offset: $offset, limit: $limit) {
    icon_uri
    project_uri
    supply_aggregator_table_handle_v1
    supply_aggregator_table_key_v1
    creator_address
    asset_type
    decimals
    last_transaction_timestamp
    last_transaction_version
    name
    symbol
    token_standard
  }
}
    `,Ln=`
    query getNames($offset: Int, $limit: Int, $where_condition: current_aptos_names_bool_exp, $order_by: [current_aptos_names_order_by!]) {
  current_aptos_names(
    limit: $limit
    where: $where_condition
    order_by: $order_by
    offset: $offset
  ) {
    ...AnsTokenFragment
  }
}
    ${bg}`,Ea=`
    query getNumberOfDelegators($where_condition: num_active_delegator_per_pool_bool_exp, $order_by: [num_active_delegator_per_pool_order_by!]) {
  num_active_delegator_per_pool(where: $where_condition, order_by: $order_by) {
    num_active_delegator
    pool_address
  }
}
    `,Ca=`
    query getProcessorStatus($where_condition: processor_status_bool_exp) {
  processor_status(where: $where_condition) {
    last_success_version
    processor
    last_updated
  }
}
    `,Hu=`
    query getTokenActivity($where_condition: token_activities_v2_bool_exp!, $offset: Int, $limit: Int, $order_by: [token_activities_v2_order_by!]) {
  token_activities_v2(
    where: $where_condition
    order_by: $order_by
    offset: $offset
    limit: $limit
  ) {
    ...TokenActivitiesFields
  }
}
    ${xg}`,Ua=`
    query getCurrentTokenOwnership($where_condition: current_token_ownerships_v2_bool_exp!, $offset: Int, $limit: Int, $order_by: [current_token_ownerships_v2_order_by!]) {
  current_token_ownerships_v2(
    where: $where_condition
    offset: $offset
    limit: $limit
    order_by: $order_by
  ) {
    ...CurrentTokenOwnershipFields
  }
}
    ${ki}`,Vu=`
    query getTokenData($where_condition: current_token_datas_v2_bool_exp, $offset: Int, $limit: Int, $order_by: [current_token_datas_v2_order_by!]) {
  current_token_datas_v2(
    where: $where_condition
    offset: $offset
    limit: $limit
    order_by: $order_by
  ) {
    collection_id
    description
    is_fungible_v2
    largest_property_version_v1
    last_transaction_timestamp
    last_transaction_version
    maximum
    supply
    token_data_id
    token_name
    token_properties
    token_standard
    token_uri
    current_collection {
      collection_id
      collection_name
      creator_address
      current_supply
      description
      last_transaction_timestamp
      last_transaction_version
      max_supply
      mutable_description
      mutable_uri
      table_handle_v1
      token_standard
      total_minted_v2
      uri
    }
  }
}
    `;async function zi(r){let{aptosConfig:t}=r,{data:e}=await Tt({aptosConfig:t,originMethod:"getLedgerInfo",path:""});return e}async function Qu(r){let{aptosConfig:t,ledgerVersion:e,options:n}=r,{data:o}=await Tt({aptosConfig:t,originMethod:"getBlockByVersion",path:`blocks/by_version/${e}`,params:{with_transactions:n?.withTransactions}});return o}async function Wu(r){let{aptosConfig:t,blockHeight:e,options:n}=r,{data:o}=await Tt({aptosConfig:t,originMethod:"getBlockByHeight",path:`blocks/by_height/${e}`,params:{with_transactions:n?.withTransactions}});return o}async function Mi(r){let{aptosConfig:t,handle:e,data:n,options:o}=r;return(await Xr({aptosConfig:t,originMethod:"getTableItem",path:`tables/${e}/item`,params:{ledger_version:o?.ledgerVersion},body:n})).data}async function Gr(r){let{aptosConfig:t,payload:e,options:n}=r,{data:o}=await Xr({aptosConfig:t,originMethod:"view",path:"view",params:{ledger_version:n?.ledgerVersion},body:{function:e.function,type_arguments:e.typeArguments??[],arguments:e.functionArguments??[]}});return o}async function ju(r){let{aptosConfig:t,limit:e}=r;return(await Ae({aptosConfig:t,query:{query:qu,variables:{limit:e}},originMethod:"getChainTopUserTransactions"})).user_transactions}async function Ae(r){let{aptosConfig:t,query:e,originMethod:n}=r,{data:o}=await $s({aptosConfig:t,originMethod:n??"queryIndexer",path:"",body:e,overrides:{WITH_CREDENTIALS:!1}});return o}async function wg(r){let{aptosConfig:t}=r;return(await Ae({aptosConfig:t,query:{query:Ca},originMethod:"getProcessorStatuses"})).processor_status}async function qi(r){return(await wg({aptosConfig:r.aptosConfig}))[0].last_success_version}async function Di(r){let{aptosConfig:t,processorType:e}=r,n={processor:{_eq:e.valueOf()}};return(await Ae({aptosConfig:t,query:{query:Ca,variables:{where_condition:n}},originMethod:"getProcessorStatus"})).processor_status[0]}var Ia=new Map;function Fn(r,t,e){return async(...n)=>{if(Ia.has(t)){let{value:s,timestamp:a}=Ia.get(t);if(e===void 0||Date.now()-a<=e)return s}let o=await r(...n);return Ia.set(t,{value:o,timestamp:Date.now()}),o}}var Zt=class r extends Ft{constructor(e){super();this.signature=e}toUint8Array(){return this.signature.toUint8Array()}toString(){return this.signature.toString()}serialize(e){if(this.signature instanceof Ke)e.serializeU32AsUleb128(0),this.signature.serialize(e);else if(this.signature instanceof hr)e.serializeU32AsUleb128(1),this.signature.serialize(e);else throw new Error("Unknown signature type")}static deserialize(e){let n=e.deserializeUleb128AsU32();switch(n){case 0:return new r(Ke.load(e));case 1:return new r(hr.load(e));default:throw new Error(`Unknown variant index for AnySignature: ${n}`)}}};async function Jt(r){let{aptosConfig:t,accountAddress:e}=r,{data:n}=await Tt({aptosConfig:t,originMethod:"getInfo",path:`accounts/${N.from(e).toString()}`});return n}async function Zu(r){let{aptosConfig:t,accountAddress:e,options:n}=r;return Yr({aptosConfig:t,originMethod:"getModules",path:`accounts/${N.from(e).toString()}/modules`,params:{ledger_version:n?.ledgerVersion,start:n?.offset,limit:n?.limit??1e3}})}async function Gi(r){return r.options?.ledgerVersion!==void 0?Yu(r):Fn(async()=>Yu(r),`module-${r.accountAddress}-${r.moduleName}`,1e3*60*5)()}async function Yu(r){let{aptosConfig:t,accountAddress:e,moduleName:n,options:o}=r,{data:s}=await Tt({aptosConfig:t,originMethod:"getModule",path:`accounts/${N.from(e).toString()}/module/${n}`,params:{ledger_version:o?.ledgerVersion}});return s}async function Ju(r){let{aptosConfig:t,accountAddress:e,options:n}=r;return Yr({aptosConfig:t,originMethod:"getTransactions",path:`accounts/${N.from(e).toString()}/transactions`,params:{start:n?.offset,limit:n?.limit}})}async function ef(r){let{aptosConfig:t,accountAddress:e,options:n}=r;return Yr({aptosConfig:t,originMethod:"getResources",path:`accounts/${N.from(e).toString()}/resources`,params:{ledger_version:n?.ledgerVersion,start:n?.offset,limit:n?.limit??999}})}async function Pa(r){let{aptosConfig:t,accountAddress:e,resourceType:n,options:o}=r,{data:s}=await Tt({aptosConfig:t,originMethod:"getResource",path:`accounts/${N.from(e).toString()}/resource/${n}`,params:{ledger_version:o?.ledgerVersion}});return s.data}async function Ra(r){let{aptosConfig:t,authenticationKey:e,options:n}=r,o=await Pa({aptosConfig:t,accountAddress:"0x1",resourceType:"0x1::account::OriginatingAddress",options:n}),{address_map:{handle:s}}=o,a=N.from(e);try{let u=await Mi({aptosConfig:t,handle:s,data:{key:a.toString(),key_type:"address",value_type:"address"},options:n});return N.from(u)}catch(u){if(u instanceof Wt&&u.data.error_code==="table_item_not_found")return a;throw u}}async function tf(r){let{aptosConfig:t,accountAddress:e}=r,o={owner_address:{_eq:N.from(e).toStringLong()},amount:{_gt:0}},a=await Ae({aptosConfig:t,query:{query:zu,variables:{where_condition:o}},originMethod:"getAccountTokensCount"});return a.current_token_ownerships_v2_aggregate.aggregate?a.current_token_ownerships_v2_aggregate.aggregate.count:0}async function rf(r){let{aptosConfig:t,accountAddress:e,options:n}=r,s={owner_address:{_eq:N.from(e).toStringLong()},amount:{_gt:0}};n?.tokenStandard&&(s.token_standard={_eq:n?.tokenStandard});let a={query:Nu,variables:{where_condition:s,offset:n?.offset,limit:n?.limit,order_by:n?.orderBy}};return(await Ae({aptosConfig:t,query:a,originMethod:"getAccountOwnedTokens"})).current_token_ownerships_v2}async function nf(r){let{aptosConfig:t,accountAddress:e,collectionAddress:n,options:o}=r,s=N.from(e).toStringLong(),a=N.from(n).toStringLong(),u={owner_address:{_eq:s},current_token_data:{collection_id:{_eq:a}},amount:{_gt:0}};o?.tokenStandard&&(u.token_standard={_eq:o?.tokenStandard});let p={query:ku,variables:{where_condition:u,offset:o?.offset,limit:o?.limit,order_by:o?.orderBy}};return(await Ae({aptosConfig:t,query:p,originMethod:"getAccountOwnedTokensFromCollectionAddress"})).current_token_ownerships_v2}async function of(r){let{aptosConfig:t,accountAddress:e,options:n}=r,s={owner_address:{_eq:N.from(e).toStringLong()},amount:{_gt:0}};n?.tokenStandard&&(s.current_collection={token_standard:{_eq:n?.tokenStandard}});let a={query:Bu,variables:{where_condition:s,offset:n?.offset,limit:n?.limit,order_by:n?.orderBy}};return(await Ae({aptosConfig:t,query:a,originMethod:"getAccountCollectionsWithOwnedTokens"})).current_collection_ownership_v2_view}async function sf(r){let{aptosConfig:t,accountAddress:e}=r,n=N.from(e).toStringLong(),s=await Ae({aptosConfig:t,query:{query:Mu,variables:{address:n}},originMethod:"getAccountTransactionsCount"});return s.account_transactions_aggregate.aggregate?s.account_transactions_aggregate.aggregate.count:0}async function Ba(r){let{aptosConfig:t,accountAddress:e,coinType:n}=r,o=N.from(e).toStringLong(),s=await Oa({aptosConfig:t,accountAddress:o,options:{where:{asset_type:{_eq:n}}}});return s[0]?s[0].amount:0}async function Oa(r){let{aptosConfig:t,accountAddress:e,options:n}=r,o=N.from(e).toStringLong(),s={...n?.where,owner_address:{_eq:o}},a={query:Ru,variables:{where_condition:s,offset:n?.offset,limit:n?.limit,order_by:n?.orderBy}};return(await Ae({aptosConfig:t,query:a,originMethod:"getAccountCoinsData"})).current_fungible_asset_balances}async function af(r){let{aptosConfig:t,accountAddress:e}=r,n=N.from(e).toStringLong(),s=await Ae({aptosConfig:t,query:{query:Pu,variables:{address:n}},originMethod:"getAccountCoinsCount"});if(!s.current_fungible_asset_balances_aggregate.aggregate)throw Error("Failed to get the count of account coins");return s.current_fungible_asset_balances_aggregate.aggregate.count}async function cf(r){let{aptosConfig:t,accountAddress:e,options:n}=r,s={owner_address:{_eq:N.from(e).toStringLong()}},a={query:Ou,variables:{where_condition:s,offset:n?.offset,limit:n?.limit,order_by:n?.orderBy}};return(await Ae({aptosConfig:t,query:a,originMethod:"getAccountOwnedObjects"})).current_objects}async function uf(r){let{aptosConfig:t,privateKey:e}=r,n=new Me(e.publicKey());if(e instanceof yr){let s=$t.fromPublicKeyAndScheme({publicKey:n,scheme:2}).derivedAddress();return Ar.fromPrivateKeyAndAddress({privateKey:e,address:s})}if(e instanceof lr){let o=$t.fromPublicKeyAndScheme({publicKey:n,scheme:2});if(await Xu({authKey:o,aptosConfig:t})){let p=o.derivedAddress();return Ar.fromPrivateKeyAndAddress({privateKey:e,address:p,legacy:!1})}let a=$t.fromPublicKeyAndScheme({publicKey:n,scheme:0});if(await Xu({authKey:a,aptosConfig:t})){let p=a.derivedAddress();return Ar.fromPrivateKeyAndAddress({privateKey:e,address:p,legacy:!0})}}throw new Error(`Can't derive account from private key ${e}`)}async function Xu(r){let{aptosConfig:t,authKey:e}=r,n=await Ra({aptosConfig:t,authenticationKey:e.derivedAddress()});try{return await Jt({aptosConfig:t,accountAddress:n}),!0}catch(o){if(o.status===404)return!1;throw new Error(`Error while looking for an account info ${n.toString()}`)}}async function Lr(r){return new Promise(t=>{setTimeout(t,r)})}async function ff(r){let{aptosConfig:t,options:e}=r;return Yr({aptosConfig:t,originMethod:"getTransactions",path:"transactions",params:{start:e?.offset,limit:e?.limit}})}async function Fi(r){let{aptosConfig:t}=r;return Fn(async()=>{let{data:e}=await Tt({aptosConfig:t,originMethod:"getGasPriceEstimation",path:"estimate_gas_price"});return e},`gas-price-${t.network}`,1e3*60*5)()}async function df(r){let{aptosConfig:t,ledgerVersion:e}=r,{data:n}=await Tt({aptosConfig:t,originMethod:"getTransactionByVersion",path:`transactions/by_version/${e}`});return n}async function Ki(r){let{aptosConfig:t,transactionHash:e}=r,{data:n}=await Tt({aptosConfig:t,path:`transactions/by_hash/${e}`,originMethod:"getTransactionByHash"});return n}async function lf(r){let{aptosConfig:t,transactionHash:e}=r;try{return(await Ki({aptosConfig:t,transactionHash:e})).type==="pending_transaction"}catch(n){if(n?.status===404)return!0;throw n}}async function Kn(r){let{aptosConfig:t,transactionHash:e,options:n}=r,o=n?.timeoutSecs??yo,s=n?.checkSuccess??!0,a=!0,u=0,p,y,h=200,A=1.5;for(;a&&!(u>=o);){try{if(p=await Ki({aptosConfig:t,transactionHash:e}),a=p.type==="pending_transaction",!a)break}catch(_){if(!(_ instanceof Wt)||(y=_,_.status!==404&&_.status>=400&&_.status<500))throw _}await Lr(h),u+=h/1e3,h*=A}if(p===void 0)throw y||new Li(`Fetching transaction ${e} failed and timed out after ${o} seconds`,p);if(p.type==="pending_transaction")throw new Li(`Transaction ${e} timed out in pending state after ${o} seconds`,p);if(!s)return p;if(!p.success)throw new Na(`Transaction ${e} failed with an error: ${p.vm_status}`,p);return p}async function $i(r){let{aptosConfig:t,processorType:e}=r,n=BigInt(r.minimumLedgerVersion),o=3e3,s=new Date().getTime(),a=-1;for(;a<n;){if(new Date().getTime()-s>o)throw new Error("waitForLastSuccessIndexerVersionSync timeout");if(e===void 0?a=await qi({aptosConfig:t}):a=(await Di({aptosConfig:t,processorType:e})).last_success_version,a>=n)break;await Lr(200)}}var Li=class extends Error{constructor(e,n){super(e);this.lastSubmittedTransaction=n}},Na=class extends Error{constructor(e,n){super(e);this.transaction=n}};async function Ce(r){if(r.minimumLedgerVersion!==void 0){let t=[];for(let e of r.processorTypes)t.push($i({aptosConfig:r.config,minimumLedgerVersion:r.minimumLedgerVersion,processorType:e}));await Promise.all(t)}}var vo=class{constructor(t){this.config=t}async getAccountInfo(t){return Jt({aptosConfig:this.config,...t})}async getAccountModules(t){return Zu({aptosConfig:this.config,...t})}async getAccountModule(t){return Gi({aptosConfig:this.config,...t})}async getAccountTransactions(t){return Ju({aptosConfig:this.config,...t})}async getAccountResources(t){return ef({aptosConfig:this.config,...t})}async getAccountResource(t){return Pa({aptosConfig:this.config,...t})}async lookupOriginalAccountAddress(t){return await Ce({config:this.config,minimumLedgerVersion:t.minimumLedgerVersion,processorTypes:["account_transactions_processor"]}),Ra({aptosConfig:this.config,...t})}async getAccountTokensCount(t){return await Ce({config:this.config,minimumLedgerVersion:t.minimumLedgerVersion,processorTypes:["account_transactions_processor"]}),tf({aptosConfig:this.config,...t})}async getAccountOwnedTokens(t){return await Ce({config:this.config,minimumLedgerVersion:t.minimumLedgerVersion,processorTypes:["account_transactions_processor"]}),rf({aptosConfig:this.config,...t})}async getAccountOwnedTokensFromCollectionAddress(t){return await Ce({config:this.config,minimumLedgerVersion:t.minimumLedgerVersion,processorTypes:["account_transactions_processor"]}),nf({aptosConfig:this.config,...t})}async getAccountCollectionsWithOwnedTokens(t){return await Ce({config:this.config,minimumLedgerVersion:t.minimumLedgerVersion,processorTypes:["account_transactions_processor"]}),of({aptosConfig:this.config,...t})}async getAccountTransactionsCount(t){return await Ce({config:this.config,minimumLedgerVersion:t.minimumLedgerVersion,processorTypes:["account_transactions_processor"]}),sf({aptosConfig:this.config,...t})}async getAccountCoinsData(t){return await Ce({config:this.config,minimumLedgerVersion:t.minimumLedgerVersion,processorTypes:["account_transactions_processor"]}),Oa({aptosConfig:this.config,...t})}async getAccountCoinsCount(t){return await Ce({config:this.config,minimumLedgerVersion:t.minimumLedgerVersion,processorTypes:["account_transactions_processor"]}),af({aptosConfig:this.config,...t})}async getAccountAPTAmount(t){return await Ce({config:this.config,minimumLedgerVersion:t.minimumLedgerVersion,processorTypes:["account_transactions_processor"]}),Ba({aptosConfig:this.config,coinType:ho,...t})}async getAccountCoinAmount(t){return await Ce({config:this.config,minimumLedgerVersion:t.minimumLedgerVersion,processorTypes:["account_transactions_processor"]}),Ba({aptosConfig:this.config,...t})}async getAccountOwnedObjects(t){return await Ce({config:this.config,minimumLedgerVersion:t.minimumLedgerVersion,processorTypes:["account_transactions_processor"]}),cf({aptosConfig:this.config,...t})}async deriveAccountFromPrivateKey(t){return uf({aptosConfig:this.config,...t})}};var Ud=Rc(Cd(),1);async function Id(r){var t;let{params:e,method:n,url:o,headers:s,body:a,overrides:u}=r,p={headers:s,method:n,url:o,params:e,data:a,withCredentials:(t=u?.WITH_CREDENTIALS)!=null?t:!0};try{let y=await(0,Ud.default)(p);return{status:y.status,statusText:y.statusText,data:y.data,headers:y.headers,config:y.config}}catch(y){let h=y;if(h.response)return h.response;throw y}}var Co=class{constructor(t){this.network=t?.network??Ds,this.fullnode=t?.fullnode,this.faucet=t?.faucet,this.indexer=t?.indexer,this.client=t?.client??{provider:Id},this.clientConfig=t?.clientConfig??{}}getRequestUrl(t){switch(t){case 0:if(this.fullnode!==void 0)return this.fullnode;if(this.network==="custom")throw new Error("Please provide a custom full node url");return Ms[this.network];case 2:if(this.faucet!==void 0)return this.faucet;if(this.network==="custom")throw new Error("Please provide a custom faucet url");return qs[this.network];case 1:if(this.indexer!==void 0)return this.indexer;if(this.network==="custom")throw new Error("Please provide a custom indexer url");return ci[this.network];default:throw Error(`apiType ${t} is not supported`)}}isIndexerRequest(t){return ci[this.network]===t}};var Uo=class extends Z{constructor(e){super();this.accountAddress=N.ONE;this.moduleName=new Ze("account");this.structName=new Ze("RotationProofChallenge");this.sequenceNumber=new rt(e.sequenceNumber),this.originator=e.originator,this.currentAuthKey=e.currentAuthKey,this.newPublicKey=Ie.U8(e.newPublicKey.toUint8Array())}serialize(e){e.serialize(this.accountAddress),e.serialize(this.moduleName),e.serialize(this.structName),e.serialize(this.sequenceNumber),e.serialize(this.originator),e.serialize(this.currentAuthKey),e.serialize(this.newPublicKey)}};var xt=class extends Z{static deserialize(t){let e=t.deserializeUleb128AsU32();switch(e){case 0:return er.load(t);case 1:return Io.load(t);case 2:return Vt.load(t);case 3:return gn.load(t);default:throw new Error(`Unknown variant index for AccountAuthenticator: ${e}`)}}isEd25519(){return this instanceof er}isMultiEd25519(){return this instanceof Io}isSingleKey(){return this instanceof Vt}isMultiKey(){return this instanceof gn}},er=class r extends xt{constructor(e,n){super();this.public_key=e,this.signature=n}serialize(e){e.serializeU32AsUleb128(0),this.public_key.serialize(e),this.signature.serialize(e)}static load(e){let n=Be.deserialize(e),o=Ke.deserialize(e);return new r(n,o)}},Io=class r extends xt{constructor(e,n){super();this.public_key=e,this.signature=n}serialize(e){e.serializeU32AsUleb128(1),this.public_key.serialize(e),this.signature.serialize(e)}static load(e){let n=Kt.deserialize(e),o=sn.deserialize(e);return new r(n,o)}},Vt=class r extends xt{constructor(e,n){super();this.public_key=e,this.signature=n}serialize(e){e.serializeU32AsUleb128(2),this.public_key.serialize(e),this.signature.serialize(e)}static load(e){let n=Me.deserialize(e),o=Zt.deserialize(e);return new r(n,o)}},gn=class r extends xt{constructor(e,n,o){super();this.public_keys=e,this.signatures=n,this.signatures_bitmap=o}serialize(e){e.serializeU32AsUleb128(3),this.public_keys.serialize(e),e.serializeVector(this.signatures),e.serializeBytes(this.signatures_bitmap)}static load(e){let n=dn.deserialize(e),o=e.deserializeVector(Zt),s=e.deserializeBytes();return new r(n,o,s)}};var tr=class extends Z{static deserialize(t){let e=t.deserializeUleb128AsU32();switch(e){case 0:return yn.load(t);case 1:return Ji.load(t);case 2:return hn.load(t);case 3:return mn.load(t);case 4:return An.load(t);default:throw new Error(`Unknown variant index for TransactionAuthenticator: ${e}`)}}},yn=class r extends tr{constructor(e,n){super();this.public_key=e,this.signature=n}serialize(e){e.serializeU32AsUleb128(0),this.public_key.serialize(e),this.signature.serialize(e)}static load(e){let n=Be.deserialize(e),o=Ke.deserialize(e);return new r(n,o)}},Ji=class r extends tr{constructor(e,n){super();this.public_key=e,this.signature=n}serialize(e){e.serializeU32AsUleb128(1),this.public_key.serialize(e),this.signature.serialize(e)}static load(e){let n=Kt.deserialize(e),o=sn.deserialize(e);return new r(n,o)}},hn=class r extends tr{constructor(e,n,o){super();this.sender=e,this.secondary_signer_addresses=n,this.secondary_signers=o}serialize(e){e.serializeU32AsUleb128(2),this.sender.serialize(e),e.serializeVector(this.secondary_signer_addresses),e.serializeVector(this.secondary_signers)}static load(e){let n=xt.deserialize(e),o=e.deserializeVector(N),s=e.deserializeVector(xt);return new r(n,o,s)}},mn=class r extends tr{constructor(e,n,o,s){super();this.sender=e,this.secondary_signer_addresses=n,this.secondary_signers=o,this.fee_payer=s}serialize(e){e.serializeU32AsUleb128(3),this.sender.serialize(e),e.serializeVector(this.secondary_signer_addresses),e.serializeVector(this.secondary_signers),this.fee_payer.address.serialize(e),this.fee_payer.authenticator.serialize(e)}static load(e){let n=xt.deserialize(e),o=e.deserializeVector(N),s=e.deserializeVector(xt),a=N.deserialize(e),u=xt.deserialize(e),p={address:a,authenticator:u};return new r(n,o,s,p)}},An=class r extends tr{constructor(e){super();this.sender=e}serialize(e){e.serializeU32AsUleb128(4),this.sender.serialize(e)}static load(e){let n=xt.deserialize(e);return new r(n)}};var xn=class r extends Z{constructor(e){super();this.chainId=e}serialize(e){e.serializeU8(this.chainId)}static deserialize(e){let n=e.deserializeU8();return new r(n)}};var qe=class r extends Z{constructor(e){super();this.identifier=e}serialize(e){e.serializeStr(this.identifier)}static deserialize(e){let n=e.deserializeStr();return new r(n)}};var jn=class r extends Z{constructor(e,n){super();this.address=e,this.name=n}static fromStr(e){let n=e.split("::");if(n.length!==2)throw new Error("Invalid module id.");return new r(N.fromString(n[0]),new qe(n[1]))}serialize(e){this.address.serialize(e),this.name.serialize(e)}static deserialize(e){let n=N.deserialize(e),o=qe.deserialize(e);return new r(n,o)}};var He=class extends Z{static deserialize(t){let e=t.deserializeUleb128AsU32();switch(e){case 0:return bn.load(t);case 1:return wn.load(t);case 2:return vn.load(t);case 3:return Sn.load(t);case 4:return Cn.load(t);case 5:return Kr.load(t);case 6:return In.load(t);case 7:return br.load(t);case 8:return Tn.load(t);case 9:return _n.load(t);case 10:return En.load(t);case 255:return Un.load(t);default:throw new Error(`Unknown variant index for TypeTag: ${e}`)}}isBool(){return this instanceof bn}isAddress(){return this instanceof Cn}isGeneric(){return this instanceof Un}isSigner(){return this instanceof Kr}isVector(){return this instanceof In}isStruct(){return this instanceof br}isU8(){return this instanceof wn}isU16(){return this instanceof Tn}isU32(){return this instanceof _n}isU64(){return this instanceof vn}isU128(){return this instanceof Sn}isU256(){return this instanceof En}},bn=class r extends He{toString(){return"bool"}serialize(t){t.serializeU32AsUleb128(0)}static load(t){return new r}},wn=class r extends He{toString(){return"u8"}serialize(t){t.serializeU32AsUleb128(1)}static load(t){return new r}},Tn=class r extends He{toString(){return"u16"}serialize(t){t.serializeU32AsUleb128(8)}static load(t){return new r}},_n=class r extends He{toString(){return"u32"}serialize(t){t.serializeU32AsUleb128(9)}static load(t){return new r}},vn=class r extends He{toString(){return"u64"}serialize(t){t.serializeU32AsUleb128(2)}static load(t){return new r}},Sn=class r extends He{toString(){return"u128"}serialize(t){t.serializeU32AsUleb128(3)}static load(t){return new r}},En=class r extends He{toString(){return"u256"}serialize(t){t.serializeU32AsUleb128(10)}static load(t){return new r}},Cn=class r extends He{toString(){return"address"}serialize(t){t.serializeU32AsUleb128(4)}static load(t){return new r}},Kr=class r extends He{toString(){return"signer"}serialize(t){t.serializeU32AsUleb128(5)}static load(t){return new r}},Po=class r extends He{constructor(e){super();this.value=e}toString(){return`&${this.value.toString()}`}serialize(e){e.serializeU32AsUleb128(254)}static load(e){let n=He.deserialize(e);return new r(n)}},Un=class r extends He{constructor(e){super();this.value=e;if(e<0)throw new Error("Generic type parameter index cannot be negative")}toString(){return`T${this.value}`}serialize(e){e.serializeU32AsUleb128(255),e.serializeU32(this.value)}static load(e){let n=e.deserializeU32();return new r(n)}},In=class r extends He{constructor(e){super();this.value=e}toString(){return`vector<${this.value.toString()}>`}serialize(e){e.serializeU32AsUleb128(6),this.value.serialize(e)}static load(e){let n=He.deserialize(e);return new r(n)}},br=class r extends He{constructor(e){super();this.value=e}toString(){let e="";return this.value.typeArgs.length>0&&(e=`<${this.value.typeArgs.map(n=>n.toString()).join(", ")}>`),`${this.value.address.toString()}::${this.value.moduleName.identifier}::${this.value.name.identifier}${e}`}serialize(e){e.serializeU32AsUleb128(7),this.value.serialize(e)}static load(e){let n=rr.deserialize(e);return new r(n)}isTypeTag(e,n,o){return this.value.moduleName.identifier===n&&this.value.name.identifier===o&&this.value.address.equals(e)}isString(){return this.isTypeTag(N.ONE,"string","String")}isOption(){return this.isTypeTag(N.ONE,"option","Option")}isObject(){return this.isTypeTag(N.ONE,"object","Object")}},rr=class r extends Z{constructor(e,n,o,s){super();this.address=e,this.moduleName=n,this.name=o,this.typeArgs=s}serialize(e){e.serialize(this.address),e.serialize(this.moduleName),e.serialize(this.name),e.serializeVector(this.typeArgs)}static deserialize(e){let n=N.deserialize(e),o=qe.deserialize(e),s=qe.deserialize(e),a=e.deserializeVector(He);return new r(n,o,s,a)}};function vy(){return new rr(N.ONE,new qe("aptos_coin"),new qe("AptosCoin"),[])}function Sy(){return new rr(N.ONE,new qe("string"),new qe("String"),[])}function Ey(r){return new rr(N.ONE,new qe("option"),new qe("Option"),[r])}function Cy(r){return new rr(N.ONE,new qe("object"),new qe("Object"),[r])}function Pd(r){let t=r.deserializeUleb128AsU32();switch(t){case 0:return ct.deserialize(r);case 1:return rt.deserialize(r);case 2:return Pt.deserialize(r);case 3:return N.deserialize(r);case 4:return Ie.deserialize(r,ct);case 5:return Fe.deserialize(r);case 6:return Ut.deserialize(r);case 7:return It.deserialize(r);case 8:return Rt.deserialize(r);default:throw new Error(`Unknown variant index for ScriptTransactionArgument: ${t}`)}}var $r=class extends Z{static deserialize(t){let e=t.deserializeUleb128AsU32();switch(e){case 0:return Yn.load(t);case 2:return Xn.load(t);case 3:return Zn.load(t);default:throw new Error(`Unknown variant index for TransactionPayload: ${e}`)}}},Yn=class r extends $r{constructor(e){super();this.script=e}serialize(e){e.serializeU32AsUleb128(0),this.script.serialize(e)}static load(e){let n=Jn.deserialize(e);return new r(n)}},Xn=class r extends $r{constructor(e){super();this.entryFunction=e}serialize(e){e.serializeU32AsUleb128(2),this.entryFunction.serialize(e)}static load(e){let n=Pn.deserialize(e);return new r(n)}},Zn=class r extends $r{constructor(e){super();this.multiSig=e}serialize(e){e.serializeU32AsUleb128(3),this.multiSig.serialize(e)}static load(e){let n=eo.deserialize(e);return new r(n)}},Pn=class r{constructor(t,e,n,o){this.module_name=t,this.function_name=e,this.type_args=n,this.args=o}static build(t,e,n,o){return new r(jn.fromStr(t),new qe(e),n,o)}serialize(t){this.module_name.serialize(t),this.function_name.serialize(t),t.serializeVector(this.type_args),t.serializeU32AsUleb128(this.args.length),this.args.forEach(e=>{e.serializeForEntryFunction(t)})}static deserialize(t){let e=jn.deserialize(t),n=qe.deserialize(t),o=t.deserializeVector(He),s=t.deserializeUleb128AsU32(),a=new Array;for(let u=0;u<s;u+=1){let p=t.deserializeUleb128AsU32(),y=xo.deserialize(t,p);a.push(y)}return new r(e,n,o,a)}},Jn=class r{constructor(t,e,n){this.bytecode=t,this.type_args=e,this.args=n}serialize(t){t.serializeBytes(this.bytecode),t.serializeVector(this.type_args),t.serializeU32AsUleb128(this.args.length),this.args.forEach(e=>{e.serializeForScriptFunction(t)})}static deserialize(t){let e=t.deserializeBytes(),n=t.deserializeVector(He),o=t.deserializeUleb128AsU32(),s=new Array;for(let a=0;a<o;a+=1){let u=Pd(t);s.push(u)}return new r(e,n,s)}},eo=class r{constructor(t,e){this.multisig_address=t,this.transaction_payload=e}serialize(t){this.multisig_address.serialize(t),this.transaction_payload===void 0?t.serializeBool(!1):(t.serializeBool(!0),this.transaction_payload.serialize(t))}static deserialize(t){let e=N.deserialize(t),n=t.deserializeBool(),o;return n&&(o=to.deserialize(t)),new r(e,o)}},to=class r{constructor(t){this.transaction_payload=t}serialize(t){t.serializeU32AsUleb128(0),this.transaction_payload.serialize(t)}static deserialize(t){return t.deserializeUleb128AsU32(),new r(Pn.deserialize(t))}};var zt=class r extends Z{constructor(e,n,o,s,a,u,p){super();this.sender=e,this.sequence_number=n,this.payload=o,this.max_gas_amount=s,this.gas_unit_price=a,this.expiration_timestamp_secs=u,this.chain_id=p}serialize(e){this.sender.serialize(e),e.serializeU64(this.sequence_number),this.payload.serialize(e),e.serializeU64(this.max_gas_amount),e.serializeU64(this.gas_unit_price),e.serializeU64(this.expiration_timestamp_secs),this.chain_id.serialize(e)}static deserialize(e){let n=N.deserialize(e),o=e.deserializeU64(),s=$r.deserialize(e),a=e.deserializeU64(),u=e.deserializeU64(),p=e.deserializeU64(),y=xn.deserialize(e);return new r(n,o,s,a,u,p,y)}},Ro=class extends Z{static deserialize(t){let e=t.deserializeUleb128AsU32();switch(e){case 0:return nr.load(t);case 1:return or.load(t);default:throw new Error(`Unknown variant index for RawTransactionWithData: ${e}`)}}},nr=class r extends Ro{constructor(e,n){super();this.raw_txn=e,this.secondary_signer_addresses=n}serialize(e){e.serializeU32AsUleb128(0),this.raw_txn.serialize(e),e.serializeVector(this.secondary_signer_addresses)}static load(e){let n=zt.deserialize(e),o=e.deserializeVector(N);return new r(n,o)}},or=class r extends Ro{constructor(e,n,o){super();this.raw_txn=e,this.secondary_signer_addresses=n,this.fee_payer_address=o}serialize(e){e.serializeU32AsUleb128(1),this.raw_txn.serialize(e),e.serializeVector(this.secondary_signer_addresses),this.fee_payer_address.serialize(e)}static load(e){let n=zt.deserialize(e),o=e.deserializeVector(N),s=N.deserialize(e);return new r(n,o,s)}};var Qt=class r extends Z{constructor(e,n){super();this.raw_txn=e,this.authenticator=n}serialize(e){this.raw_txn.serialize(e),this.authenticator.serialize(e)}static deserialize(e){let n=zt.deserialize(e),o=tr.deserialize(e);return new r(n,o)}};function Rd(r){return!!r.match(/^[_a-zA-Z0-9]+$/)}function Bd(r){return!!r.match(/\s/)}function Uy(r){return!!r.match(/^T[0-9]+$/)}function Iy(r,t){let e=t;for(;e<r.length;e+=1){let n=r[e];if(!Bd(n))break}return e}var Od=(_=>(_.InvalidTypeTag="unknown type",_.UnexpectedGenericType="unexpected generic type",_.UnexpectedTypeArgumentClose="unexpected '>'",_.UnexpectedWhitespaceCharacter="unexpected whitespace character",_.UnexpectedComma="unexpected ','",_.TypeArgumentCountMismatch="type argument count doesn't match expected amount",_.MissingTypeArgumentClose="no matching '>' for '<'",_.UnexpectedPrimitiveTypeArguments="primitive types not expected to have type arguments",_.UnexpectedVectorTypeArgumentCount="vector type expected to have exactly one type argument",_.UnexpectedStructFormat="unexpected struct format, must be of the form 0xaddress::module_name::struct_name",_.InvalidModuleNameCharacter="module name must only contain alphanumeric or '_' characters",_.InvalidStructNameCharacter="struct name must only contain alphanumeric or '_' characters",_))(Od||{}),ke=class extends Error{constructor(t,e){super(`Failed to parse typeTag '${t}', ${e}`)}};function ts(r,t){let e=t?.allowGenerics??!1,n=[],o=[],s=[],a=0,u="",p=1;for(;a<r.length;){let y=r[a];if(y==="<")n.push({savedExpectedTypes:p,savedStr:u,savedTypes:s}),u="",s=[],p=1;else if(y===">"){if(u!==""){let z=es(u,o,e);s.push(z)}let h=n.pop();if(h===void 0)throw new ke(r,"unexpected '>'");if(p!==s.length)throw new ke(r,"type argument count doesn't match expected amount");let{savedStr:A,savedTypes:_,savedExpectedTypes:T}=h;o=s,s=_,u=A,p=T}else if(y===","){if(u.length!==0){let h=es(u,o,e);o=[],s.push(h),u="",p+=1}}else if(Bd(y)){let h=!1;if(u.length!==0){let _=es(u,o,e);o=[],s.push(_),u="",h=!0}a=Iy(r,a);let A=r[a];if(a<r.length&&h&&A!==","&&A!==">")throw new ke(r,"unexpected whitespace character");continue}else u+=y;a+=1}if(n.length>0)throw new ke(r,"no matching '>' for '<'");switch(s.length){case 0:return es(u,o,e);case 1:if(u==="")return s[0];throw new ke(r,"unexpected ','");default:throw new ke(r,"unexpected whitespace character")}}function es(r,t,e){switch(r){case"&signer":if(t.length>0)throw new ke(r,"primitive types not expected to have type arguments");return new Po(new Kr);case"signer":if(t.length>0)throw new ke(r,"primitive types not expected to have type arguments");return new Kr;case"bool":if(t.length>0)throw new ke(r,"primitive types not expected to have type arguments");return new bn;case"address":if(t.length>0)throw new ke(r,"primitive types not expected to have type arguments");return new Cn;case"u8":if(t.length>0)throw new ke(r,"primitive types not expected to have type arguments");return new wn;case"u16":if(t.length>0)throw new ke(r,"primitive types not expected to have type arguments");return new Tn;case"u32":if(t.length>0)throw new ke(r,"primitive types not expected to have type arguments");return new _n;case"u64":if(t.length>0)throw new ke(r,"primitive types not expected to have type arguments");return new vn;case"u128":if(t.length>0)throw new ke(r,"primitive types not expected to have type arguments");return new Sn;case"u256":if(t.length>0)throw new ke(r,"primitive types not expected to have type arguments");return new En;case"vector":if(t.length!==1)throw new ke(r,"vector type expected to have exactly one type argument");return new In(t[0]);default:if(Uy(r)){if(e)return new Un(Number(r.split("T")[1]));throw new ke(r,"unexpected generic type")}if(!r.match(/.*:.*/))throw new ke(r,"unknown type");let n=r.split("::");if(n.length!==3)throw new ke(r,"unexpected struct format, must be of the form 0xaddress::module_name::struct_name");if(!Rd(n[1]))throw new ke(r,"module name must only contain alphanumeric or '_' characters");if(!Rd(n[2]))throw new ke(r,"struct name must only contain alphanumeric or '_' characters");return new br(new rr(N.fromString(n[0]),new qe(n[1]),new qe(n[2]),t))}}function nc(r){return typeof r=="boolean"}function Rn(r){return typeof r=="string"}function Bo(r){return typeof r=="number"}function Oo(r){return typeof r=="number"||typeof r=="bigint"||typeof r=="string"}function oc(r){return r==null}function ic(r){return rs(r)||os(r)||is(r)||ss(r)||as(r)||cs(r)||us(r)||No(r)||ns(r)||Nd(r)||r instanceof Ie||r instanceof dr}function rs(r){return r instanceof Fe}function No(r){return r instanceof N}function ns(r){return r instanceof Ze}function Nd(r){return r instanceof Ur}function os(r){return r instanceof ct}function is(r){return r instanceof Ut}function ss(r){return r instanceof It}function as(r){return r instanceof rt}function cs(r){return r instanceof Pt}function us(r){return r instanceof Rt}function fs(r){return"bytecode"in r}function ze(r,t){throw new Error(`Type mismatch for argument ${t}, expected '${r}'`)}function sc(r){let t=r.params.findIndex(e=>e!=="signer"&&e!=="&signer");return t<0?r.params.length:t}function ds(r){let t=r.split("::");if(t.length!==3)throw new Error(`Invalid function ${r}`);let e=t[0],n=t[1],o=t[2];return{moduleAddress:e,moduleName:n,functionName:o}}function cc(r){return r?.map(t=>Rn(t)?ts(t):t)??[]}async function uc(r,t,e,n){let s=(await Gi({aptosConfig:n,accountAddress:r,moduleName:t})).abi?.exposed_functions.find(p=>p.name===e);if(!s)throw new Error(`Could not find entry function ABI for '${r}::${t}::${e}'`);if(!s.is_entry)throw new Error(`'${r}::${t}::${e}' is not an entry function`);let a=sc(s),u=[];for(let p=a;p<s.params.length;p+=1)u.push(ts(s.params[p],{allowGenerics:!0}));return{typeParameters:s.generic_type_params,parameters:u}}function fc(r,t,e,n,o){if(n>=t.parameters.length)throw new Error(`Too many arguments for '${r}', expected ${t.parameters.length}`);let s=t.parameters[n];return ko(e,s,n,o)}function ko(r,t,e,n){return ic(r)?(ac(t,r,e),r):Py(r,t,e,n)}function Py(r,t,e,n){if(t.isBool()){if(nc(r))return new Fe(r);ze("boolean",e)}if(t.isAddress()){if(Rn(r))return N.fromString(r);ze("string | AccountAddress",e)}if(t.isU8()){if(Bo(r))return new ct(r);ze("number",e)}if(t.isU16()){if(Bo(r))return new Ut(r);ze("number",e)}if(t.isU32()){if(Bo(r))return new It(r);ze("number",e)}if(t.isU64()){if(Oo(r))return new rt(BigInt(r));ze("bigint | number | string",e)}if(t.isU128()){if(Oo(r))return new Pt(BigInt(r));ze("bigint | number | string",e)}if(t.isU256()){if(Oo(r))return new Rt(BigInt(r));ze("bigint | number | string",e)}if(t.isGeneric()){let o=t.value;if(o<0||o>=n.length)throw new Error(`Generic argument ${t.toString()} is invalid for argument ${e}`);return ko(r,n[o],e,n)}if(t.isVector()){if(t.value.isU8()){if(Rn(r))try{return Ie.U8(me.fromHexInput(r).toUint8Array())}catch{throw new Error(`vector<u8> must be passed in as a hex string or a Uint8array, type '${t.toString()}'`)}if(r instanceof Uint8Array)return Ie.U8(r)}if(Array.isArray(r))return new Ie(r.map(o=>ko(o,t.value,e,n)));throw new Error(`Type mismatch for argument ${e}, type '${t.toString()}'`)}if(t.isStruct()){if(t.isString()){if(Rn(r))return new Ze(r);ze("string",e)}if(t.isObject()){if(Rn(r))return N.fromString(r);ze("string | AccountAddress",e)}if(t.isOption())return oc(r)?new dr(null):new dr(ko(r,t.value.typeArgs[0],e,n));throw new Error(`Unsupported struct input type for argument ${e}, type '${t.toString()}'`)}throw new Error(`Type mismatch for argument ${e}, type '${t.toString()}'`)}function ac(r,t,e){if(r.isBool()){if(rs(t))return;ze("Bool",e)}if(r.isAddress()){if(No(t))return;ze("AccountAddress",e)}if(r.isU8()){if(os(t))return;ze("U8",e)}if(r.isU16()){if(is(t))return;ze("U16",e)}if(r.isU32()){if(ss(t))return;ze("U32",e)}if(r.isU64()){if(as(t))return;ze("U64",e)}if(r.isU128()){if(cs(t))return;ze("U128",e)}if(r.isU256()){if(us(t))return;ze("U256",e)}if(r.isVector()){if(t instanceof Ie){t.values.length>0&&ac(r.value,t.values[0],e);return}ze("MoveVector",e)}if(r instanceof br){if(r.isString()){if(ns(t))return;ze("MoveString",e)}if(r.isObject()){if(No(t))return;ze("AccountAddress",e)}if(r.isOption()){if(t instanceof dr){t.value!==void 0&&ac(r.value.typeArgs[0],t.value,e);return}ze("MoveOption",e)}}throw new Error(`Type mismatch for argument ${e}, expected '${r.toString()}'`)}async function Mo(r){if(fs(r))return zd(r);let{moduleAddress:t,moduleName:e,functionName:n}=ds(r.function),o=await Fn(async()=>uc(t,e,n,r.aptosConfig),`entry-function-${r.aptosConfig.network}-${t}-${e}-${n}`,1e3*60*5)();return kd(r,o)}function kd(r,t){if(fs(r))return zd(r);let{moduleAddress:e,moduleName:n,functionName:o}=ds(r.function),s=cc(r.typeArguments);if(s.length!==t.typeParameters.length)throw new Error(`Type argument count mismatch, expected ${t.typeParameters.length}, received ${s.length}`);let a=r.functionArguments.map((p,y)=>fc(r.function,t,p,y,s));if(a.length!==t.parameters.length)throw new Error(`Too few arguments for '${e}::${n}::${o}', expected ${t.parameters.length} but got ${a.length}`);let u=Pn.build(`${e}::${n}`,o,s,a);if("multisigAddress"in r){let p=N.from(r.multisigAddress);return new Zn(new eo(p,new to(u)))}return new Xn(u)}function zd(r){return new Yn(new Jn(me.fromHexInput(r.bytecode).toUint8Array(),r.typeArguments??[],r.functionArguments))}async function Md(r){let{aptosConfig:t,sender:e,payload:n,options:o}=r,s=o?.accountSequenceNumber!==void 0?Promise.resolve({sequence_number:o.accountSequenceNumber}):Jt({aptosConfig:t,accountAddress:e}),a=ui[t.network]?Promise.resolve({chain_id:ui[t.network]}):zi({aptosConfig:t}),u=o?.gasUnitPrice?Promise.resolve({gas_estimate:o.gasUnitPrice}):Fi({aptosConfig:t}),[{sequence_number:p},{chain_id:y},{gas_estimate:h}]=await Promise.all([s,a,u]),{maxGasAmount:A,gasUnitPrice:_,expireTimestamp:T}={maxGasAmount:o?.maxGasAmount?BigInt(o.maxGasAmount):BigInt(Gs),gasUnitPrice:BigInt(h),expireTimestamp:BigInt(Math.floor(Date.now()/1e3)+Ls),...o};return new zt(N.from(e),BigInt(p),n,BigInt(A),BigInt(_),BigInt(T),new xn(y))}async function ls(r){let{aptosConfig:t,sender:e,payload:n,options:o}=r,s=await Md({aptosConfig:t,sender:e,payload:n,options:o});if("secondarySignerAddresses"in r){let a=r.secondarySignerAddresses?.map(u=>N.from(u))??[];return{rawTransaction:s,secondarySignerAddresses:a,feePayerAddress:r.feePayerAddress?N.from(r.feePayerAddress):void 0}}return{rawTransaction:s,feePayerAddress:r.feePayerAddress?N.from(r.feePayerAddress):void 0}}function dc(r){let{signerPublicKey:t,transaction:e,secondarySignersPublicKeys:n,feePayerPublicKey:o}=r,s=zo(t);if(e.feePayerAddress){let u=new or(e.rawTransaction,e.secondarySignerAddresses??[],e.feePayerAddress),p=[];n&&(p=n.map(A=>zo(A)));let y=zo(o),h=new mn(s,e.secondarySignerAddresses??[],p,{address:e.feePayerAddress,authenticator:y});return new Qt(u.raw_txn,h).bcsToBytes()}if(e.secondarySignerAddresses){let u=new nr(e.rawTransaction,e.secondarySignerAddresses),p=[];p=n.map(h=>zo(h));let y=new hn(s,e.secondarySignerAddresses,p);return new Qt(u.raw_txn,y).bcsToBytes()}let a;if(s instanceof er)a=new yn(s.public_key,s.signature);else if(s instanceof Vt)a=new An(s);else throw new Error("Invalid public key");return new Qt(e.rawTransaction,a).bcsToBytes()}function zo(r){if(r instanceof Me){if(r.publicKey instanceof Be)return new Vt(r,new Zt(new Ke(new Uint8Array(64))));if(r.publicKey instanceof kt)return new Vt(r,new Zt(new hr(new Uint8Array(64))))}return new er(new Be(r.toUint8Array()),new Ke(new Uint8Array(64)))}function lc(r){let{signer:t,transaction:e}=r,n=ps(e),o=t.sign(n);switch(t.signingScheme){case 0:return new er(new Be(t.publicKey.toUint8Array()),new Ke(o.toUint8Array()));case 2:if(!Me.isPublicKey(t.publicKey))throw new Error(`Cannot sign transaction, public key does not match ${t.signingScheme}`);return new Vt(t.publicKey,new Zt(o));default:throw new Error(`Cannot sign transaction, signing scheme ${t.signingScheme} not supported`)}}function pc(r){let{transaction:t,senderAuthenticator:e,feePayerAuthenticator:n,additionalSignersAuthenticators:o}=r,s=gc(t);if((n||o)&&(s instanceof nr||s instanceof or))return qd(s,e,n,o);if(e instanceof er&&s instanceof zt){let a=new yn(e.public_key,e.signature);return new Qt(s,a).bcsToBytes()}if((e instanceof Vt||e instanceof gn)&&s instanceof zt){let a=new An(e);return new Qt(s,a).bcsToBytes()}throw new Error(`Cannot generate a signed transaction, ${e} is not a supported account authentication scheme`)}function gc(r){return r.feePayerAddress?new or(r.rawTransaction,r.secondarySignerAddresses??[],r.feePayerAddress):r.secondarySignerAddresses?new nr(r.rawTransaction,r.secondarySignerAddresses):r.rawTransaction}function qd(r,t,e,n){if(r instanceof or){if(!e)throw new Error("Must provide a feePayerAuthenticator argument to generate a signed fee payer transaction");let o=new mn(t,r.secondary_signer_addresses,n??[],{address:r.fee_payer_address,authenticator:e});return new Qt(r.raw_txn,o).bcsToBytes()}if(r instanceof nr){if(!n)throw new Error("Must provide a additionalSignersAuthenticators argument to generate a signed multi agent transaction");let o=new hn(t,r.secondary_signer_addresses,n??[]);return new Qt(r.raw_txn,o).bcsToBytes()}throw new Error(`Cannot prepare multi signers transaction to submission, ${typeof r} transaction is not supported`)}function ps(r){let t=gc(r),e=rn.create();if(t instanceof zt)e.update(Fs);else if(t instanceof nr)e.update(fi);else if(t instanceof or)e.update(fi);else throw new Error(`Unknown transaction type to sign on: ${t}`);let n=e.digest(),o=t.bcsToBytes(),s=new Uint8Array(n.length+o.length);return s.set(n),s.set(o,n.length),s}async function Ve(r){let t=await Ry(r);return By(r,t)}async function Ry(r){let{aptosConfig:t,data:e}=r,n,o;return"bytecode"in e?(n=e,o=await Mo(n)):"multisigAddress"in e?(n={aptosConfig:t,multisigAddress:e.multisigAddress,function:e.function,functionArguments:e.functionArguments,typeArguments:e.typeArguments},o=await Mo(n)):(n={aptosConfig:t,function:e.function,functionArguments:e.functionArguments,typeArguments:e.typeArguments},o=await Mo(n)),o}async function By(r,t){let{aptosConfig:e,sender:n,options:o}=r,s;if(Oy(r)&&(s=N.ZERO.toString()),Ny(r)){let{secondarySignerAddresses:a}=r;return ls({aptosConfig:e,sender:n,payload:t,options:o,secondarySignerAddresses:a,feePayerAddress:s})}return ls({aptosConfig:e,sender:n,payload:t,options:o,feePayerAddress:s})}function Oy(r){return r.withFeePayer===!0}function Ny(r){return"secondarySignerAddresses"in r}function Dd(r){let{transaction:t}=r;return ps(t)}function gs(r){return lc({...r})}async function yc(r){let{aptosConfig:t,transaction:e,signerPublicKey:n,secondarySignersPublicKeys:o,feePayerPublicKey:s,options:a}=r,u=dc({transaction:e,signerPublicKey:n,secondarySignersPublicKeys:o,feePayerPublicKey:s,options:a}),{data:p}=await Xr({aptosConfig:t,body:u,path:"transactions/simulate",params:{estimate_gas_unit_price:r.options?.estimateGasUnitPrice??!1,estimate_max_gas_amount:r.options?.estimateMaxGasAmount??!1,estimate_prioritized_gas_unit_price:r.options?.estimatePrioritizedGasUnitPrice??!1},originMethod:"simulateTransaction",contentType:"application/x.aptos.signed_transaction+bcs"});return p}async function ys(r){let{aptosConfig:t}=r,e=pc({...r}),{data:n}=await Xr({aptosConfig:t,body:e,path:"transactions",originMethod:"submitTransaction",contentType:"application/x.aptos.signed_transaction+bcs"});return n}async function qo(r){let{aptosConfig:t,signer:e,transaction:n}=r,o=gs({signer:e,transaction:n});return ys({aptosConfig:t,transaction:n,senderAuthenticator:o})}async function Gd(r){let{aptosConfig:t,account:e,metadataBytes:n,moduleBytecode:o,options:s}=r,a=o.map(p=>Ie.U8(p));return await Ve({aptosConfig:t,sender:N.from(e),data:{function:"0x1::code::publish_package_txn",functionArguments:[Ie.U8(n),new Ie(a)]},options:s})}async function Ld(r){let{aptosConfig:t,fromAccount:e,toNewPrivateKey:n}=r,o=await Jt({aptosConfig:t,accountAddress:e.accountAddress}),s=Ar.fromPrivateKey({privateKey:n,legacy:!0}),u=new Uo({sequenceNumber:BigInt(o.sequence_number),originator:e.accountAddress,currentAuthKey:N.from(o.authentication_key),newPublicKey:s.publicKey}).bcsToBytes(),p=e.sign(u),y=s.sign(u),h=await Ve({aptosConfig:t,sender:e.accountAddress,data:{function:"0x1::account::rotate_authentication_key",functionArguments:[new ct(e.signingScheme.valueOf()),Ie.U8(e.publicKey.toUint8Array()),new ct(s.signingScheme.valueOf()),Ie.U8(s.publicKey.toUint8Array()),Ie.U8(p.toUint8Array()),Ie.U8(y.toUint8Array())]}});return await qo({aptosConfig:t,signer:e,transaction:h})}async function Fd(r){let{aptosConfig:t,sender:e,recipient:n,amount:o,coinType:s,options:a}=r,u=s??ho;return await Ve({aptosConfig:t,sender:e.accountAddress,data:{function:"0x1::aptos_account::transfer_coins",typeArguments:[u],functionArguments:[n,o]},options:a})}var Do=class{constructor(t){this.config=t}async transferCoinTransaction(t){return Fd({aptosConfig:this.config,...t})}};async function Kd(r){let{aptosConfig:t,options:e,creator:n}=r;return await Ve({aptosConfig:t,sender:n.accountAddress,data:{function:"0x4::aptos_token::mint",functionArguments:[new Ze(r.collection),new Ze(r.description),new Ze(r.name),new Ze(r.uri),Ie.MoveString([]),Ie.MoveString([]),new Ie([])]},options:e})}async function $d(r){let{aptosConfig:t,tokenAddress:e}=r,n={token_data_id:{_eq:N.from(e).toStringLong()}};return(await Ae({aptosConfig:t,query:{query:Vu,variables:{where_condition:n}},originMethod:"getTokenData"})).current_token_datas_v2[0]}async function Hd(r){let{aptosConfig:t,tokenAddress:e}=r,n={token_data_id:{_eq:N.from(e).toStringLong()}};return(await Ae({aptosConfig:t,query:{query:Ua,variables:{where_condition:n}},originMethod:"getCurrentTokenOwnership"})).current_token_ownerships_v2[0]}async function Vd(r){let{aptosConfig:t,ownerAddress:e,options:n}=r,o={owner_address:{_eq:N.from(e).toStringLong()},amount:{_gt:0}},s={query:Ua,variables:{where_condition:o,offset:n?.offset,limit:n?.limit,order_by:n?.orderBy}};return(await Ae({aptosConfig:t,query:s,originMethod:"getOwnedTokens"})).current_token_ownerships_v2}async function Qd(r){let{aptosConfig:t,tokenAddress:e,options:n}=r,o={token_data_id:{_eq:N.from(e).toStringLong()}},s={query:Hu,variables:{where_condition:o,offset:n?.offset,limit:n?.limit,order_by:n?.orderBy}};return(await Ae({aptosConfig:t,query:s,originMethod:"getTokenActivity"})).token_activities_v2}async function Wd(r){let{aptosConfig:t,options:e,creator:n}=r;return await Ve({aptosConfig:t,sender:n.accountAddress,data:{function:"0x4::aptos_token::create_collection",functionArguments:[new Ze(r.description),new rt(r.maxSupply??en),new Ze(r.name),new Ze(r.uri),new Fe(r.mutableDescription??!0),new Fe(r.mutableRoyalty??!0),new Fe(r.mutableURI??!0),new Fe(r.mutableTokenDescription??!0),new Fe(r.mutableTokenName??!0),new Fe(r.mutableTokenProperties??!0),new Fe(r.mutableTokenURI??!0),new Fe(r.tokensBurnableByCreator??!0),new Fe(r.tokensFreezableByCreator??!0),new rt(r.royaltyNumerator??0),new rt(r.royaltyDenominator??1)]},options:e})}async function hc(r){let{aptosConfig:t,creatorAddress:e,collectionName:n,options:o}=r,s=N.from(e),a={collection_name:{_eq:n},creator_address:{_eq:s.toStringLong()}};return o?.tokenStandard&&(a.token_standard={_eq:o?.tokenStandard??"v2"}),(await Ae({aptosConfig:t,query:{query:Du,variables:{where_condition:a}},originMethod:"getCollectionData"})).current_collections_v2[0]}async function jd(r){return(await hc(r)).collection_id}async function Yd(r){let{aptosConfig:t,sender:e,digitalAssetAddress:n,recipient:o,digitalAssetType:s,options:a}=r;return await Ve({aptosConfig:t,sender:e.accountAddress,data:{function:"0x1::object::transfer",typeArguments:[s??"0x4::token::Token"],functionArguments:[n,o]},options:a})}var Go=class{constructor(t){this.config=t}async createCollectionTransaction(t){return Wd({aptosConfig:this.config,...t})}async getCollectionData(t){return await Ce({config:this.config,minimumLedgerVersion:t.minimumLedgerVersion,processorTypes:ro(t.options?.tokenStandard)}),hc({aptosConfig:this.config,...t})}async getCollectionId(t){return await Ce({config:this.config,minimumLedgerVersion:t.minimumLedgerVersion,processorTypes:ro(t.options?.tokenStandard)}),jd({aptosConfig:this.config,...t})}async mintTokenTransaction(t){return Kd({aptosConfig:this.config,...t})}async getTokenData(t){return await Ce({config:this.config,minimumLedgerVersion:t.minimumLedgerVersion,processorTypes:ro(void 0)}),$d({aptosConfig:this.config,...t})}async getCurrentTokenOwnership(t){return await Ce({config:this.config,minimumLedgerVersion:t.minimumLedgerVersion,processorTypes:ro(void 0)}),Hd({aptosConfig:this.config,...t})}async getOwnedTokens(t){return await Ce({config:this.config,minimumLedgerVersion:t.minimumLedgerVersion,processorTypes:ro(void 0)}),Vd({aptosConfig:this.config,...t})}async getTokenActivity(t){return await Ce({config:this.config,minimumLedgerVersion:t.minimumLedgerVersion,processorTypes:ro(void 0)}),Qd({aptosConfig:this.config,...t})}async transferDigitalAsset(t){return Yd({aptosConfig:this.config,...t})}};function ro(r){switch(r){case"v1":return["token_processor"];case"v2":return["token_v2_processor"];default:return["token_processor","token_v2_processor"]}}async function Xd(r){let{accountAddress:t,aptosConfig:e,creationNumber:n}=r,s={account_address:{_eq:N.from(t).toStringLong()},creation_number:{_eq:n}};return hs({aptosConfig:e,options:{where:s}})}async function Zd(r){let{accountAddress:t,aptosConfig:e,eventType:n,options:o}=r,u={where:{account_address:{_eq:N.from(t).toStringLong()},indexed_type:{_eq:n}},pagination:o,orderBy:o?.orderBy};return hs({aptosConfig:e,options:u})}async function hs(r){let{aptosConfig:t,options:e}=r,n={query:Fu,variables:{where_condition:e?.where,offset:e?.offset,limit:e?.limit,order_by:e?.orderBy}};return(await Ae({aptosConfig:t,query:n,originMethod:"getEvents"})).events}var Lo=class{constructor(t){this.config=t}async getAccountEventsByCreationNumber(t){return await Ce({config:this.config,minimumLedgerVersion:t.minimumLedgerVersion,processorTypes:["events_processor"]}),Xd({aptosConfig:this.config,...t})}async getAccountEventsByEventType(t){return await Ce({config:this.config,minimumLedgerVersion:t.minimumLedgerVersion,processorTypes:["events_processor"]}),Zd({aptosConfig:this.config,...t})}async getEvents(t){return await Ce({config:this.config,minimumLedgerVersion:t?.minimumLedgerVersion,processorTypes:["events_processor"]}),hs({aptosConfig:this.config,...t})}};async function Jd(r){let{aptosConfig:t,accountAddress:e,amount:n,options:o}=r,s=o?.timeoutSecs||yo,{data:a}=await Hs({aptosConfig:t,path:"fund",body:{address:N.from(e).toString(),amount:n},originMethod:"fundAccount"}),u=a.txn_hashes[0],p=await Kn({aptosConfig:t,transactionHash:u,options:{timeoutSecs:s,checkSuccess:o?.checkSuccess}});if(p.type==="user_transaction")return p;throw new Error(`Unexpected transaction received for fund account: ${p.type}`)}var Fo=class{constructor(t){this.config=t}async fundAccount(t){let e=await Jd({aptosConfig:this.config,...t});return t.options?.waitForIndexer!==!1&&await $i({aptosConfig:this.config,minimumLedgerVersion:BigInt(e.version)}),e}};async function mc(r){let{aptosConfig:t,options:e}=r,n={query:$u,variables:{where_condition:e?.where,limit:e?.limit,offset:e?.offset}};return(await Ae({aptosConfig:t,query:n,originMethod:"getFungibleAssetMetadata"})).fungible_asset_metadata}async function el(r){let{aptosConfig:t,options:e}=r,n={query:Ku,variables:{where_condition:e?.where,limit:e?.limit,offset:e?.offset}};return(await Ae({aptosConfig:t,query:n,originMethod:"getFungibleAssetActivities"})).fungible_asset_activities}async function tl(r){let{aptosConfig:t,options:e}=r,n={query:Gu,variables:{where_condition:e?.where,limit:e?.limit,offset:e?.offset}};return(await Ae({aptosConfig:t,query:n,originMethod:"getCurrentFungibleAssetBalances"})).current_fungible_asset_balances}async function rl(r){let{aptosConfig:t,sender:e,fungibleAssetMetadataAddress:n,recipient:o,amount:s,options:a}=r;return await Ve({aptosConfig:t,sender:e.accountAddress,data:{function:"0x1::primary_fungible_store::transfer",typeArguments:["0x1::fungible_asset::Metadata"],functionArguments:[n,o,s]},options:a})}var Ko=class{constructor(t){this.config=t}async getFungibleAssetMetadata(t){return await Ce({config:this.config,minimumLedgerVersion:t?.minimumLedgerVersion,processorTypes:["fungible_asset_processor"]}),mc({aptosConfig:this.config,...t})}async getFungibleAssetMetadataByAssetType(t){return await Ce({config:this.config,minimumLedgerVersion:t?.minimumLedgerVersion,processorTypes:["fungible_asset_processor"]}),(await mc({aptosConfig:this.config,options:{where:{asset_type:{_eq:t.assetType}}}}))[0]}async getFungibleAssetActivities(t){return await Ce({config:this.config,minimumLedgerVersion:t?.minimumLedgerVersion,processorTypes:["fungible_asset_processor"]}),el({aptosConfig:this.config,...t})}async getCurrentFungibleAssetBalances(t){return await Ce({config:this.config,minimumLedgerVersion:t?.minimumLedgerVersion,processorTypes:["fungible_asset_processor"]}),tl({aptosConfig:this.config,...t})}async transferFungibleAsset(t){return rl({aptosConfig:this.config,...t})}};var $o=class{constructor(t){this.config=t}async getLedgerInfo(){return zi({aptosConfig:this.config})}async getChainId(){return(await this.getLedgerInfo()).chain_id}async getBlockByVersion(t){return Qu({aptosConfig:this.config,...t})}async getBlockByHeight(t){return Wu({aptosConfig:this.config,...t})}async getTableItem(t){return Mi({aptosConfig:this.config,...t})}async view(t){return Gr({aptosConfig:this.config,...t})}async getChainTopUserTransactions(t){return ju({aptosConfig:this.config,...t})}async queryIndexer(t){return Ae({aptosConfig:this.config,...t})}async getIndexerLastSuccessVersion(){return qi({aptosConfig:this.config})}async getProcessorStatus(t){return Di({aptosConfig:this.config,processorType:t})}};var nl=["A name must be between 3 and 63 characters long,","and can only contain lowercase a-z, 0-9, and hyphens.","A name may not start or end with a hyphen."].join(" ");function ol(r){return!(!r||r.length<3||r.length>63||!/^[a-z\d][a-z\d-]{1,61}[a-z\d]$/.test(r))}function Hr(r){let[t,e,...n]=r.replace(/\.apt$/,"").split(".");if(n.length>0)throw new Error(`${r} is invalid. A name can only have two parts, a domain and a subdomain separated by a "."`);if(!ol(t))throw new Error(`${t} is not valid. ${nl}`);if(e&&!ol(e))throw new Error(`${e} is not valid. ${nl}`);return{domainName:e||t,subdomainName:e?t:void 0}}var ky="0x585fc9f0f0c54183b039ffc770ca282ebd87307916c215a3e692f2f8e4305e82",zy={testnet:"0x5f8fd2347449685cf41d4db97926ec3a096eaf381332be4f1318ad4d16a8497c",mainnet:"0x867ed1f6bf916171b1de3ee92849b8978b7d1b9e0a8cc982a3d19d535dfd9c0c",local:ky,custom:null,devnet:null};function wr(r){let t=zy[r.network];if(!t)throw new Error(`The ANS contract is not deployed to ${r.network}`);return t}var My=r=>({vec:[r]}),qy=()=>({vec:[]}),Ac=r=>r!=null?My(r):qy(),ms=r=>{if(r&&typeof r=="object"&&"vec"in r&&Array.isArray(r.vec))return r.vec[0]};async function il(r){let{aptosConfig:t,name:e}=r,n=wr(t),{domainName:o,subdomainName:s}=Hr(e),a=await Gr({aptosConfig:t,payload:{function:`${n}::router::get_owner_addr`,functionArguments:[o,Ac(s)]}}),u=ms(a[0]);return u?N.from(u).toString():void 0}async function sl(r){let{aptosConfig:t,expiration:e,name:n,sender:o,targetAddress:s,toAddress:a,options:u,transferable:p}=r,y=wr(t),{domainName:h,subdomainName:A}=Hr(n),_=e.policy==="subdomain:independent"||e.policy==="subdomain:follow-domain";if(A&&!_)throw new Error("Subdomains must have an expiration policy of either 'subdomain:independent' or 'subdomain:follow-domain'");if(_&&!A)throw new Error(`Policy is set to ${e.policy} but no subdomain was provided`);if(e.policy==="domain"){let P=e.years??1;if(P!==1)throw new Error("For now, names can only be registered for 1 year at a time");let H=P*31536e3;return await Ve({aptosConfig:t,sender:o.accountAddress.toString(),data:{function:`${y}::router::register_domain`,functionArguments:[h,H,s,a]},options:u})}if(!A)throw new Error(`${e.policy} requires a subdomain to be provided.`);let T=await xc({aptosConfig:t,name:h});if(!T)throw new Error("The domain does not exist");let z=e.policy==="subdomain:independent"?e.expirationDate:T;if(z>T)throw new Error("The subdomain expiration time cannot be greater than the domain expiration time");return await Ve({aptosConfig:t,sender:o.accountAddress.toString(),data:{function:`${y}::router::register_subdomain`,functionArguments:[h,A,Math.round(z/1e3),e.policy==="subdomain:follow-domain"?1:0,!!p,s,a]},options:u})}async function xc(r){let{aptosConfig:t,name:e}=r,n=wr(t),{domainName:o,subdomainName:s}=Hr(e);try{let a=await Gr({aptosConfig:t,payload:{function:`${n}::router::get_expiration`,functionArguments:[o,Ac(s)]}});return Number(a[0])*1e3}catch{return}}async function al(r){let{aptosConfig:t,address:e}=r,n=wr(t),o=await Gr({aptosConfig:t,payload:{function:`${n}::router::get_primary_name`,functionArguments:[N.from(e).toString()]}}),s=ms(o[1]),a=ms(o[0]);if(s)return[a,s].filter(Boolean).join(".")}async function cl(r){let{aptosConfig:t,sender:e,name:n,options:o}=r,s=wr(t);if(!n)return await Ve({aptosConfig:t,sender:e.accountAddress.toString(),data:{function:`${s}::router::clear_primary_name`,functionArguments:[]},options:o});let{domainName:a,subdomainName:u}=Hr(n);return await Ve({aptosConfig:t,sender:e.accountAddress.toString(),data:{function:`${s}::router::set_primary_name`,functionArguments:[a,u]},options:o})}async function ul(r){let{aptosConfig:t,name:e}=r,n=wr(t),{domainName:o,subdomainName:s}=Hr(e),a=await Gr({aptosConfig:t,payload:{function:`${n}::router::get_target_addr`,functionArguments:[o,Ac(s)]}}),u=ms(a[0]);return u?N.from(u).toString():void 0}async function fl(r){let{aptosConfig:t,sender:e,name:n,address:o,options:s}=r,a=wr(t),{domainName:u,subdomainName:p}=Hr(n);return await Ve({aptosConfig:t,sender:e.accountAddress.toString(),data:{function:`${a}::router::set_target_addr`,functionArguments:[u,p,o]},options:s})}async function dl(r){let{aptosConfig:t,name:e}=r,{domainName:n,subdomainName:o=""}=Hr(e),u=(await Ae({aptosConfig:t,query:{query:Ln,variables:{where_condition:{domain:{_eq:n},subdomain:{_eq:o}},limit:1}},originMethod:"getName"})).current_aptos_names[0];return u&&(u=Ho(u)),u}async function ll(r){let{aptosConfig:t,options:e,accountAddress:n}=r,o=await bc({aptosConfig:t});return(await Ae({aptosConfig:t,originMethod:"getAccountNames",query:{query:Ln,variables:{limit:e?.limit,offset:e?.offset,order_by:e?.orderBy,where_condition:{...r.options?.where??{},owner_address:{_eq:n.toString()},expiration_timestamp:{_gte:o}}}}})).current_aptos_names.map(Ho)}async function pl(r){let{aptosConfig:t,options:e,accountAddress:n}=r,o=await bc({aptosConfig:t});return(await Ae({aptosConfig:t,originMethod:"getAccountDomains",query:{query:Ln,variables:{limit:e?.limit,offset:e?.offset,order_by:e?.orderBy,where_condition:{...r.options?.where??{},owner_address:{_eq:n.toString()},expiration_timestamp:{_gte:o},subdomain:{_eq:""}}}}})).current_aptos_names.map(Ho)}async function gl(r){let{aptosConfig:t,options:e,accountAddress:n}=r,o=await bc({aptosConfig:t});return(await Ae({aptosConfig:t,originMethod:"getAccountSubdomains",query:{query:Ln,variables:{limit:e?.limit,offset:e?.offset,order_by:e?.orderBy,where_condition:{...r.options?.where??{},owner_address:{_eq:n.toString()},expiration_timestamp:{_gte:o},subdomain:{_neq:""}}}}})).current_aptos_names.map(Ho)}async function yl(r){let{aptosConfig:t,options:e,domain:n}=r;return(await Ae({aptosConfig:t,originMethod:"getDomainSubdomains",query:{query:Ln,variables:{limit:e?.limit,offset:e?.offset,order_by:e?.orderBy,where_condition:{...r.options?.where??{},domain:{_eq:n},subdomain:{_neq:""}}}}})).current_aptos_names.map(Ho)}async function bc(r){let{aptosConfig:t}=r,e=wr(t),[n]=await Gr({aptosConfig:t,payload:{function:`${e}::config::reregistration_grace_sec`,functionArguments:[]}}),o=n/60/60/24,s=()=>new Date;return new Date(s().setDate(s().getDate()-o)).toISOString()}async function hl(r){let{aptosConfig:t,sender:e,name:n,years:o=1,options:s}=r,a=wr(t),u=o*31536e3,{domainName:p,subdomainName:y}=Hr(n);if(y)throw new Error("Subdomains cannot be renewed");if(o!==1)throw new Error("Currently, only 1 year renewals are supported");return await Ve({aptosConfig:t,sender:e.accountAddress.toString(),data:{function:`${a}::router::renew_domain`,functionArguments:[p,u]},options:s})}function Ho(r){return{...r,expiration_timestamp:new Date(r.expiration_timestamp).valueOf()}}var Vo=class{constructor(t){this.config=t}async getOwnerAddress(t){return il({aptosConfig:this.config,...t})}async getExpiration(t){return xc({aptosConfig:this.config,...t})}async getTargetAddress(t){return ul({aptosConfig:this.config,...t})}async setTargetAddress(t){return fl({aptosConfig:this.config,...t})}async getPrimaryName(t){return al({aptosConfig:this.config,...t})}async setPrimaryName(t){return cl({aptosConfig:this.config,...t})}async registerName(t){return sl({aptosConfig:this.config,...t})}async renewDomain(t){return hl({aptosConfig:this.config,...t})}async getName(t){return dl({aptosConfig:this.config,...t})}async getAccountNames(t){return ll({aptosConfig:this.config,...t})}async getAccountDomains(t){return pl({aptosConfig:this.config,...t})}async getAccountSubdomains(t){return gl({aptosConfig:this.config,...t})}async getDomainSubdomains(t){return yl({aptosConfig:this.config,...t})}};async function ml(r){let{aptosConfig:t,poolAddress:e}=r,n=N.from(e).toStringLong(),s=await Ae({aptosConfig:t,query:{query:Ea,variables:{where_condition:{pool_address:{_eq:n}}}}});return s.num_active_delegator_per_pool[0]?s.num_active_delegator_per_pool[0].num_active_delegator:0}async function Al(r){let{aptosConfig:t,options:e}=r,n={query:Ea,variables:{order_by:e?.orderBy}};return(await Ae({aptosConfig:t,query:n})).num_active_delegator_per_pool}async function xl(r){let{aptosConfig:t,delegatorAddress:e,poolAddress:n}=r,o={query:Lu,variables:{delegatorAddress:N.from(e).toStringLong(),poolAddress:N.from(n).toStringLong()}};return(await Ae({aptosConfig:t,query:o})).delegated_staking_activities}var Qo=class{constructor(t){this.config=t}async getNumberOfDelegators(t){return await Ce({config:this.config,minimumLedgerVersion:t?.minimumLedgerVersion,processorTypes:["stake_processor"]}),ml({aptosConfig:this.config,...t})}async getNumberOfDelegatorsForAllPools(t){return await Ce({config:this.config,minimumLedgerVersion:t?.minimumLedgerVersion,processorTypes:["stake_processor"]}),Al({aptosConfig:this.config,...t})}async getDelegatedStakingActivities(t){return await Ce({config:this.config,minimumLedgerVersion:t?.minimumLedgerVersion,processorTypes:["stake_processor"]}),xl({aptosConfig:this.config,...t})}};var Wo=class{constructor(t){this.config=t}async getTransactions(t){return ff({aptosConfig:this.config,...t})}async getTransactionByVersion(t){return df({aptosConfig:this.config,...t})}async getTransactionByHash(t){return Ki({aptosConfig:this.config,...t})}async isPendingTransaction(t){return lf({aptosConfig:this.config,...t})}async waitForTransaction(t){return Kn({aptosConfig:this.config,...t})}async getGasPriceEstimation(){return Fi({aptosConfig:this.config})}getSigningMessage(t){return Dd(t)}};var As=()=>Math.floor(Date.now()/1e3),jo=class{constructor(t,e,n,o,s){this.lastUncommintedNumber=null;this.currentNumber=null;this.lock=!1;this.aptosConfig=t,this.account=e,this.maxWaitTime=n,this.maximumInFlight=o,this.sleepTime=s}async nextSequenceNumber(){for(;this.lock;)await Lr(this.sleepTime);this.lock=!0;let t=BigInt(0);try{if((this.lastUncommintedNumber===null||this.currentNumber===null)&&await this.initialize(),this.currentNumber-this.lastUncommintedNumber>=this.maximumInFlight){await this.update();let e=As();for(;this.currentNumber-this.lastUncommintedNumber>=this.maximumInFlight;)await Lr(this.sleepTime),As()-e>this.maxWaitTime?(console.warn(`Waited over 30 seconds for a transaction to commit, resyncing ${this.account.accountAddress.toString()}`),await this.initialize()):await this.update()}t=this.currentNumber,this.currentNumber+=BigInt(1)}catch(e){console.error("error in getting next sequence number for this account",e)}finally{this.lock=!1}return t}async initialize(){let{sequence_number:t}=await Jt({aptosConfig:this.aptosConfig,accountAddress:this.account.accountAddress});this.currentNumber=BigInt(t),this.lastUncommintedNumber=BigInt(t)}async update(){let{sequence_number:t}=await Jt({aptosConfig:this.aptosConfig,accountAddress:this.account.accountAddress});return this.lastUncommintedNumber=BigInt(t),this.lastUncommintedNumber}async synchronize(){if(this.lastUncommintedNumber!==this.currentNumber){for(;this.lock;)await Lr(this.sleepTime);this.lock=!0;try{await this.update();let t=As();for(;this.lastUncommintedNumber!==this.currentNumber;)As()-t>this.maxWaitTime?(console.warn(`Waited over 30 seconds for a transaction to commit, resyncing ${this.account.accountAddress.toString()}`),await this.initialize()):(await Lr(this.sleepTime),await this.update())}catch(t){console.error("error in synchronizing this account sequence number with the one on chain",t)}finally{this.lock=!1}}}};var no=class{constructor(){this.queue=[];this.pendingDequeue=[];this.cancelled=!1}enqueue(t){if(this.cancelled=!1,this.pendingDequeue.length>0){this.pendingDequeue.shift()?.resolve(t);return}this.queue.push(t)}async dequeue(){return this.queue.length>0?Promise.resolve(this.queue.shift()):new Promise((t,e)=>{this.pendingDequeue.push({resolve:t,reject:e})})}isEmpty(){return this.queue.length===0}cancel(){this.cancelled=!0,this.pendingDequeue.forEach(async({reject:t})=>{t(new oo("Task cancelled"))}),this.pendingDequeue=[],this.queue.length=0}isCancelled(){return this.cancelled}pendingDequeueLength(){return this.pendingDequeue.length}},oo=class extends Error{};var bl="fulfilled",Yo=class{constructor(t,e,n=30,o=100,s=10){this.taskQueue=new no;this.transactionsQueue=new no;this.outstandingTransactions=new no;this.sentTransactions=[];this.executedTransactions=[];this.aptosConfig=t,this.account=e,this.started=!1,this.accountSequnceNumber=new jo(t,e,n,o,s)}async submitNextTransaction(){try{for(;;){if(this.transactionsQueue.isEmpty())return;let t=await this.accountSequnceNumber.nextSequenceNumber();if(t===null)return;let e=await this.generateNextTransaction(this.account,t);if(!e)return;let n=qo({aptosConfig:this.aptosConfig,transaction:e,signer:this.account});await this.outstandingTransactions.enqueue([n,t])}}catch(t){if(t instanceof oo)return;throw new Error(`Submit transaction failed for ${this.account.accountAddress.toString()} with error ${t}`)}}async processTransactions(){try{for(;;){let t=[],e=[],[n,o]=await this.outstandingTransactions.dequeue();for(t.push(n),e.push(o);!this.outstandingTransactions.isEmpty();)[n,o]=await this.outstandingTransactions.dequeue(),t.push(n),e.push(o);let s=await Promise.allSettled(t);for(let a=0;a<s.length&&a<e.length;a+=1){let u=s[a];o=e[a],u.status===bl?(this.sentTransactions.push([u.value.hash,o,null]),await this.checkTransaction(u,o)):this.sentTransactions.push([u.status,o,u.reason])}}}catch(t){if(t instanceof oo)return;throw new Error(`Process execution failed for ${this.account.accountAddress.toString()} with error ${t}`)}}async checkTransaction(t,e){try{let n=[];n.push(Kn({aptosConfig:this.aptosConfig,transactionHash:t.value.hash}));let o=await Promise.allSettled(n);for(let s=0;s<o.length;s+=1){let a=o[s];a.status===bl?this.executedTransactions.push([a.value.hash,e,null]):this.executedTransactions.push([a.status,e,a.reason])}}catch(n){throw new Error(`Check transaction failed for ${this.account.accountAddress.toString()} with error ${n}`)}}async push(t,e){await this.transactionsQueue.enqueue([t,e])}async generateNextTransaction(t,e){if(this.transactionsQueue.isEmpty())return;let[n,o]=await this.transactionsQueue.dequeue();return await Ve({aptosConfig:this.aptosConfig,sender:t.accountAddress,data:n,options:{...o,accountSequenceNumber:e}})}async run(){try{for(;!this.taskQueue.isCancelled();)await(await this.taskQueue.dequeue())()}catch(t){throw new Error(`Unable to start transaction batching: ${t}`)}}start(){if(this.started)throw new Error("worker has already started");this.started=!0,this.taskQueue.enqueue(()=>this.submitNextTransaction()),this.taskQueue.enqueue(()=>this.processTransactions()),this.run()}stop(){if(this.taskQueue.isCancelled())throw new Error("worker has already stopped");this.started=!1,this.taskQueue.cancel()}};var Xo=class{constructor(t){this.config=t}async batchTransactionsForSingleAccount(t){try{let{sender:e,data:n,options:o}=t,s=new Yo(this.config,e);s.start();for(let a of n)await s.push(a,o)}catch(e){throw new Error(`failed to submit transactions with error: ${e}`)}}async signAndSubmitTransaction(t){let{signer:e,transaction:n}=t;return qo({aptosConfig:this.config,signer:e,transaction:n})}async publishPackageTransaction(t){return Gd({aptosConfig:this.config,...t})}async rotateAuthKey(t){return Ld({aptosConfig:this.config,...t})}};var Zo=class{constructor(t){this.config=t}async transaction(t){return Ve({aptosConfig:this.config,...t})}async multiAgentTransaction(t){return Ve({aptosConfig:this.config,...t})}};var Jo=class{constructor(t){this.config=t}transaction(t){return gs({...t})}transactionAsFeePayer(t){let{signer:e,transaction:n}=t;if(!n.feePayerAddress)throw new Error(`Transaction ${n} is not a Fee Payer transaction`);return n.feePayerAddress=e.accountAddress,gs({signer:e,transaction:n})}};var Bn=class{constructor(t){this.config=t}async transaction(t){return yc({aptosConfig:this.config,...t})}async multiAgentTransaction(t){return yc({aptosConfig:this.config,...t})}};mt([wl],Bn.prototype,"transaction",1),mt([wl],Bn.prototype,"multiAgentTransaction",1);function wl(r,t,e){let n=e.value;return e.value=async function(...o){let[s]=o;if(s.transaction.feePayerAddress&&!s.feePayerPublicKey)throw new Error("You are simulating a Fee Payer transaction but missing the feePayerPublicKey");return n.apply(this,o)},e}var On=class{constructor(t){this.config=t}async transaction(t){return ys({aptosConfig:this.config,...t})}async multiAgentTransaction(t){return ys({aptosConfig:this.config,...t})}};mt([Tl],On.prototype,"transaction",1),mt([Tl],On.prototype,"multiAgentTransaction",1);function Tl(r,t,e){let n=e.value;return e.value=async function(...o){let[s]=o;if(s.transaction.feePayerAddress&&!s.feePayerAuthenticator)throw new Error("You are submitting a Fee Payer transaction but missing the feePayerAuthenticator");return n.apply(this,o)},e}var st=class{constructor(t){this.config=new Co(t),this.account=new vo(this.config),this.ans=new Vo(this.config),this.coin=new Do(this.config),this.digitalAsset=new Go(this.config),this.event=new Lo(this.config),this.faucet=new Fo(this.config),this.fungibleAsset=new Ko(this.config),this.general=new $o(this.config),this.staking=new Qo(this.config),this.transaction=new Wo(this.config),this.transactionSubmission=new Xo(this.config),this.build=new Zo(this.config),this.sign=new Jo(this.config),this.simulate=new Bn(this.config),this.submit=new On(this.config)}};function yt(r,t,e){Object.getOwnPropertyNames(t.prototype).forEach(n=>{let o=Object.getOwnPropertyDescriptor(t.prototype,n);o&&(o.value=function(...s){return this[e][n](...s)},Object.defineProperty(r.prototype,n,o))})}yt(st,vo,"account");yt(st,Vo,"ans");yt(st,Do,"coin");yt(st,Go,"digitalAsset");yt(st,Lo,"event");yt(st,Fo,"faucet");yt(st,Ko,"fungibleAsset");yt(st,$o,"general");yt(st,Qo,"staking");yt(st,Wo,"transaction");yt(st,Xo,"transactionSubmission");yt(st,Zo,"build");yt(st,Jo,"sign");yt(st,Bn,"simulate");yt(st,On,"submit");return Rl(Dy);})();
/*! Bundled license information:

@noble/hashes/esm/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@scure/base/lib/esm/index.js:
  (*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/utils.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/modular.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/curve.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/abstract/weierstrass.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/_shortw_utils.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@noble/curves/esm/secp256k1.js:
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)

@scure/bip32/lib/esm/index.js:
  (*! scure-bip32 - MIT License (c) 2022 Patricio Palladino, Paul Miller (paulmillr.com) *)
*/
//# sourceMappingURL=index.global.js.map